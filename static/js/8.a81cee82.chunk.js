(this.webpackJsonpskirmishtome=this.webpackJsonpskirmishtome||[]).push([[8],{102:function(n,e){function t(n){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}t.keys=function(){return[]},t.resolve=t,n.exports=t,t.id=102},120:function(n,e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=t(1),o=t(5),a=function(n){var e,t=n.bgcolor,o=n.completed,a=n.baseBgColor,i=n.height,c=n.width,u=n.margin,l=n.padding,f=n.borderRadius,s=n.labelAlignment,d=n.labelColor,b=n.labelSize,p=n.isLabelVisible,h="left"===(e=s)?"flex-start":"center"===e?"center":"right"===e?"flex-end":null,m={height:i,backgroundColor:a,borderRadius:f,padding:l,width:c,margin:u},g={height:i,width:"string"===typeof o||o>100?"100%":o+"%",backgroundColor:t,transition:"width 1s ease-in-out",borderRadius:"inherit",display:"flex",alignItems:"center",justifyContent:"outside"!==s&&h?h:"normal"},x={padding:"outside"===s?"0 0 0 5px":"5px",color:d,fontWeight:"bold",fontSize:b,display:p?"initial":"none"},v={display:"outside"===s?"flex":"initial",alignItems:"outside"===s?"center":"initial"};return r.createElement("div",{style:v},r.createElement("div",{style:m},r.createElement("div",{style:g},"outside"!==s&&r.createElement("span",{style:x},"number"===typeof o?o+"%":""+o))),"outside"===s&&r.createElement("span",{style:x},"number"===typeof o?o+"%":""+o))};a.propTypes={completed:o.oneOfType([o.string,o.number]).isRequired,bgcolor:o.string,baseBgColor:o.string,height:o.string,width:o.string,borderRadius:o.string,margin:o.string,padding:o.string,labelAlignment:o.oneOf(["left","center","right","outside"]),labelColor:o.string,labelSize:o.string,isLabelVisible:o.bool},a.defaultProps={bgcolor:"#6a1b9a",height:"20px",width:"100%",borderRadius:"50px",labelAlignment:"right",baseBgColor:"#e0e0de",labelColor:"#fff",labelSize:"15px",isLabelVisible:!0},e.default=a},221:function(n,e,t){"use strict";t.r(e);var r=t(3),o=t(15),a=t(1),i=t.n(a),c=t(2),u=t(29),l=t(56),f=t.n(l),s=t(57),d=t(55),b=t(66),p=function(){var n=Object(s.a)(f.a.mark((function n(e,t,r){var o;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=[],Array.isArray(e)||(e=[e]),e.forEach((function(n){Object(b.c)(n)&&o.push(Object(d.n)("talents",n,t))})),n.next=5,Promise.all(o);case 5:r();case 6:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}(),h=function(){var n=Object(s.a)(f.a.mark((function n(e){var t,r,o,a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(d.f)("spells");case 2:t=n.sent,r={spells:t},"application/json;charset=utf-8;",window.navigator&&window.navigator.msSaveOrOpenBlob?(o=new Blob([decodeURIComponent(encodeURI(JSON.stringify(r)))],{type:"application/json;charset=utf-8;"}),navigator.msSaveOrOpenBlob(o,e)):((a=document.createElement("a")).download=e,a.href="data:application/json;charset=utf-8;,"+encodeURIComponent(JSON.stringify(r)),a.target="_blank",document.body.appendChild(a),a.click(),document.body.removeChild(a));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),m=t(85),g=t.n(m),x=t(10),v=t(65),w=t(62),O=t(26),j=t(12);function y(){var n=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  color: ",";\n"]);return y=function(){return n},n}var E=function(n){var e=n.changeData,t=n.reload,r=Object(a.useState)(""),c=Object(o.a)(r,2),u=c[0],l=c[1],f=Object(a.useState)(!1),s=Object(o.a)(f,2),d=s[0],b=s[1],h=Object(a.useState)(),m=Object(o.a)(h,2),j=m[0],y=m[1],E=Object(a.useState)(),C=Object(o.a)(E,2),S=C[0],A=C[1],N=Object(a.useState)(new g.a(void 0,{host:"peerjs.thedndtome.com",secure:!0})),I=Object(o.a)(N,1)[0];Object(a.useEffect)((function(){var n=I.connect(u);n.on("open",(function(){n.on("error",(function(n){y(n)})),n.on("data",(function(n){console.log(n),A(n),e(n),t(!0)}))}))}),[I,u,e,t]);return i.a.createElement(i.a.Fragment,null,!!d&&i.a.createElement(O.b,null),i.a.createElement(v.a,{value:u,label:"ID to recive from",onChange:function(n){return l(n)}}),j&&i.a.createElement(k,{icon:x.m}),void 0!==S&&""!==u&&i.a.createElement(i.a.Fragment,null,i.a.createElement(w.a,{text:"Accept",icon:x.e,onClick:function(){void 0!==S&&(b(!0),p(S,"recived",(function(){l(""),e(void 0),t(!0),b(!1),A(void 0)})))}}),i.a.createElement(w.a,{text:"Decline",icon:x.e,onClick:function(){return l(""),e(void 0),t(!0),b(!1),void A(void 0)}})))},k=Object(c.b)(j.a)(y(),(function(n){return n.theme.main.highlight})),C=t(69),S=t(60),A=t(87),N=t(34),I=t(19);function F(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  min-width: calc(100% - 20px);\n  font-weight: bold;\n  text-algin: center;\n  border-radius: 5px;\n  color: ",";\n  background-color: ",";\n"]);return F=function(){return n},n}function R(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n  display: inline-block;\n  text-decoration: none;\n  background-color: ",";\n  height: 28px;\n  border: none;\n  border-radius: 5px;\n  padding-left: 10px;\n  padding-right: 10px;\n  margin: 5px;\n  text-align: center;\n  font-family: inherit;\n  font-size: 14px;\n  color: ",";\n  cursor: pointer;\n  line-height: 26px;\n"]);return R=function(){return n},n}function T(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n  color: ",";\n  background-color: ",";\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ",";\n  overflow: hidden;\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return T=function(){return n},n}function L(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return L=function(){return n},n}var z=function(){var n=Object(N.b)(),e=n.theme,t=n.setTheme;return i.a.createElement(q,null,i.a.createElement(B,null,i.a.createElement(U,null,"Theme"),i.a.createElement(D,{onClick:function(){e===I.a?(t(I.b),localStorage.setItem("theme","light")):(t(I.a),localStorage.setItem("theme","dark"))}},"Toggle Style")))},q=c.b.div(L()),B=Object(c.b)(q)(T(),(function(n){return n.theme.tile.color}),(function(n){return n.theme.tile.backgroundColor}),(function(n){return n.theme.tile.boxShadow})),D=c.b.button(R(),(function(n){return n.theme.buttons.backgroundColor}),(function(n){return n.theme.buttons.color})),U=c.b.div(F(),(function(n){return n.theme.input.color}),(function(n){return n.theme.input.backgroundColor})),J=t(97);function M(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return M=function(){return n},n}function _(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n  margin: 5px;\n  min-width: calc(100% - 10px);\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  align-content: flex-start;\n"]);return _=function(){return n},n}function P(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  min-width: calc(100% - 20px);\n  font-weight: bold;\n  text-algin: center;\n  border-radius: 5px;\n  color: ",";\n  background-color: ",";\n"]);return P=function(){return n},n}function V(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n  color: ",";\n  background-color: ",";\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ",";\n  overflow: hidden;\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return V=function(){return n},n}function G(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return G=function(){return n},n}function W(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return W=function(){return n},n}var Y=function(n){var e=n.amount,t=n.triggerDeleteAll,r=Object(a.useState)(!1),c=Object(o.a)(r,2),l=c[0],f=c[1];return i.a.createElement(K,null,i.a.createElement(Q,null,i.a.createElement(X,null,"Export"),i.a.createElement(Z,null,i.a.createElement($,null,"Export all Talents?"),i.a.createElement(S.a,{icon:x.o,onClick:function(){return n="talents",e="SkirmishTome_talents.json",void Object(d.d)(n,(function(t){var r=Object(u.a)({},n,t);if(window.navigator&&window.navigator.msSaveOrOpenBlob){var o=new Blob([decodeURIComponent(encodeURI(JSON.stringify(r)))],{type:"application/json;charset=utf-8;"});navigator.msSaveOrOpenBlob(o,e)}else{var a=document.createElement("a");a.download=e,a.href="data:application/json;charset=utf-8;,"+encodeURIComponent(JSON.stringify(r)),a.target="_blank",document.body.appendChild(a),a.click(),document.body.removeChild(a)}}));var n,e}}))),i.a.createElement(Q,null,i.a.createElement(X,null,"Delete"),i.a.createElement(Z,null,i.a.createElement($,null,"Delete all ",e," Talents?"),i.a.createElement(S.a,{icon:x.D,onClick:function(){return t("talents")}}))),i.a.createElement(Q,null,!l&&i.a.createElement(w.a,{text:"Send all talents",icon:x.u,onClick:function(){return f(!0)}}),!!l&&i.a.createElement(J.a,{data:"talents",mode:"ALL"})))},H=c.b.div(W()),K=Object(c.b)(H)(G()),Q=Object(c.b)(H)(V(),(function(n){return n.theme.tile.color}),(function(n){return n.theme.tile.backgroundColor}),(function(n){return n.theme.tile.boxShadow})),X=c.b.div(P(),(function(n){return n.theme.input.color}),(function(n){return n.theme.input.backgroundColor})),Z=c.b.div(_()),$=c.b.div(M());function nn(){var n=Object(r.a)(["\n  flex: 3 1 auto;\n  height: 38px;\n  line-height: 30px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ",";\n  color: ",";\n  margin-left: 5px;\n  border-radius: 5px;\n"]);return nn=function(){return n},n}function en(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return en=function(){return n},n}function tn(){var n=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return tn=function(){return n},n}function rn(){var n=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 38px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return rn=function(){return n},n}var on,an=function(n){var e=n.label,t=n.accept,r=n.isMulti,o=n.icon,a=n.transform,c=n.onChange;return i.a.createElement(cn,null,i.a.createElement(ln,null,o?i.a.createElement(un,{icon:o,transform:a}):""," ",e),r&&i.a.createElement(fn,{onChange:function(n){return c(n.target.files)},type:"file",accept:t,multiple:!0}),!r&&i.a.createElement(fn,{onChange:function(n){return c(n.target.files)},accept:t,type:"file"}))},cn=c.b.label(rn(),(function(n){return n.theme.tile.color}),(function(n){return n.theme.tile.backgroundColor})),un=Object(c.b)(j.a)(tn(),(function(n){return n.theme.main.highlight})),ln=c.b.div(en()),fn=c.b.input(nn(),(function(n){return n.theme.input.backgroundColor}),(function(n){return n.theme.input.color})),sn=t(120),dn=t.n(sn);function bn(){var n=Object(r.a)(["\n  width: clac(100% - 20px);\n  height: 50px;\n  padding: 10px;\n"]);return bn=function(){return n},n}function pn(){var n=Object(r.a)(["\n  flex: 1 1 100%;\n"]);return pn=function(){return n},n}!function(n){n[n.NORMAL=0]="NORMAL"}(on||(on={}));var hn=function(n){var e=n.modus,t=Object(a.useState)([]),r=Object(o.a)(t,2),c=r[0],u=r[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(gn,null,i.a.createElement(an,{label:"",isMulti:!0,accept:".json",icon:x.p,onChange:function(n){return function(n){if(console.log("Start File Upload"),null!==n){var e=Array.from(n);u(e)}}(n)}})),i.a.createElement(gn,null,c&&c.map((function(n,t){return i.a.createElement(mn,{key:t,modus:e,file:n})}))))},mn=function(n){var e=n.file,t=n.modus,r=Object(a.useState)(0),c=Object(o.a)(r,2),u=c[0],l=c[1],b=Object(a.useState)(0),p=Object(o.a)(b,2),h=p[0],m=p[1],g=function(){var n=Object(s.a)(f.a.mark((function n(e,r){var a,i,c,u,s,b;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(console.log("Start 5eTools Json interpreting "+r),a=[],i=0,c=function(){var n=Object(o.a)(s[u],2),e=n[0],r=n[1];Array.isArray(r)&&(i+=r.length,t===on.NORMAL&&r.forEach((function(n){return a.push({tableName:e,newEntitiy:n})})))},u=0,s=Object.entries(e);u<s.length;u++)c();m(i),b=f.a.mark((function n(){var e,t;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=a[0].tableName,t=a.filter((function(n){return n.tableName===e})).map((function(n){return n.newEntitiy})),n.next=4,Object(d.o)(e,t,r);case 4:a=a.filter((function(n){return n.tableName!==e})),l(i-a.length);case 6:case"end":return n.stop()}}),n)}));case 7:if(!(a.length>0)){n.next=11;break}return n.delegateYield(b(),"t0",9);case 9:n.next=7;break;case 11:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();return Object(a.useEffect)((function(){console.log("Start Filereader "+e.name);var n=new FileReader;n.onloadend=function(){var t=n.result;if(null!==t){var r=JSON.parse(t.toString());console.log("Json loaded from "+e.name),g(r,e.name)}},n.readAsText(e)}),[e]),i.a.createElement(xn,null,e.name," ",u,"/",h,i.a.createElement(dn.a,{completed:Math.round(u/h*100),isLabelVisible:!1,bgcolor:"#F55C5C",height:"5px",margin:"5px"}))},gn=c.b.div(pn()),xn=c.b.div(bn());function vn(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  min-width: calc(100% - 20px);\n  font-weight: bold;\n  text-algin: center;\n  border-radius: 5px;\n  color: ",";\n  background-color: ",";\n"]);return vn=function(){return n},n}function wn(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n  color: ",";\n  background-color: ",";\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ",";\n  overflow: hidden;\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return wn=function(){return n},n}function On(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return On=function(){return n},n}var jn=function(){var n=Object(a.useState)(localStorage.getItem("webhook")+""),e=Object(o.a)(n,2),t=e[0],r=e[1],c=Object(a.useState)(localStorage.getItem("webhook_user")+""),u=Object(o.a)(c,2),l=u[0],f=u[1];return Object(a.useEffect)((function(){t!==localStorage.getItem("webhook")&&localStorage.setItem("webhook",t)}),[t]),Object(a.useEffect)((function(){l!==localStorage.getItem("webhook_user")&&localStorage.setItem("webhook_user",l)}),[l]),i.a.createElement(yn,null,i.a.createElement(En,null,i.a.createElement(kn,null,"Discord Webhook"),i.a.createElement(v.a,{value:l,label:"PlayerName",onChange:f}),i.a.createElement(v.a,{value:t,label:"Webhook",onChange:r})))},yn=c.b.div(On()),En=Object(c.b)(yn)(wn(),(function(n){return n.theme.tile.color}),(function(n){return n.theme.tile.backgroundColor}),(function(n){return n.theme.tile.boxShadow})),kn=c.b.div(vn(),(function(n){return n.theme.input.color}),(function(n){return n.theme.input.backgroundColor}));function Cn(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return Cn=function(){return n},n}function Sn(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n  margin: 5px;\n  min-width: calc(100% - 10px);\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  align-content: flex-start;\n"]);return Sn=function(){return n},n}function An(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  min-width: calc(100% - 20px);\n  font-weight: bold;\n  text-algin: center;\n  border-radius: 5px;\n  color: ",";\n  background-color: ",";\n"]);return An=function(){return n},n}function Nn(){var n=Object(r.a)(["\n  width: calc(100% - 1em);\n"]);return Nn=function(){return n},n}function In(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n  color: ",";\n  background-color: ",";\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ",";\n  overflow: hidden;\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return In=function(){return n},n}function Fn(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return Fn=function(){return n},n}function Rn(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return Rn=function(){return n},n}e.default=function(){var n=Object(a.useState)("General"),e=Object(o.a)(n,2),t=e[0],r=e[1],c=Object(a.useState)(0),u=Object(o.a)(c,2),l=u[0],f=u[1],s=Object(a.useState)(!0),p=Object(o.a)(s,2),m=p[0],g=p[1],v=Object(a.useState)(),w=Object(o.a)(v,2),O=w[0],j=w[1];Object(a.useEffect)((function(){m&&(Object(d.h)("talents",(function(n){f(n)})),g(!1))}),[m]);var y=function(n,e){return Object(b.c)(n)?i.a.createElement(A.a,{key:e,talent:n}):i.a.createElement(zn,{key:e},n.name)};return i.a.createElement(i.a.Fragment,null,i.a.createElement(zn,null,i.a.createElement(Bn,null,"Import"),i.a.createElement(hn,{modus:on.NORMAL})),i.a.createElement(zn,null,i.a.createElement(Bn,null,"Export"),i.a.createElement(Dn,null,i.a.createElement(Un,null,"Export as one file?"),i.a.createElement(S.a,{icon:x.o,onClick:function(){return h("SkirmishTome_all.json")}}))),i.a.createElement(C.a,{children:["General","Talents","Discord","Receive"],onChange:function(n){return r(n)},activeTab:t}),"General"===t&&i.a.createElement(z,null),"Talents"===t&&i.a.createElement(Y,{amount:l,triggerDeleteAll:function(n){Object(d.b)(n),g(!0)}}),"Discord"===t&&i.a.createElement(jn,null),"Receive"===t&&i.a.createElement(Ln,null,i.a.createElement(qn,null,i.a.createElement(E,{reload:g,changeData:j})),void 0!==O&&Array.isArray(O)&&O.map((function(n,e){return y(n,e)})),void 0!==O&&!Array.isArray(O)&&y(O,0)))};var Tn=c.b.div(Rn()),Ln=Object(c.b)(Tn)(Fn()),zn=Object(c.b)(Tn)(In(),(function(n){return n.theme.tile.color}),(function(n){return n.theme.tile.backgroundColor}),(function(n){return n.theme.tile.boxShadow})),qn=Object(c.b)(zn)(Nn()),Bn=c.b.div(An(),(function(n){return n.theme.input.color}),(function(n){return n.theme.input.backgroundColor})),Dn=c.b.div(Sn()),Un=c.b.div(Cn())},55:function(n,e,t){"use strict";t.d(e,"p",(function(){return s})),t.d(e,"n",(function(){return d})),t.d(e,"o",(function(){return b})),t.d(e,"m",(function(){return p})),t.d(e,"d",(function(){return h})),t.d(e,"h",(function(){return m})),t.d(e,"i",(function(){return g})),t.d(e,"k",(function(){return x})),t.d(e,"j",(function(){return v})),t.d(e,"l",(function(){return w})),t.d(e,"f",(function(){return O})),t.d(e,"e",(function(){return y})),t.d(e,"g",(function(){return E})),t.d(e,"a",(function(){return k})),t.d(e,"b",(function(){return C})),t.d(e,"c",(function(){return S}));var r=t(56),o=t.n(r),a=t(27),i=t(57),c=t(61),u=t(73),l=t(72),f=function(n){Object(u.a)(t,n);var e=Object(l.a)(t);function t(){var n;return Object(c.a)(this,t),(n=e.call(this,"SkirmishTomeDB")).randomTables=void 0,n.talents=void 0,n.version(1).stores({talents:"++id, name, isFlaw, cost, prerequisite, effect, type, stress",randomTables:"++id, name, rows, header, filename"}),n.talents=n.table("talents"),n.randomTables=n.table("randomTables"),n}return t}(t(68).a),s=function(n,e,t){var r=new f;r.open().then((function(){r.table(n).update(e.id,e).then((function(n){t(n)}))})).finally((function(){r.close()}))},d=function(n,e,t){var r=new f;return r.open().then(Object(i.a)(o.a.mark((function i(){var c;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return delete e.id,o.next=3,r.table(n).put(Object(a.a)(Object(a.a)({},e),{},{filename:t}));case 3:return c=o.sent,o.abrupt("return",c);case 5:case"end":return o.stop()}}),i)})))).finally((function(){r.close()}))},b=function(n,e,t){var r=new f;r.open().then(Object(i.a)(o.a.mark((function i(){var c,u;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return c=e.map((function(n){return delete n.id,Object(a.a)(Object(a.a)({},n),{},{filename:t})})),o.next=3,r.table(n).bulkPut(c);case 3:return u=o.sent,o.abrupt("return",u);case 5:case"end":return o.stop()}}),i)})))).finally((function(){r.close()}))},p=function(n,e){var t=new f;void 0!==e&&t.open().then((function(){t.table(n).delete(e)})).finally((function(){t.close()}))},h=function(n,e){var t=new f;t.open().then((function(){t.table(n).toArray().then((function(n){e(n)}))})).finally((function(){t.close()}))},m=function(n,e){var t=new f;t.open().then((function(){t.table(n).count((function(n){e(n)}))})).finally((function(){t.close()}))},g=function(n){var e=new f;return e.open().then((function(){return e.table(n).count()})).finally((function(){e.close()}))},x=function(n,e,t){var r=new f;return r.open().then(Object(i.a)(o.a.mark((function a(){var i;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,r.table(n).where(e).equalsIgnoreCase(t).toArray();case 2:return i=o.sent,o.abrupt("return",i[0]);case 4:case"end":return o.stop()}}),a)})))).finally((function(){r.close()}))},v=function(n,e){var t=new f;return t.open().then(Object(i.a)(o.a.mark((function r(){return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.table(n).get(e);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))).finally((function(){t.close()}))},w=function(n,e,t){var r=new f;return"string"===typeof t?r.open().then(Object(i.a)(o.a.mark((function a(){return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,r.table(n).where(e).equalsIgnoreCase(t).count();case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}}),a)})))).finally((function(){r.close()})):"number"===typeof t?r.open().then(Object(i.a)(o.a.mark((function a(){return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,r.table(n).where(e).equals(t).count();case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}}),a)})))).finally((function(){r.close()})):r.open().then(Object(i.a)(o.a.mark((function a(){return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,r.table(n).where(e).equalsIgnoreCase(""+t).count();case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}}),a)})))).finally((function(){r.close()}))},O=function(n){var e=new f;return e.open().then(Object(i.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.table(n).toArray();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).finally((function(){e.close()}))},j=function(n,e){var t=[];e.forEach((function(e){if("string"===typeof e.value)if(n[e.fieldName]instanceof Array){var r=!1;n[e.fieldName].forEach((function(n){n.toLowerCase().includes(e.value.toLowerCase())&&(r=!0)})),r?t.push(!0):t.push(!1)}else t.push(n[e.fieldName].toLowerCase().includes(e.value.toLowerCase()));else if("number"===typeof e.value)t.push(n[e.fieldName]===e.value);else if("boolean"===typeof e.value)t.push(n[e.fieldName]===e.value);else if(e.value instanceof Array){var o=!1;e.value.forEach((function(t){"string"===typeof t?n[e.fieldName].toLowerCase().includes(t.toLowerCase())&&(o=!0):"number"===typeof t?n[e.fieldName]===t&&(o=!0):"boolean"===typeof t&&n[e.fieldName]===t&&(o=!0)})),t.push(o)}}));var r=!0;return t.forEach((function(n){n||(r=!1)})),r},y=function(n,e,t){var r=new f;r.open().then((function(){var o="name",a=!1;e.forEach((function(n){0!==n.sort&&(o=n.fieldName,2===n.sort&&(a=!0))})),a?r.table(n).filter((function(n){return j(n,e)})).reverse().sortBy(o).then((function(n){t(n)})):r.table(n).filter((function(n){return j(n,e)})).sortBy(o).then((function(n){t(n)}))})).finally((function(){r.close()}))},E=function(n,e){var t=new f;return t.open().then((function(){return t.table(n).orderBy(e).uniqueKeys()})).finally((function(){t.close()}))},k=function(n,e,t){var r=new f;r.open().then((function(){r.table(n).put(e).then((function(n){t(n)}))})).finally((function(){r.close()}))},C=function(n){var e=new f;e.open().then((function(){e.table(n).clear()})).finally((function(){e.close()}))},S=function(n,e,t){y(n,e,(function(n){if(window.navigator&&window.navigator.msSaveOrOpenBlob){var e=new Blob([decodeURIComponent(encodeURI(JSON.stringify(n)))],{type:"application/json;charset=utf-8;"});navigator.msSaveOrOpenBlob(e,t)}else{var r=document.createElement("a");r.download=t,r.href="data:application/json;charset=utf-8;,"+encodeURIComponent(JSON.stringify(n)),r.target="_blank",document.body.appendChild(r),r.click(),document.body.removeChild(r)}}))}},60:function(n,e,t){"use strict";var r=t(3),o=t(1),a=t.n(o),i=t(2),c=t(12);function u(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return u=function(){return n},n}function l(){var n=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  cursor: not-allowed;\n"]);return l=function(){return n},n}function f(){var n=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  cursor: pointer;\n\n  font-size: 16px;\n  overflow: hidden;\n  height: ",";\n  line-height: ",";\n  float: ",";\n  padding: 10px;\n  margin: 5px;\n  border-radius: 10px;\n  box-shadow: inset -2px -2px 5px 0px rgba(0, 0, 0, 0.3);\n\n  transition: color 0.2s;\n\n  &:hover {\n    color: white;\n  }\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n"]);return f=function(){return n},n}e.a=function(n){var e=n.icon,t=n.floatLeft,r=n.disabled,o=n.transform,i=n.style,c=n.onClick;return a.a.createElement(a.a.Fragment,null,!r&&a.a.createElement(s,{left:t,onClick:c,style:i},a.a.createElement(b,{icon:e,transform:o})),r&&a.a.createElement(d,{style:i},a.a.createElement(b,{icon:e,transform:o})))};var s=i.b.div(f(),(function(n){return n.theme.buttons.color}),(function(n){return n.theme.buttons.backgroundColor}),(function(n){return n.theme.buttons.height}),(function(n){return n.theme.buttons.height}),(function(n){return n.left?"left":"right"})),d=Object(i.b)(s)(l(),(function(n){return n.theme.buttons.backgroundColor}),(function(n){return n.theme.buttons.color})),b=Object(i.b)(c.a)(u())},62:function(n,e,t){"use strict";var r=t(3),o=t(1),a=t.n(o),i=t(2),c=t(12);function u(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n  margin-right: 5px;\n"]);return u=function(){return n},n}function l(){var n=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  height: ",";\n  line-height: ",";\n  float: right;\n  padding: 10px;\n  margin: 5px;\n  border-radius: 10px;\n  cursor: pointer;\n  box-shadow: inset -2px -2px 5px 0px rgba(0, 0, 0, 0.3);\n  box-sizing: content-box;\n  border: none;\n\n  transition: color 0.2s;\n\n  &:hover {\n    color: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n  }\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n"]);return l=function(){return n},n}e.a=function(n){var e=n.text,t=n.icon,r=n.transform,o=n.disabled,i=n.style,c=n.onClick;return a.a.createElement(f,{onClick:c,disabled:o,style:i},t?a.a.createElement(s,{icon:t,transform:r}):""," ",e)};var f=i.b.button(l(),(function(n){return n.theme.buttons.color}),(function(n){return n.theme.buttons.backgroundColor}),(function(n){return n.theme.buttons.height}),(function(n){return n.theme.buttons.height}),(function(n){return n.theme.buttons.hoverColor}),(function(n){return n.theme.buttons.disabled})),s=Object(i.b)(c.a)(u())},65:function(n,e,t){"use strict";var r=t(3),o=t(1),a=t.n(o),i=t(2),c=t(12);function u(){var n=Object(r.a)(["\n  flex: 3 1 auto;\n  height: 38px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ",";\n  color: ",";\n  margin-left: 5px;\n  border-radius: 5px;\n  width: 0;\n  min-width: 100px;\n"]);return u=function(){return n},n}function l(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return l=function(){return n},n}function f(){var n=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return f=function(){return n},n}function s(){var n=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 30px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return s=function(){return n},n}e.a=function(n){var e=n.value,t=n.label,r=n.placeholder,o=n.icon,i=n.transform,c=n.onChange;return a.a.createElement(d,null,a.a.createElement(p,null,o?a.a.createElement(b,{icon:o,transform:i}):""," ",t),a.a.createElement(h,{type:"text",value:e,onChange:function(n){return c(n.target.value)},placeholder:r}))};var d=i.b.label(s(),(function(n){return n.theme.tile.color}),(function(n){return n.theme.tile.backgroundColor})),b=Object(i.b)(c.a)(f(),(function(n){return n.theme.main.highlight})),p=i.b.div(l()),h=i.b.input(u(),(function(n){return n.theme.input.backgroundColor}),(function(n){return n.theme.input.color}))},66:function(n,e,t){"use strict";t.d(e,"a",(function(){return r})),t.d(e,"b",(function(){return a})),t.d(e,"c",(function(){return i}));var r,o=t(61);!function(n){n.physical="physical",n.mental="mental",n.social="social",n.magical="magical"}(r||(r={}));var a=function n(e,t,a,i,c,u,l,f,s,d,b){Object(o.a)(this,n),this.id=void 0,this.name=void 0,this.category=void 0,this.isFlaw=void 0,this.cost=void 0,this.prerequisite=void 0,this.effect=void 0,this.type=void 0,this.stress=void 0,this.trigger=void 0,this.triggerFrequency=void 0,this.id=e,this.name=t||"",this.category=a||r.magical,this.isFlaw=i||!1,this.cost=c||0,this.prerequisite=u||"",this.effect=l||"",this.type=f||!1,this.stress=s||"",this.trigger=d||"",this.triggerFrequency=b||""};function i(n){var e=void 0!==n.name&&"string"==typeof n.name,t=void 0!==n.cost&&"number"==typeof n.cost,r=void 0!==n.isFlaw&&"boolean"==typeof n.isFlaw,o=void 0!==n.prerequisite&&"string"==typeof n.prerequisite,a=void 0!==n.effect&&"string"==typeof n.effect,i=void 0!==n.type&&"boolean"==typeof n.type,c=void 0!==n.stress&&"string"==typeof n.stress,u=void 0!==n.trigger&&"string"==typeof n.trigger,l=void 0!==n.triggerFrequency&&"string"==typeof n.triggerFrequency;return n&&e&&t&&r&&o&&a&&i&&c&&u&&l}},69:function(n,e,t){"use strict";var r=t(3),o=t(1),a=t.n(o),i=t(2);function c(){var n=Object(r.a)(["\n  flex: 3 1 auto;\n  height: 30px;\n  line-height: 20px;\n  padding: 5px;\n  box-sizing: border-box;\n  text-align: center;\n  border: none;\n  background-color: ",";\n  color: ",";\n  margin: 2px;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: background-color 0.2s;\n\n  &:hover {\n    background-color: ",";\n    color: ",";\n  }\n\n  ","\n"]);return c=function(){return n},n}function u(){var n=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  min-width: calc(100% - 20px);\n  flex: 1 1 auto;\n  padding: 3px;\n  margin: 5px;\n  border-radius: 10px;\n  position: relative;\n  z-index: 100;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: baseline;\n"]);return u=function(){return n},n}e.a=function(n){var e=n.children,t=n.activeTab,r=n.onChange;return a.a.createElement(l,null,e.map((function(n,e){return a.a.createElement(f,{key:e,onClick:function(e){return r(n)},isActive:n===t},n)})))};var l=i.b.div(u(),(function(n){return n.theme.tile.color}),(function(n){return n.theme.tile.backgroundColor})),f=i.b.div(c(),(function(n){return n.theme.input.backgroundColor}),(function(n){return n.theme.input.color}),(function(n){return n.theme.buttons.backgroundColor}),(function(n){return n.theme.buttons.color}),(function(n){if(n.isActive)return"background-color: ".concat(n.theme.buttons.backgroundColor,"; \n      color: ").concat(n.theme.buttons.color,";")}))},87:function(n,e,t){"use strict";var r=t(3),o=t(1),a=t.n(o),i=t(11),c=t(2);function u(){var n=Object(r.a)(["\n  margin: 0 0 5px 0px;\n  width: calc(100% - 20px);\n"]);return u=function(){return n},n}function l(){var n=Object(r.a)(["\n  height: 12px;\n  width: calc(50% - 22.5px);\n  margin: 0 0 5px 5px;\n  float: left;\n  line-height: 10px;\n  padding: 10px;\n  font-size: 12px;\n  border-radius: 5px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n\n  &:nth-child(odd) {\n  margin: 0 0 5px 0px;\n  }\n}\n"]);return l=function(){return n},n}function f(){var n=Object(r.a)(["\n  height: auto;\n  width: calc(100% - 10px);\n  float: left;\n  padding: 5px 5px 0 5px;\n  display: flex;\n  flex-wrap: wrap;\n"]);return f=function(){return n},n}function s(){var n=Object(r.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 0 5px 5px 5px;\n  font-size: 14px;\n  width: calc(100% - 30px);\n  color: ",";\n  text-align: center;\n  border-radius: 5px;\n"]);return s=function(){return n},n}function d(){var n=Object(r.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  width: 20px;\n  height: 20px;\n  line-height: 20px;\n  float: right;\n  text-align: center;\n  border-top-right-radius: 3px;\n  border-radius: 30px;\n  border-bottom: solid 1px ",";\n  margin: 5px;\n"]);return d=function(){return n},n}function b(){var n=Object(r.a)(["\n  flex: 1 1 15em;\n  color: ",";\n  ","\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ",";\n  overflow: hidden;\n  cursor: pointer;\n"]);return b=function(){return n},n}e.a=function(n){var e=n.talent;return a.a.createElement(p,{to:"/talent-detail/id/"+e.id,isFlaw:e.isFlaw},a.a.createElement(h,null,a.a.createElement("b",null,e.cost)),a.a.createElement(m,null,a.a.createElement("b",null,e.name)),a.a.createElement(g,null,a.a.createElement(x,null,e.type?e.stress:"Passive"),a.a.createElement(v,null,e.prerequisite)))};var p=Object(c.b)(i.b)(b(),(function(n){return n.theme.tile.color}),(function(n){return n.isFlaw?"background-color: ".concat(n.theme.input.backgroundColor,";"):n.isFlaw?"":"background-color: ".concat(n.theme.tile.backgroundColor,";")}),(function(n){return n.theme.tile.boxShadow})),h=c.b.div(d(),(function(n){return n.theme.main.highlight})),m=c.b.div(s(),(function(n){return n.theme.tile.headerColor})),g=c.b.div(f()),x=c.b.div(l()),v=Object(c.b)(x)(u())},97:function(n,e,t){"use strict";var r=t(3),o=t(15),a=t(1),i=t.n(a),c=t(2),u=t(85),l=t.n(u),f=t(55),s=t(10),d=t(65),b=t(12);function p(){var n=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  color: ",";\n"]);return p=function(){return n},n}e.a=function(n){var e=n.data,t=n.mode,r=Object(a.useState)(""),c=Object(o.a)(r,2),u=c[0],b=c[1],p=Object(a.useState)(),m=Object(o.a)(p,2),g=m[0],x=m[1],v=Object(a.useState)(),w=Object(o.a)(v,2),O=w[0],j=w[1];return Object(a.useEffect)((function(){if(void 0===g){var n=function(){for(var n,e,t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;o<13;o++)t+=r[(n=0,e=r.length-1,Math.floor(Math.random()*(e-n+1))+n)];return t}(),t=new l.a(n,{host:"peerjs.thedndtome.com",secure:!0});console.log(t),t.on("connection",(function(n){n.on("error",(function(n){j(n)})),n.on("open",(function(){n.send(e)}))})),x(t)}}),[e,g]),Object(a.useEffect)((function(){void 0!==g&&(g.disconnected&&!g.destroyed&&g.reconnect(),"ALL"===t&&"string"===typeof e?Object(f.f)(e).then((function(n){console.log(n),b(e),g.on("connection",(function(e){e.on("error",(function(n){j(n)})),e.on("open",(function(){e.send(n)}))}))})):"THIS"===t&&"string"!==typeof e&&(b(e.name),g.on("connection",(function(n){n.on("error",(function(n){j(n)})),n.on("open",(function(){n.send(e)}))}))))}),[e,t,g]),i.a.createElement(i.a.Fragment,null,void 0!==g&&null!==g.id&&i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,{value:g.id,label:"Your ".concat(u," ID:"),onChange:function(){}})),O&&i.a.createElement(h,{icon:s.m}))};var h=Object(c.b)(b.a)(p(),(function(n){return n.theme.main.highlight}))}}]);
//# sourceMappingURL=8.a81cee82.chunk.js.map