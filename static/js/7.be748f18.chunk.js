(this.webpackJsonpskirmishtome=this.webpackJsonpskirmishtome||[]).push([[7],{100:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var r,a=t(22);!function(e){e.Slave="Slave",e.Outlore="Outlore",e.Worker="Worker",e.Scolar="Scolar",e.Noble="Noble",e.Knight="Knight",e.Royal="Royal"}(r||(r={}));var o=function e(n,t,o,c,l,i){Object(a.a)(this,e),this.id=void 0,this.name=void 0,this.caste=void 0,this.skills=void 0,this.group=void 0,this.talent=void 0,this.id=n,this.name=t||"",this.caste=o||r.Slave,this.skills=c||[],this.group=l||"",this.talent=i};o.makeCsv=function(e){return[e.id]}},231:function(e,n,t){"use strict";t.r(n);var r=t(3),a=t(8),o=t(1),c=t.n(o),l=t(2),i=t(42),u=t(11),f=t.n(u),s=t(17),d=t(21),m=t(82),p=function(){var e=Object(s.a)(f.a.mark((function e(n,t,r){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],Array.isArray(n)||(n=[n]),n.forEach((function(e){Object(m.d)(e)&&a.push(Object(d.o)("talents",e,t))})),e.next=5,Promise.all(a);case 5:r();case 6:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),b=function(e,n){Object(d.d)(e,(function(t){var r=Object(i.a)({},e,t),a=document.createElement("a");a.download=n,a.href="data:application/json;charset=utf-8;,"+encodeURIComponent(JSON.stringify(r)),a.target="_blank",document.body.appendChild(a),a.click(),document.body.removeChild(a)}))},h=function(){var e=Object(s.a)(f.a.mark((function e(n){var t,r,a,o,c,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.g)("spells");case 2:return t=e.sent,e.next=5,Object(d.g)("powers");case 5:return r=e.sent,e.next=8,Object(d.g)("talents");case 8:return a=e.sent,e.next=11,Object(d.g)("races");case 11:o=e.sent,c={spells:t,powers:r,talents:a,races:o},"application/json;charset=utf-8;",(l=document.createElement("a")).download=n,l.href="data:application/json;charset=utf-8;,"+encodeURIComponent(JSON.stringify(c)),l.target="_blank",document.body.appendChild(l),l.click(),document.body.removeChild(l);case 21:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),g=t(54),x=t.n(g),v=t(6),j=t(23),E=t(28),O=t(35),w=t(10);function k(){var e=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  color: ",";\n"]);return k=function(){return e},e}var S=function(e){var n=e.changeData,t=e.reload,r=Object(o.useState)(""),l=Object(a.a)(r,2),i=l[0],u=l[1],f=Object(o.useState)(!1),s=Object(a.a)(f,2),d=s[0],m=s[1],b=Object(o.useState)(),h=Object(a.a)(b,2),g=h[0],w=h[1],k=Object(o.useState)(),S=Object(a.a)(k,2),y=S[0],A=S[1],R=Object(o.useState)(new x.a(void 0,{host:"peerjs.thedndtome.com",secure:!0})),D=Object(a.a)(R,1)[0];Object(o.useEffect)((function(){var e=D.connect(i);e.on("open",(function(){e.on("error",(function(e){w(e)})),e.on("data",(function(e){console.log(e),A(e),n(e),t(!0)}))}))}),[D,i,n,t]);return c.a.createElement(c.a.Fragment,null,!!d&&c.a.createElement(O.b,null),c.a.createElement(j.a,{value:i,label:"ID to recive from",onChange:function(e){return u(e)}}),g&&c.a.createElement(C,{icon:v.n}),void 0!==y&&""!==i&&c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a,{text:"Accept",icon:v.e,onClick:function(){void 0!==y&&(m(!0),p(y,"recived",(function(){u(""),n(void 0),t(!0),m(!1),A(void 0)})))}}),c.a.createElement(E.a,{text:"Decline",icon:v.e,onClick:function(){return u(""),n(void 0),t(!0),m(!1),void A(void 0)}})))},C=Object(l.b)(w.a)(k(),(function(e){return e.theme.main.highlight})),y=t(43),A=t(18),R=t(98),D=t(46),T=t(27);function F(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  min-width: calc(100% - 20px);\n  font-weight: bold;\n  text-algin: center;\n  border-radius: 5px;\n  color: ",";\n  background-color: ",";\n"]);return F=function(){return e},e}function I(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n  display: inline-block;\n  text-decoration: none;\n  background-color: ",";\n  height: 28px;\n  border: none;\n  border-radius: 5px;\n  padding-left: 10px;\n  padding-right: 10px;\n  margin: 5px;\n  text-align: center;\n  font-family: inherit;\n  font-size: 14px;\n  color: ",";\n  cursor: pointer;\n  line-height: 26px;\n"]);return I=function(){return e},e}function z(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n  color: ",";\n  background-color: ",";\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ",";\n  overflow: hidden;\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return z=function(){return e},e}function L(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return L=function(){return e},e}var N=function(){var e=Object(D.b)(),n=e.theme,t=e.setTheme;return c.a.createElement(M,null,c.a.createElement(_,null,c.a.createElement(P,null,"Theme"),c.a.createElement(q,{onClick:function(){n===T.a?(t(T.b),localStorage.setItem("theme","light")):(t(T.a),localStorage.setItem("theme","dark"))}},"Toggle Style")))},M=l.b.div(L()),_=Object(l.b)(M)(z(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor}),(function(e){return e.theme.tile.boxShadow})),q=l.b.button(I(),(function(e){return e.theme.buttons.backgroundColor}),(function(e){return e.theme.buttons.color})),P=l.b.div(F(),(function(e){return e.theme.input.color}),(function(e){return e.theme.input.backgroundColor})),V=t(39);function J(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return J=function(){return e},e}function W(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n  margin: 5px;\n  min-width: calc(100% - 10px);\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  align-content: flex-start;\n"]);return W=function(){return e},e}function G(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  min-width: calc(100% - 20px);\n  font-weight: bold;\n  text-algin: center;\n  border-radius: 5px;\n  color: ",";\n  background-color: ",";\n"]);return G=function(){return e},e}function U(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n  color: ",";\n  background-color: ",";\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ",";\n  overflow: hidden;\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return U=function(){return e},e}function B(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return B=function(){return e},e}function K(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return K=function(){return e},e}var Y=function(e){var n=e.amount,t=e.triggerDeleteAll,r=Object(o.useState)(!1),l=Object(a.a)(r,2),i=l[0],u=l[1];return c.a.createElement(H,null,c.a.createElement(Q,null,c.a.createElement(X,null,"Export"),c.a.createElement(Z,null,c.a.createElement(ee,null,"Export all Talents?"),c.a.createElement(A.a,{icon:v.p,onClick:function(){return b("talents","SkirmishTome_talents.json")}}))),c.a.createElement(Q,null,c.a.createElement(X,null,"Delete"),c.a.createElement(Z,null,c.a.createElement(ee,null,"Delete all ",n," Talents?"),c.a.createElement(A.a,{icon:v.C,onClick:function(){return t("talents")}}))),c.a.createElement(Q,null,!i&&c.a.createElement(E.a,{text:"Send all talents",icon:v.t,onClick:function(){return u(!0)}}),!!i&&c.a.createElement(V.a,{data:"talents",mode:"ALL"})))},$=l.b.div(K()),H=Object(l.b)($)(B()),Q=Object(l.b)($)(U(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor}),(function(e){return e.theme.tile.boxShadow})),X=l.b.div(G(),(function(e){return e.theme.input.color}),(function(e){return e.theme.input.backgroundColor})),Z=l.b.div(W()),ee=l.b.div(J());function ne(){var e=Object(r.a)(["\n  flex: 3 1 auto;\n  height: 38px;\n  line-height: 30px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ",";\n  color: ",";\n  margin-left: 5px;\n  border-radius: 5px;\n"]);return ne=function(){return e},e}function te(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return te=function(){return e},e}function re(){var e=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return re=function(){return e},e}function ae(){var e=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 38px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n\n  --notchSize: 15px;\n  clip-path: polygon(\n    0% var(--notchSize),\n    var(--notchSize) 0%,\n    100% 0%,\n    100% calc(100% - var(--notchSize)),\n    calc(100% - var(--notchSize)) 100%,\n    0 100%\n  );\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return ae=function(){return e},e}var oe,ce=function(e){var n=e.label,t=e.accept,r=e.isMulti,a=e.icon,o=e.transform,l=e.onChange;return c.a.createElement(le,null,c.a.createElement(ue,null,a?c.a.createElement(ie,{icon:a,transform:o}):""," ",n),r&&c.a.createElement(fe,{onChange:function(e){return l(e.target.files)},type:"file",accept:t,multiple:!0}),!r&&c.a.createElement(fe,{onChange:function(e){return l(e.target.files)},accept:t,type:"file"}))},le=l.b.label(ae(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor})),ie=Object(l.b)(w.a)(re(),(function(e){return e.theme.main.highlight})),ue=l.b.div(te()),fe=l.b.input(ne(),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color})),se=t(128),de=t.n(se);function me(){var e=Object(r.a)(["\n  width: clac(100% - 20px);\n  height: 50px;\n  padding: 10px;\n"]);return me=function(){return e},e}function pe(){var e=Object(r.a)(["\n  flex: 1 1 100%;\n"]);return pe=function(){return e},e}!function(e){e[e.NORMAL=0]="NORMAL"}(oe||(oe={}));var be=function(e){var n=e.modus,t=Object(o.useState)([]),r=Object(a.a)(t,2),l=r[0],i=r[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(ge,null,c.a.createElement(ce,{label:"",isMulti:!0,accept:".json",icon:v.q,onChange:function(e){return function(e){if(console.log("Start File Upload"),null!==e){var n=Array.from(e);i(n)}}(e)}})),c.a.createElement(ge,null,l&&l.map((function(e,t){return c.a.createElement(he,{key:t,modus:n,file:e})}))))},he=function(e){var n=e.file,t=e.modus,r=Object(o.useState)(0),l=Object(a.a)(r,2),i=l[0],u=l[1],m=Object(o.useState)(0),p=Object(a.a)(m,2),b=p[0],h=p[1],g=function(){var e=Object(s.a)(f.a.mark((function e(n,r){var o,c,l,i,s,m;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(console.log("Start 5eTools Json interpreting "+r),o=[],c=0,l=function(){var e=Object(a.a)(s[i],2),n=e[0],r=e[1];Array.isArray(r)&&(c+=r.length,t===oe.NORMAL&&r.forEach((function(e){return o.push({tableName:n,newEntitiy:e})})))},i=0,s=Object.entries(n);i<s.length;i++)l();h(c),m=f.a.mark((function e(){var n,t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o[0].tableName,t=o.filter((function(e){return e.tableName===n})).map((function(e){return e.newEntitiy})),e.next=4,Object(d.p)(n,t,r);case 4:o=o.filter((function(e){return e.tableName!==n})),u(c-o.length);case 6:case"end":return e.stop()}}),e)}));case 7:if(!(o.length>0)){e.next=11;break}return e.delegateYield(m(),"t0",9);case 9:e.next=7;break;case 11:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){console.log("Start Filereader "+n.name);var e=new FileReader;e.onloadend=function(){var t=e.result;if(null!==t){var r=JSON.parse(t.toString());console.log("Json loaded from "+n.name),g(r,n.name)}},e.readAsText(n)}),[n]),c.a.createElement(xe,null,n.name," ",i,"/",b,c.a.createElement(de.a,{completed:Math.round(i/b*100),isLabelVisible:!1,bgcolor:"#F55C5C",height:"5px",margin:"5px"}))},ge=l.b.div(pe()),xe=l.b.div(me());function ve(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  min-width: calc(100% - 20px);\n  font-weight: bold;\n  text-algin: center;\n  border-radius: 5px;\n  color: ",";\n  background-color: ",";\n"]);return ve=function(){return e},e}function je(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n  color: ",";\n  background-color: ",";\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ",";\n  overflow: hidden;\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return je=function(){return e},e}function Ee(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return Ee=function(){return e},e}var Oe=function(){var e=Object(o.useState)(localStorage.getItem("webhook")+""),n=Object(a.a)(e,2),t=n[0],r=n[1],l=Object(o.useState)(localStorage.getItem("webhook_user")+""),i=Object(a.a)(l,2),u=i[0],f=i[1];return Object(o.useEffect)((function(){t!==localStorage.getItem("webhook")&&localStorage.setItem("webhook",t)}),[t]),Object(o.useEffect)((function(){u!==localStorage.getItem("webhook_user")&&localStorage.setItem("webhook_user",u)}),[u]),c.a.createElement(we,null,c.a.createElement(ke,null,c.a.createElement(Se,null,"Discord Webhook"),c.a.createElement(j.a,{value:u,label:"PlayerName",onChange:f}),c.a.createElement(j.a,{value:t,label:"Webhook",onChange:r})))},we=l.b.div(Ee()),ke=Object(l.b)(we)(je(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor}),(function(e){return e.theme.tile.boxShadow})),Se=l.b.div(ve(),(function(e){return e.theme.input.color}),(function(e){return e.theme.input.backgroundColor})),Ce=t(129),ye=t(75),Ae=t(100),Re=t(99),De=t(85),Te=t(86),Fe=t(89),Ie=function(){var e=Object(s.a)(f.a.mark((function e(n,t,r){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(ye.a)(t),e.next=3,Object(d.p)(n,a,r);case 3:console.log("Done saving");case 4:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}();function ze(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return ze=function(){return e},e}function Le(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n  margin: 5px;\n  min-width: calc(100% - 10px);\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  align-content: flex-start;\n"]);return Le=function(){return e},e}function Ne(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  min-width: calc(100% - 20px);\n  font-weight: bold;\n  text-align: center;\n  border-radius: 5px;\n  color: ",";\n  background-color: ",";\n"]);return Ne=function(){return e},e}function Me(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n  color: ",";\n  background-color: ",";\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ",";\n  overflow: hidden;\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return Me=function(){return e},e}function _e(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return _e=function(){return e},e}function qe(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return qe=function(){return e},e}var Pe=function(e){var n=e.amount,t=e.triggerDeleteAll,r=Object(o.useState)(!1),l=Object(a.a)(r,2),i=l[0],u=l[1];return c.a.createElement(Je,null,c.a.createElement(We,null,c.a.createElement(Ge,null,"Export"),c.a.createElement(Ue,null,c.a.createElement(Be,null,"Export all Spells?"),c.a.createElement(A.a,{icon:v.p,onClick:function(){return b("spells","SkirmishTome_Spells.json")}}))),c.a.createElement(We,null,c.a.createElement(Ge,null,"Delete"),c.a.createElement(Ue,null,c.a.createElement(Be,null,"Delete all ",n," Spells?"),c.a.createElement(A.a,{icon:v.C,onClick:function(){return t("spells")}}))),c.a.createElement(We,null,!i&&c.a.createElement(E.a,{text:"Send all Spells",icon:v.t,onClick:function(){return u(!0)}}),!!i&&c.a.createElement(V.a,{data:"Spells",mode:"ALL"})))},Ve=l.b.div(qe()),Je=Object(l.b)(Ve)(_e()),We=Object(l.b)(Ve)(Me(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor}),(function(e){return e.theme.tile.boxShadow})),Ge=l.b.div(Ne(),(function(e){return e.theme.input.color}),(function(e){return e.theme.input.backgroundColor})),Ue=l.b.div(Le()),Be=l.b.div(ze());function Ke(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return Ke=function(){return e},e}function Ye(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n  margin: 5px;\n  min-width: calc(100% - 10px);\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  align-content: flex-start;\n"]);return Ye=function(){return e},e}function $e(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  min-width: calc(100% - 20px);\n  font-weight: bold;\n  text-algin: center;\n  border-radius: 5px;\n  color: ",";\n  background-color: ",";\n"]);return $e=function(){return e},e}function He(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n  color: ",";\n  background-color: ",";\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ",";\n  overflow: hidden;\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return He=function(){return e},e}function Qe(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return Qe=function(){return e},e}function Xe(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return Xe=function(){return e},e}var Ze=function(e){var n=e.amount,t=e.triggerDeleteAll,r=Object(o.useState)(!1),l=Object(a.a)(r,2),i=l[0],u=l[1];return c.a.createElement(nn,null,c.a.createElement(tn,null,c.a.createElement(rn,null,"Export"),c.a.createElement(an,null,c.a.createElement(on,null,"Export all Races?"),c.a.createElement(A.a,{icon:v.p,onClick:function(){return b("races","SkirmishTome_Races.json")}}))),c.a.createElement(tn,null,c.a.createElement(rn,null,"Delete"),c.a.createElement(an,null,c.a.createElement(on,null,"Delete all ",n," Races?"),c.a.createElement(A.a,{icon:v.C,onClick:function(){return t("races")}}))),c.a.createElement(tn,null,!i&&c.a.createElement(E.a,{text:"Send all Races",icon:v.t,onClick:function(){return u(!0)}}),!!i&&c.a.createElement(V.a,{data:"Races",mode:"ALL"})))},en=l.b.div(Xe()),nn=Object(l.b)(en)(Qe()),tn=Object(l.b)(en)(He(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor}),(function(e){return e.theme.tile.boxShadow})),rn=l.b.div($e(),(function(e){return e.theme.input.color}),(function(e){return e.theme.input.backgroundColor})),an=l.b.div(Ye()),on=l.b.div(Ke());function cn(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return cn=function(){return e},e}function ln(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n  margin: 5px;\n  min-width: calc(100% - 10px);\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  align-content: flex-start;\n"]);return ln=function(){return e},e}function un(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  min-width: calc(100% - 20px);\n  font-weight: bold;\n  text-align: center;\n  border-radius: 5px;\n  color: ",";\n  background-color: ",";\n"]);return un=function(){return e},e}function fn(){var e=Object(r.a)(["\n  width: calc(100% - 1em);\n"]);return fn=function(){return e},e}function sn(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n  color: ",";\n  background-color: ",";\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ",";\n  overflow: hidden;\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return sn=function(){return e},e}function dn(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return dn=function(){return e},e}function mn(){var e=Object(r.a)(["\n  flex: 1 1 auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return mn=function(){return e},e}n.default=function(){var e=Object(o.useState)("General"),n=Object(a.a)(e,2),t=n[0],r=n[1],l=Object(o.useState)(0),i=Object(a.a)(l,2),u=i[0],f=i[1],s=Object(o.useState)(0),p=Object(a.a)(s,2),b=p[0],g=p[1],x=Object(o.useState)(0),j=Object(a.a)(x,2),E=j[0],O=j[1],w=Object(o.useState)(!0),k=Object(a.a)(w,2),C=k[0],D=k[1],T=Object(o.useState)(),F=Object(a.a)(T,2),I=F[0],z=F[1],L=Object(Ce.b)().readString,M=Object(Ce.a)(),_=M.CSVDownloader,q=M.Type,P=Object(o.useState)(),V=Object(a.a)(P,2),J=V[0],W=V[1],G=function(e){var n=e[0],t=new FileReader;t.onloadend=function(){var e=t.result;null!==e&&L(e.toString(),{worker:!0,complete:function(e){console.log("Csv loaded from "+n.name);var t=e.data;console.log(t),function(e,n){var t=[];console.log("Raw",e),e.slice(1).forEach((function(e){if(e.length>1){var n,r,a,o=new Te.a(0,e[0],Fe.s.find(e[1]),Fe.b.find(e[24]),Fe.o.find(e[4]),Fe.g.find(e[23]),"",Fe.n.find(e[7]),Fe.q.find(e[25]),e[27],e[28],e[31],0,+e[29],Fe.p.find(e[12]),Fe.t.find(e[3]),Fe.a.find(e[9]),[Fe.c.find(e[13]),Fe.c.find(e[14]),Fe.c.find(e[15])],Fe.e.find(e[19]),Fe.i.find(e[2]),Fe.l.find(e[10]),Fe.k.find(e[11]),Fe.d.find(e[17]),Fe.u.find(e[16]),Fe.j.find(e[8]),Fe.f.find(e[22]),Fe.m.find(e[18]),Fe.r.find(e[21]),Fe.h.find(e[20]),"yes"===(null===(n=e[30])||void 0===n?void 0:n.toLowerCase()),"yes"===(null===(r=e[6])||void 0===r?void 0:r.toLowerCase()),"yes"===(null===(a=e[5])||void 0===a?void 0:a.toLowerCase()));t.push(Te.a.calcDrain(o))}})),console.log("Processed Spells",t),Ie("spells",t,n)}(t,n.name),console.log("---------")}})},t.readAsText(n)},U=function(e){var n=e[0],t=new FileReader;t.onloadend=function(){var e=t.result;null!==e&&L(e.toString(),{worker:!0,complete:function(e){console.log("Csv loaded from "+n.name);var t=e.data;console.log(t),function(e,n){var t=[];console.log("Raw",e),e.slice(1).forEach((function(e){if(e.length>1){var n=new Re.a(0,e[0],"-"===e[8],e[7],+e[2],e[3],e[4],"Active"===e[5],e[9],e[6]);t.push(n)}})),console.log("Processed Powers",t),Ie("powers",t,n)}(t,n.name),console.log("---------")}})},t.readAsText(n)},B=function(e){var n=e[0],t=new FileReader;t.onloadend=function(){var e=t.result;null!==e&&L(e.toString(),{worker:!0,complete:function(e){console.log("Csv loaded from "+n.name);var t=e.data;console.log(t),function(e,n){var t=[];console.log("Raw",e),e.slice(1).forEach((function(e){if(e.length>1){var n=e[2].split(",").map((function(e){return e.trim()})),r=e[3].split(",").map((function(e){return e.trim()})),a=new Ae.a(0,e[0],e[1],[].concat(Object(ye.a)(r),Object(ye.a)(n)),e[5],e[4]);t.push(a)}})),console.log("Processed Educations",t),Ie("educations",t,n)}(t,n.name),console.log("---------")}})},t.readAsText(n)},K=function(e){var n=e[0],t=new FileReader;t.onloadend=function(){var e=t.result;null!==e&&L(e.toString(),{worker:!0,complete:function(e){console.log("Csv loaded from "+n.name);var t=e.data;console.log(t),function(e,n){var t=[];console.log("Raw",e),e.slice(1).forEach((function(e){if(e.length>1){var n=new m.c(0,e[0],e[9],"Flaw"===e[2],"Flaw"===e[2]?+e[4]:+e[3],e[5],e[6],e[7],e[8]);t.push(n)}})),console.log("Processed Talents",t),Ie("talents",t,n)}(t,n.name),console.log("---------")}})},t.readAsText(n)},$=function(e){var n=e[0],t=new FileReader;t.onloadend=function(){var e=t.result;null!==e&&L(e.toString(),{worker:!0,complete:function(e){console.log("Csv loaded from "+n.name);var t=e.data;console.log(t),function(e,n){var t=[];console.log("Raw",e),e.slice(1).forEach((function(e){if(e.length>1){var n=e[6].split(",").map((function(e){return e.trim()})),r=e[7].split(",").map((function(e){return e.trim()})),a=new De.b(0,e[0],+e[1],+e[9],e[4],e[3],+e[2],n,r,e[5],+e[8]);t.push(a)}})),console.log("Processed Races",t),Ie("races",t,n)}(t,n.name),console.log("---------")}})},t.readAsText(n)};Object(o.useEffect)((function(){if(C){Object(d.i)("talents",(function(e){f(e)}));var e=[];Object(d.d)("spells",(function(n){g(n.length),e.push(["Spell"].concat(Object.keys(new Te.a))),n.forEach((function(n){e.push([""].concat(Te.a.makeCsv(n)))}))})),Object(d.d)("talents",(function(n){f(n.length),e.push(["Talent"].concat(Object.keys(new m.c))),n.forEach((function(n){e.push([""].concat(m.c.makeCsv(n)))}))})),Object(d.d)("races",(function(n){O(n.length),e.push(["Race"].concat(Object.keys(new De.b))),n.forEach((function(n){e.push([""].concat(De.b.makeCsv(n)))}))})),W(e),D(!1)}}),[C]);var H=function(e){Object(d.b)(e),D(!0)},Q=function(e,n){return Object(m.d)(e)?c.a.createElement(R.a,{key:n,talent:e}):c.a.createElement(hn,{key:n},e.name)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(hn,null,c.a.createElement(xn,null,"Import"),c.a.createElement(be,{modus:oe.NORMAL})),c.a.createElement(hn,null,c.a.createElement(xn,null,"Export"),c.a.createElement(vn,null,c.a.createElement(jn,null,"Export as one file?"),c.a.createElement(A.a,{icon:v.p,onClick:function(){return h("SkirmishTome_all.json")}}))),c.a.createElement(y.a,{children:["General","Spells","Races","Talents","Discord","Receive","CSV Imports"],onChange:function(e){return r(e)},activeTab:t}),"General"===t&&c.a.createElement(N,null),"Spells"===t&&c.a.createElement(Pe,{amount:b,triggerDeleteAll:H}),"Races"===t&&c.a.createElement(Ze,{amount:E,triggerDeleteAll:H}),"Talents"===t&&c.a.createElement(Y,{amount:u,triggerDeleteAll:H}),"Discord"===t&&c.a.createElement(Oe,null),"Receive"===t&&c.a.createElement(bn,null,c.a.createElement(gn,null,c.a.createElement(S,{reload:D,changeData:z})),void 0!==I&&Array.isArray(I)&&I.map((function(e,n){return Q(e,n)})),void 0!==I&&!Array.isArray(I)&&Q(I,0)),"CSV Imports"===t&&c.a.createElement(bn,null,c.a.createElement(hn,null,c.a.createElement(_,{type:q.Button,filename:"CsvBackup_"+(new Date).getFullYear()+"."+((new Date).getMonth()+1),bom:!0,config:{delimiter:";"},data:J},"Download")),c.a.createElement(hn,null,c.a.createElement(xn,null,"Import Spell CSV"),c.a.createElement(ce,{label:"",isMulti:!0,accept:".csv",icon:v.q,onChange:function(e){return G(e)}})),c.a.createElement(hn,null,c.a.createElement(xn,null,"Import Races CSV"),c.a.createElement(ce,{label:"",isMulti:!0,accept:".csv",icon:v.q,onChange:function(e){return $(e)}})),c.a.createElement(hn,null,c.a.createElement(xn,null,"Import Talents CSV"),c.a.createElement(ce,{label:"",isMulti:!0,accept:".csv",icon:v.q,onChange:function(e){return K(e)}})),c.a.createElement(hn,null,c.a.createElement(xn,null,"Import Powers CSV"),c.a.createElement(ce,{label:"",isMulti:!0,accept:".csv",icon:v.q,onChange:function(e){return U(e)}})),c.a.createElement(hn,null,c.a.createElement(xn,null,"Import Education CSV"),c.a.createElement(ce,{label:"",isMulti:!0,accept:".csv",icon:v.q,onChange:function(e){return B(e)}}))))};var pn=l.b.div(mn()),bn=Object(l.b)(pn)(dn()),hn=Object(l.b)(pn)(sn(),(function(e){return e.theme.tile.color}),(function(e){return e.theme.tile.backgroundColor}),(function(e){return e.theme.tile.boxShadow})),gn=Object(l.b)(hn)(fn()),xn=l.b.div(un(),(function(e){return e.theme.input.color}),(function(e){return e.theme.input.backgroundColor})),vn=l.b.div(ln()),jn=l.b.div(cn())},90:function(e,n,t){"use strict";var r=t(3),a=t(8),o=t(1),c=t.n(o),l=t(4),i=t(2),u=t(37),f=t(83),s=t(38),d=t(84);function m(){var e=Object(r.a)(["\n  background-color: ",";\n  color: ",";\n  border-radius: 5px;\n  padding: 5px;\n  text-align: center;\n"]);return m=function(){return e},e}function p(){var e=Object(r.a)(["\n  background-color: ",";\n  color: ",";\n  border-radius: 5px;\n  padding: 2px 5px 2px 5px;\n"]);return p=function(){return e},e}function b(){var e=Object(r.a)(["\n  white-space: pre-line;\n"]);return b=function(){return e},e}function h(){var e=Object(r.a)(["\n  background-color: #7289da;\n  color: white;\n"]);return h=function(){return e},e}function g(){var e=Object(r.a)(["\n  display: inline-block;\n  background-color: ",";\n  border-radius: 5px;\n  text-decoration: none;\n  color: ",";\n  font-size: 14px;\n  padding: 0px 5px 0px 5px;\n  cursor: pointer;\n  white-space: pre;\n"]);return g=function(){return e},e}function x(){var e=Object(r.a)(["\n  padding: 5px;\n"]);return x=function(){return e},e}n.a=function(e){var n=e.text,t=Object(u.a)(),r=Object(o.useState)(),i=Object(a.a)(r,2),m=i[0],p=i[1],b=Object(l.f)(),h=function(e,n,t){return e.substr(0,n)+e.substr(t+1)},g=Object(o.useCallback)((function(e){if(e.includes("d")){var n=Object(f.a)(e),r=n.result,a=n.text;void 0!==r&&void 0!==t&&Object(s.c)(t,r+" "+a+" ||"+e+"||")}else{var o="d20"+e,c=parseInt(e.replaceAll("+","")),l=Object(f.a)(o),i=l.result,u=l.text,d=!1;i-c===20&&(d=!0);var m=!1;i-c===1&&(m=!0);var p="d20(`"+(i-c)+"`)"+e;void 0!==i&&void 0!==t&&Object(s.c)(t,i+" "+u+(m?" :red_circle:":"")+(d?" :green_circle:":"")+" ||"+p+"||")}}),[t]),x=Object(o.useCallback)((function(e){if(void 0!==e){if(e.includes("[[")&&e.includes("]]")){var n=e.split("[["),t=[];return n.forEach((function(e,n){if(e.includes("]]")){var r=e.split("]]"),a=r[0].split("."),o=a[0];if("dice"===o)t.push(c.a.createElement(O,{key:n},c.a.createElement(E,{onClick:function(){return g(a[1])}},c.a.createElement(d.a,{type:a[0],name:a[1]})," ",a[1]),c.a.createElement(O,null,r[1])));else{"class"!==o&&"subclass"!==o||(o+="e");var l="/"+o+"-detail/name/"+a[1];t.push(c.a.createElement(O,{key:n},c.a.createElement(j,{onClick:function(){return b.push(l)}},c.a.createElement(d.a,{type:a[0],name:a[1]})," ",a[1]),c.a.createElement(O,null,r[1])))}}else""!==e&&t.push(c.a.createElement(O,{key:n},e))})),c.a.createElement(c.a.Fragment,null,t)}return c.a.createElement(O,null,e)}}),[b]),S=Object(o.useCallback)((function(e){if(e.includes("||table||")){var t=n.split("||table||"),r=t[1].split("||"),a=!0;return c.a.createElement(c.a.Fragment,null,x(t[0]),c.a.createElement("table",null,c.a.createElement("tbody",null,r.map((function(e,n){if(e.includes("|")){if(a){a=!1;var t=e.split("|");return c.a.createElement("tr",{key:n},t.map((function(e,n){return c.a.createElement(w,{key:n},e)})))}var r=e.split("|");return c.a.createElement("tr",{key:n},r.map((function(e,n){return c.a.createElement(k,{key:n},x(e))})))}return c.a.createElement(c.a.Fragment,null)})))),x(t[2]))}return x(e)}),[n,x]),C=Object(o.useCallback)((function(e){for(;e.includes("{{");){var n=e.indexOf("{{"),t=e.indexOf("}}")+1;e=h(e,n,t)}return S(e)}),[S]);return Object(o.useEffect)((function(){if(void 0!==n){var e=C(n);p(e)}}),[n,b,C]),c.a.createElement(v,null,m)};var v=i.b.div(x()),j=i.b.span(g(),(function(e){return e.theme.tile.backgroundColorLink}),(function(e){return e.theme.tile.color})),E=Object(i.b)(j)(h()),O=i.b.span(b()),w=i.b.th(p(),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color})),k=i.b.td(m(),(function(e){return e.theme.input.backgroundColor}),(function(e){return e.theme.input.color}))},98:function(e,n,t){"use strict";var r=t(3),a=t(1),o=t.n(a),c=t(12),l=t(2),i=t(90);function u(){var e=Object(r.a)(["\n  height: 12px;\n  width: calc(50% - 22.5px);\n  margin: 0 0 5px 5px;\n  float: left;\n  line-height: 10px;\n  padding: 10px;\n  font-size: 12px;\n  border-radius: 5px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n\n  &:nth-child(odd) {\n    margin: 0 0 5px 0px;\n  }\n"]);return u=function(){return e},e}function f(){var e=Object(r.a)(["\n  height: auto;\n  width: calc(100% - 10px);\n  float: left;\n  padding: 5px 5px 0 5px;\n  display: flex;\n  flex-wrap: wrap;\n"]);return f=function(){return e},e}function s(){var e=Object(r.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 0 5px 5px 5px;\n  font-size: 14px;\n  width: calc(100% - 30px);\n  color: white;\n  text-align: center;\n  border-radius: 5px;\n"]);return s=function(){return e},e}function d(){var e=Object(r.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  width: 20px;\n  height: 20px;\n  line-height: 20px;\n  float: right;\n  text-align: center;\n  border-top-right-radius: 3px;\n  border-radius: 30px;\n  border-bottom: solid 1px ",";\n  margin: 5px;\n"]);return d=function(){return e},e}function m(){var e=Object(r.a)(["\n  flex: 1 1 15em;\n  color: ",";\n  ","\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ",";\n  overflow: hidden;\n  cursor: pointer;\n\n  --notchSize: 15px;\n  clip-path: polygon(\n    0% var(--notchSize),\n    var(--notchSize) 0%,\n    100% 0%,\n    100% calc(100% - var(--notchSize)),\n    calc(100% - var(--notchSize)) 100%,\n    0 100%\n  );\n"]);return m=function(){return e},e}n.a=function(e){var n=e.talent;return o.a.createElement(p,{to:"/talent-detail/id/"+n.id,$isflaw:n.isFlaw},o.a.createElement(b,null,o.a.createElement("b",null,n.cost)),o.a.createElement(h,null,o.a.createElement("b",null,n.name)),o.a.createElement(g,null,o.a.createElement(x,null,n.type),o.a.createElement(i.a,{text:n.prerequisite})))};var p=Object(l.b)(c.b)(m(),(function(e){return e.theme.tile.color}),(function(e){return e.$isflaw?"background-color: ".concat(e.theme.input.backgroundColor,";"):"background-color: ".concat(e.theme.tile.backgroundColor,";")}),(function(e){return e.theme.tile.boxShadow})),b=l.b.div(d(),(function(e){return e.theme.main.highlight})),h=l.b.div(s()),g=l.b.div(f()),x=l.b.div(u())},99:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var r=t(22),a=function e(n,t,a,o,c,l,i,u,f,s){Object(r.a)(this,e),this.id=void 0,this.name=void 0,this.isAdept=void 0,this.path=void 0,this.cost=void 0,this.prerequisite=void 0,this.effect=void 0,this.type=void 0,this.stress=void 0,this.ticks=void 0,this.id=n,this.name=t||"",this.isAdept=a||!1,this.path=o||"",this.cost=c||0,this.prerequisite=l||"",this.effect=i||"",this.type=u||!1,this.stress=f||"",this.ticks=s||""};a.makeCsv=function(e){return[e.id,e.name,e.ticks]}}}]);
//# sourceMappingURL=7.be748f18.chunk.js.map