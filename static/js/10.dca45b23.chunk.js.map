{"version":3,"sources":["components/general_elements/SmallFormatedText.tsx","components/entities/talents/TalentTile.tsx","../../node_modules/tslib/tslib.es6.js","../../node_modules/throttle-debounce/dist/index.esm.js","data/Filter.tsx","components/form_elements/StringSearchField.tsx","components/entities/talents/TalentSearchBar.tsx","components/entities/random_tables/RandomTableSearchBar.tsx","components/entities/random_tables/RandomTableTile.tsx","components/entities/races/RaceSearchBar.tsx","components/entities/races/RaceTile.tsx","components/entities/spells/SpellTile.tsx","components/entities/spells/SpellSearchBar.tsx","components/general_elements/EntityOverview.tsx","hooks/QueryHook.tsx","database/SkirmishDB.tsx","services/DatabaseService.tsx","components/form_elements/IconButton.tsx","hooks/webhookHook.tsx","services/DiscordService.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","services/DiceService.tsx","components/general_elements/LinkCheck.tsx","data/Talent.tsx","data/Spell.tsx","data/RandomTable.tsx","data/Race.tsx"],"names":["SmallFormatedText","text","webhook","useWebhook","useState","formatedText","setFormatedText","history","useHistory","cut","str","cutStart","cutEnd","substr","rollDiscord","useCallback","command","includes","rollCommand","result","undefined","sendMessage","newCommand","value","parseInt","replaceAll","krit","fail","rollString","formatLink","parts","split","formattedParts","forEach","part","index","codePart","linkParts","linkEntity","push","TextPart","key","DiscordPart","onClick","LinkCheck","type","name","link","Link","formatTable","textPart","table","tableRows","isHead","map","row","cells","cell","TableHeadProp","TableProp","formatText","indexOf","useEffect","FormatedTextContainer","styled","div","span","theme","tile","backgroundColorLink","color","th","input","backgroundColor","td","TalentTile","talent","Tile","to","id","$isflaw","isFlaw","Cost","cost","Name","PropWrapper","Prop","stress","prerequisite","props","boxShadow","main","highlight","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","assign","t","s","i","n","arguments","length","prototype","call","apply","this","delay","noTrailing","callback","debounceMode","timeoutID","cancelled","lastExec","clearExistingTimeout","clearTimeout","wrapper","self","elapsed","Date","now","args","exec","clear","setTimeout","cancel","__","constructor","create","Filter","filedName","sort","fieldName","StringSearchField","field","label","icon","transform","mobile","onChange","changeSort","Field","LabelText","Icon","Input","e","target","Sort","IconButton","faChevronCircleUp","faChevronCircleDown","FontAwesomeIcon","TalentSearchBar","open","setOpen","filters","setFilters","setName","setSort","newFilters","filter","JSON","stringify","search","faSearch","ReactDOM","unstable_batchedUpdates","faRedoAlt","rotation","newTalent","Talent","createNewWithId","createNewTalent","faPlusCircle","exportFilteredFromTable","faFileExport","RandomTableSearchBar","newRandomTable","RandomTable","createNewRandomTable","RandomTableTile","randomTable","PropRowWrapper","RowProp","rows","headerColor","RaceSearchBar","newRace","Race","createNewRace","RaceTile","race","hp","abilityModifier","talents","flaws","SpellTile","spell","School","school","Drain","drain","source","castTime","rite","range","SpellSearchBar","newSpell","Spell","createNewSpell","EntityOverview","match","rawFilters","URLSearchParams","useLocation","get","entityName","setEntityName","setFilter","allEntitys","setAllEntitys","entitys","setEntitys","start","end","hasMore","scrollParam","setParam","parse","newMatch","path","reciveAllFiltered","results","slice","searchbars","tiles","React","createElement","style","width","EntityContainer","dataLength","next","concat","loader","Loading","entity","InfiniteScroll","SkirmishDB","randomTables","races","spells","version","stores","Dexie","updateWithCallback","tableName","data","db","then","update","finally","close","saveNew","filename","a","put","prom","saveNewFromList","entities","refinedEntities","bulkPut","remove","delete","reciveAll","toArray","array","reciveCount","count","reciveCountPromise","recivePromiseByAttribute","where","equalsIgnoreCase","recivePromise","recivePromiseByAttributeCount","equals","reciveAllPromise","applyFilters","obj","test","hasTag","fieldPart","toLowerCase","arrayTest","filterPart","val","sortedFiled","reverse","sortBy","reciveAllFilteredPromise","reciveAttributeSelectionPromise","attribute","orderBy","uniqueKeys","deleteAll","all","window","navigator","msSaveOrOpenBlob","blob","Blob","decodeURIComponent","encodeURI","document","download","href","encodeURIComponent","body","appendChild","click","removeChild","floatLeft","disabled","SimpleButton","left","DisabledSimpleButton","buttons","height","localStorage","getItem","hook","content","avatar","request","XMLHttpRequest","setRequestHeader","params","username","avatar_url","send","sendEmbedMessage","console","log","formatDiscordText","_toConsumableArray","arr","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError","commands","newCommands","trim","rolls","fullCommand","commandSplits","multiplier","startsWith","com","newRoll","rollDie","size","max","Math","round","random","loading","setLoading","entitiyFound","setEntity","newType","catch","formatIcon","TalentCategory","category","effect","trigger","triggerFrequency","ticks","magical","isTalent","arg","nameCheck","costCheck","isFlawCheck","prerequisiteCheck","effectCheck","typeCheck","stressCheck","triggerCheck","triggerFrequencyCheck","ticksCheck","SpellSource","SpellRange","SpellRite","SpellTarget","SpellDuration","SpellSchool","duration","durationText","damageText","mastery","resist","drainParts","masteryDrain","scalingEffect","spellTarget","aoeRadius","damage","directEffects","level","projectileType","projectileNumber","damageType","targetingType","losRange","drainType","pureDamage","chargeable","needsMaterial","air","mental","instantaneous","touch","conjuration","header","stamina"],"mappings":"+lCAYA,IAiKeA,EAjKW,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,KACvBC,EAAUC,cADgC,EAENC,qBAFM,mBAEvCC,EAFuC,KAEzBC,EAFyB,KAG1CC,EAAUC,cAERC,EAAM,SAACC,EAAaC,EAAkBC,GAC1C,OAAOF,EAAIG,OAAO,EAAGF,GAAYD,EAAIG,OAAOD,EAAS,IAGjDE,EAAcC,uBAClB,SAACC,GACC,GAAKA,EAAQC,SAAS,KAwBf,CAAC,IAAD,EACoBC,YAAYF,GAA7BG,EADH,EACGA,OAAQlB,EADX,EACWA,UACDmB,IAAXD,QAAoCC,IAAZlB,GAC1BmB,YAAYnB,EAASiB,EAAS,IAAMlB,EAAO,MAAQe,EAAU,UA3BrC,CAC1B,IAAIM,EAAa,MAAQN,EACrBO,EAAQC,SAASR,EAAQS,WAAW,IAAK,KAFnB,EAGDP,YAAYI,GAA7BH,EAHkB,EAGlBA,OAAQlB,EAHU,EAGVA,KAEZyB,GAAO,EACPP,EAASI,IAAU,KAAIG,GAAO,GAClC,IAAIC,GAAO,EACPR,EAASI,IAAU,IAAGI,GAAO,GAEjC,IAAIC,EAAa,SAAWT,EAASI,GAAS,KAAOP,OACtCI,IAAXD,QAAoCC,IAAZlB,GAC1BmB,YACEnB,EACAiB,EACE,IACAlB,GACC0B,EAAO,gBAAkB,KACzBD,EAAO,kBAAoB,IAC5B,MACAE,EACA,SAUV,CAAC1B,IAGG2B,EAAad,uBACjB,SAACd,GACC,QAAamB,IAATnB,EAAoB,CACtB,GAAIA,EAAKgB,SAAS,OAAShB,EAAKgB,SAAS,MAAO,CAC9C,IAAMa,EAAQ7B,EAAK8B,MAAM,MACrBC,EAAwB,GA+B5B,OA9BAF,EAAMG,SAAQ,SAACC,EAAcC,GAC3B,GAAID,EAAKjB,SAAS,MAAO,CACvB,IAAMmB,EAAqBF,EAAKH,MAAM,MAChCM,EAAsBD,EAAS,GAAGL,MAAM,KAC1CO,EAAaD,EAAU,GAC3B,GAAmB,SAAfC,EACFN,EAAeO,KACb,kBAACC,EAAD,CAAUC,IAAKN,GACb,kBAACO,EAAD,CAAaC,QAAS,kBAAM7B,EAAYuB,EAAU,MAChD,kBAACO,EAAA,EAAD,CAAWC,KAAMR,EAAU,GAAIS,KAAMT,EAAU,KADjD,IACyDA,EAAU,IAEnE,kBAACG,EAAD,KAAWJ,EAAS,UAGnB,CACc,UAAfE,GAAyC,aAAfA,IAA2BA,GAAc,KACvE,IAAMS,EAAe,IAAMT,EAAa,gBAAkBD,EAAU,GACpEL,EAAeO,KACb,kBAACC,EAAD,CAAUC,IAAKN,GACb,kBAACa,EAAD,CAAML,QAAS,kBAAMpC,EAAQgC,KAAKQ,KAChC,kBAACH,EAAA,EAAD,CAAWC,KAAMR,EAAU,GAAIS,KAAMT,EAAU,KADjD,IACyDA,EAAU,IAEnE,kBAACG,EAAD,KAAWJ,EAAS,WAKb,KAATF,GAAaF,EAAeO,KAAK,kBAACC,EAAD,CAAUC,IAAKN,GAAQD,OAGzD,oCAAGF,GAEV,OAAO,kBAACQ,EAAD,KAAWvC,MAIxB,CAACM,IAGG0C,EAAclC,uBAClB,SAACmC,GACC,GAAIA,EAASjC,SAAS,aAAc,CAClC,IAAMkC,EAAkBlD,EAAK8B,MAAM,aAC7BqB,EAAsBD,EAAM,GAAGpB,MAAM,MACvCsB,GAAS,EACb,OACE,oCACGxB,EAAWsB,EAAM,IAClB,+BACE,+BACGC,EAAUE,KAAI,SAACC,EAAapB,GAC3B,GAAIoB,EAAItC,SAAS,KAAM,CACrB,GAAIoC,EAAQ,CACVA,GAAS,EACT,IAAMG,EAAQD,EAAIxB,MAAM,KACxB,OACE,wBAAIU,IAAKN,GACNqB,EAAMF,KAAI,SAACG,EAActB,GACxB,OAAO,kBAACuB,EAAD,CAAejB,IAAKN,GAAQsB,OAKzC,IAAMD,EAAQD,EAAIxB,MAAM,KACxB,OACE,wBAAIU,IAAKN,GACNqB,EAAMF,KAAI,SAACG,EAActB,GACxB,OAAO,kBAACwB,EAAD,CAAWlB,IAAKN,GAAQN,EAAW4B,QAMlD,OAAO,0CAKd5B,EAAWsB,EAAM,KAItB,OAAOtB,EAAWqB,KAGtB,CAACjD,EAAM4B,IAGH+B,EAAa7C,uBACjB,SAACmC,GACC,KAAOA,EAASjC,SAAS,OAAO,CAC9B,IAAMN,EAAWuC,EAASW,QAAQ,MAC5BjD,EAASsC,EAASW,QAAQ,MAAQ,EACxCX,EAAWzC,EAAIyC,EAAUvC,EAAUC,GAErC,OAAOqC,EAAYC,KAErB,CAACD,IAUH,OAPAa,qBAAU,WACR,QAAa1C,IAATnB,EAAoB,CACtB,IAAII,EAAeuD,EAAW3D,GAC9BK,EAAgBD,MAEjB,CAACJ,EAAMM,EAASqD,IAEZ,kBAACG,EAAD,KAAwB1D,IAK3B0D,EAAwBC,IAAOC,IAAV,KAIrBjB,EAAOgB,IAAOE,KAAV,KAEY,qBAAGC,MAAkBC,KAAKC,uBAGrC,qBAAGF,MAAkBC,KAAKE,SAO/B5B,EAAcsB,YAAOhB,EAAPgB,CAAH,KAKXxB,EAAWwB,IAAOE,KAAV,KAIRR,EAAgBM,IAAOO,GAAV,KACG,qBAAGJ,MAAkBK,MAAMC,mBACtC,qBAAGN,MAAkBK,MAAMF,SAKhCX,EAAYK,IAAOU,GAAV,KACO,qBAAGP,MAAkBK,MAAMC,mBACtC,qBAAGN,MAAkBK,MAAMF,S,2iDCnLvBK,IAnBI,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,OACpB,OACE,kBAACC,EAAD,CAAMC,GAAI,qBAAuBF,EAAOG,GAAIC,QAASJ,EAAOK,QAC1D,kBAACC,EAAD,KACE,2BAAIN,EAAOO,OAGb,kBAACC,EAAD,KACE,2BAAIR,EAAO9B,OAGb,kBAACuC,EAAD,KACE,kBAACC,EAAD,KAAOV,EAAO/B,KAAO+B,EAAOW,OAAS,WACrC,kBAAC,EAAD,CAAmBtF,KAAM2E,EAAOY,kBAbxC,IAyBMX,EAAOb,YAAOhB,IAAPgB,CAAH,KAEC,qBAAGG,MAAkBC,KAAKE,SACjC,SAACmB,GACD,OAAIA,EAAMT,QACF,qBAAN,OAA4BS,EAAMtB,MAAMK,MAAMC,gBAA9C,KAEM,qBAAN,OAA4BgB,EAAMtB,MAAMC,KAAKK,gBAA7C,QAKU,qBAAGN,MAAkBC,KAAKsB,aAepCR,EAAOlB,IAAOC,IAAV,KAWmB,qBAAGE,MAAkBwB,KAAKC,aAIjDR,EAAOpB,IAAOC,IAAV,KAYJoB,EAAcrB,IAAOC,IAAV,KASXqB,EAAOtB,IAAOC,IAAV,M,0GCnFN,EAAgB,SAAS4B,EAAGC,GAI5B,OAHA,EAAgBC,OAAOC,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,IAAIK,KAAKL,EAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,MACpDN,EAAGC,IASrB,IAAI,EAAW,WAQlB,OAPA,EAAWC,OAAOM,QAAU,SAAkBC,GAC1C,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAIL,KADTI,EAAIG,UAAUF,GACOT,OAAOa,UAAUR,eAAeS,KAAKN,EAAGJ,KAAIG,EAAEH,GAAKI,EAAEJ,IAE9E,OAAOG,IAEKQ,MAAMC,KAAML,Y,4uFCnBhC,SAAmBM,EAAOC,EAAYC,EAAUC,GAM9C,IAAIC,EACAC,GAAY,EAEZC,EAAW,EAEf,SAASC,IACHH,GACFI,aAAaJ,GAuBjB,SAASK,IACP,IAAIC,EAAOX,KACPY,EAAUC,KAAKC,MAAQP,EACvBQ,EAAOpB,UAOX,SAASqB,IACPT,EAAWM,KAAKC,MAChBX,EAASJ,MAAMY,EAAMI,GAQvB,SAASE,IACPZ,OAAYhG,EAhBViG,IAmBAF,IAAiBC,GAKnBW,IAGFR,SAEqBnG,IAAjB+F,GAA8BQ,EAAUX,EAK1Ce,KACwB,IAAfd,IAYTG,EAAYa,WAAWd,EAAea,EAAQD,OAAuB3G,IAAjB+F,EAA6BH,EAAQW,EAAUX,KAMvG,MAtE0B,mBAAfC,IACTE,EAAeD,EACfA,EAAWD,EACXA,OAAa7F,GAiEfqG,EAAQS,OA1ER,WACEX,IACAF,GAAY,GA0EPI,E,wHDzFF,SAAmB5B,EAAGC,GAEzB,SAASqC,IAAOpB,KAAKqB,YAAcvC,EADnC,EAAcA,EAAGC,GAEjBD,EAAEe,UAAkB,OAANd,EAAaC,OAAOsC,OAAOvC,IAAMqC,EAAGvB,UAAYd,EAAEc,UAAW,IAAIuB,G,wjHE1B9DG,EAInB,WACEC,EACAhH,EACAiH,GACC,yBAPHC,eAOE,OANFlH,WAME,OALFiH,UAKE,EACAzB,KAAK0B,UAAYF,EACjBxB,KAAKxF,MAAQA,EACbwF,KAAKyB,KAAOA,GAAQ,G,wxCCYxB,IA4CeE,EA5CW,SAAC,GASZ,IARbnH,EAQY,EARZA,MACAiH,EAOY,EAPZA,KACAG,EAMY,EANZA,MACAC,EAKY,EALZA,MACAC,EAIY,EAJZA,KACAC,EAGY,EAHZA,UACAC,EAEY,EAFZA,OACAC,EACY,EADZA,SAEMC,EAAa,WACbT,EAAKI,QAAUA,EACjBI,EAASzH,EAAO,CACduB,KAAM6F,EACNC,MAAOA,EACPJ,MAAOA,EAAKA,KAAO,GAAK,IAG1BQ,EAASzH,EAAO,CACduB,KAAM6F,EACNC,MAAOA,EACPJ,KAAM,KAKZ,OACE,kBAACU,EAAD,CAAOH,YAAmB3H,IAAX2H,GAA8BA,GAC3C,kBAACI,EAAD,CAAWxG,QAAS,kBAAMsG,MACvBJ,EAAO,kBAACO,EAAD,CAAMP,KAAMA,EAAMC,UAAWA,IAAgB,GADvD,IAC4DF,GAE5D,kBAACS,EAAD,CAAOxG,KAAK,OAAOtB,MAAOA,EAAOyH,SAAU,SAACM,GAAD,OAAON,EAASM,EAAEC,OAAOhI,MAAOiH,MAC5D,IAAdA,EAAKA,MAAcA,EAAKI,QAAUA,GACjC,kBAACY,EAAD,KACiB,IAAdhB,EAAKA,MAAc,kBAACiB,EAAA,EAAD,CAAY9G,QAAS,kBAAMsG,KAAcJ,KAAMa,MACpD,IAAdlB,EAAKA,MACJ,kBAACiB,EAAA,EAAD,CAAY9G,QAAS,kBAAMsG,KAAcJ,KAAMc,SAcrDT,EAAQlF,IAAO4E,MAAV,KACA,qBAAGzE,MAAkBC,KAAKE,SACf,qBAAGH,MAAkBC,KAAKK,mBAsB5C,qBAAGsE,OAAuE,GAA/C,gDAGzBK,EAAOpF,YAAO4F,IAAP5F,CAAH,KAMC,qBAAGG,MAAkBwB,KAAKC,aAG/BuD,EAAYnF,IAAOC,IAAV,KAMToF,EAAQrF,IAAOQ,MAAV,KAMW,qBAAGL,MAAkBK,MAAMC,mBACtC,qBAAGN,MAAkBK,MAAMF,SAOhCkF,EAAOxF,IAAOC,IAAV,K,gBCVK4F,EA5FS,WACtB,IAAItJ,EAAUC,cADc,EAEJJ,oBAAS,GAFL,mBAErB0J,EAFqB,KAEfC,EAFe,OAGE3J,mBAAmB,IAHrB,mBAGrB4J,EAHqB,KAGZC,EAHY,OAKJ7J,mBAAiB,IALb,mBAKrB0C,EALqB,KAKfoH,EALe,OAOJ9J,mBAIrB,CACD0C,KAAM,GACN8F,MAAO,GACPJ,KAAM,IAdoB,mBAOrBA,EAPqB,KAOf2B,EAPe,KA4D5B,OACE,oCACE,kBAAC,IAAD,CAAUL,KAAMA,GACd,kBAAC,EAAD,CACEvI,MAAOuB,EACP0F,KAAMA,EACNG,MAAO,OACPC,MAAM,OACNI,SAAU,SAAClG,EAAc0F,GACvB0B,EAAQpH,GACRqH,EAAQ3B,MAIZ,kBAACiB,EAAA,EAAD,CAAY9G,QAAS,kBAzDZ,WACb,IAAIyH,EAAuB,GACd,KAATtH,IACFsH,EAAU,sBAAOA,GAAP,CAAmB,IAAI9B,EAAO,OAAQxF,MAGlDsH,EAAaA,EAAW9G,KAAI,SAAC+G,GAC3B,OAAI7B,EAAK1F,OAASuH,EAAO5B,UAChB,2BAAK4B,GAAZ,IAAoB7B,KAAMA,EAAKA,OAE1B6B,KAGTJ,EAAWG,GACXL,GAAQ,GACRxJ,EAAQgC,KAAR,kCAAwC+H,KAAKC,UAAUH,KA0CxBI,IAAU3B,KAAM4B,MAC3C,kBAAChB,EAAA,EAAD,CAAY9G,QAAS,kBAvCzB+H,IAASC,yBAAwB,WAC/BT,EAAQ,IACRH,GAAQ,GACRI,EAAQ,CACNrH,KAAM,GACN8F,MAAO,GACPJ,KAAM,YAGVjI,EAAQgC,KAAR,qBA8BwCsG,KAAM+B,MAC1C,kBAAC,IAAD,CAAWjI,QAAS,kBAAMoH,GAASD,KACjC,kBAAC,IAAD,CAAiBjB,KAAM4B,IAAUI,SAAU,OAG/C,kBAAC,IAAD,CAAclI,QAAS,kBAhCH,WACtB,IAAImI,EAAY,IAAIC,WACbD,EAAU/F,GACjBiG,YAAgB,UAAWF,GAAW,SAAC/F,GACrCxE,EAAQgC,KAAR,4BAAkCwC,OA4BLkG,KAC3B,kBAAC,IAAD,CAAiBpC,KAAMqC,MACvB,kBAAC,IAAD,iBAEF,kBAAC,IAAD,CAAcvI,QAAS,WA3BzBwI,YAAwB,UAAWnB,EAAS,wCA4BxC,kBAAC,IAAD,CAAiBnB,KAAMuC,MACvB,kBAAC,IAAD,2B,iBCPOC,EA7Fc,WAAO,IAAD,EACTjL,oBAAS,GADA,mBAC1B0J,EAD0B,KACpBC,EADoB,OAEH3J,mBAAmB,IAFhB,mBAE1B4J,EAF0B,KAEjBC,EAFiB,KAG7B1J,EAAUC,cAHmB,EAKTJ,mBAAiB,IALR,mBAK1B0C,EAL0B,KAKpBoH,EALoB,OAOT9J,mBAIrB,CACD0C,KAAM,GACN8F,MAAO,GACPJ,KAAM,IAdyB,mBAO1BA,EAP0B,KAOpB2B,EAPoB,KA4DjC,OACE,oCACE,kBAAC,IAAD,CAAUL,KAAMA,GACd,kBAAC,EAAD,CACEvI,MAAOuB,EACP0F,KAAMA,EACNG,MAAO,OACPC,MAAM,OACNI,SAAU,SAAClG,EAAc0F,GACvB0B,EAAQpH,GACRqH,EAAQ3B,MAIZ,kBAACiB,EAAA,EAAD,CAAY9G,QAAS,kBAzDZ,WACb,IAAIyH,EAAuB,GACd,KAATtH,IACFsH,EAAU,sBAAOA,GAAP,CAAmB,IAAI9B,EAAO,OAAQxF,MAGlDsH,EAAaA,EAAW9G,KAAI,SAAC+G,GAC3B,OAAI7B,EAAK1F,OAASuH,EAAO5B,UAChB,2BAAK4B,GAAZ,IAAoB7B,KAAMA,EAAKA,OAE1B6B,KAGTJ,EAAWG,GACXL,GAAQ,GACRxJ,EAAQgC,KAAR,uCAA6C+H,KAAKC,UAAUH,KA0C7BI,IAAU3B,KAAM4B,MAC3C,kBAAChB,EAAA,EAAD,CAAY9G,QAAS,kBAvCzB+H,IAASC,yBAAwB,WAC/BT,EAAQ,IACRH,GAAQ,GACRI,EAAQ,CACNrH,KAAM,GACN8F,MAAO,GACPJ,KAAM,YAGVjI,EAAQgC,KAAR,2BA8BwCsG,KAAM+B,MAE1C,kBAAC,IAAD,CAAWjI,QAAS,kBAAMoH,GAASD,KACjC,kBAAC,IAAD,CAAiBjB,KAAM4B,QAG3B,kBAAC,IAAD,CAAc9H,QAAS,kBAjCE,WAC3B,IAAI2I,EAAiB,IAAIC,WAClBD,EAAevG,GACtBiG,YAAgB,eAAgBM,GAAgB,SAACvG,GAC/CxE,EAAQgC,KAAR,iCAAuCwC,OA6BVyG,KAC3B,kBAAC,IAAD,CAAiB3C,KAAMqC,MACvB,kBAAC,IAAD,iBAEF,kBAAC,IAAD,CAAcvI,QAAS,WA5BzBwI,YAAwB,eAAgBnB,EAAS,wCA6B7C,kBAAC,IAAD,CAAiBnB,KAAMuC,MACvB,kBAAC,IAAD,2B,m3CCzFR,IAmBeK,EAnBS,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,YACzB,OACE,kBAAC7G,EAAD,CAAMC,GAAI,0BAA4B4G,EAAY3G,IAChD,kBAACM,GAAD,KACE,kBAACD,GAAD,KACE,2BAAIsG,EAAY5I,OAGlB,kBAAC6I,GAAD,KACE,kBAACC,GAAD,KACE,kBAAC,IAAD,MADF,SAESF,EAAYG,KAAKlF,YAU9B9B,EAAOb,YAAOhB,IAAPgB,CAAH,KAEC,qBAAGG,MAAkBC,KAAKE,SACf,qBAAGH,MAAkBC,KAAKK,mBAGhC,qBAAGN,MAAkBC,KAAKsB,aAYpCN,GAAOpB,IAAOC,IAAV,KAKC,qBAAGE,MAAkBC,KAAK0H,eAM/BzG,GAAcrB,IAAOC,IAAV,KAQX0H,GAAiB3H,YAAOqB,GAAPrB,CAAH,KAOd4H,GAAU5H,IAAOC,IAAV,KAiBA,qBAAGE,MAAkBwB,KAAKC,a,SCYxBmG,GA5FO,WACpB,IAAIxL,EAAUC,cADY,EAEFJ,oBAAS,GAFP,mBAEnB0J,EAFmB,KAEbC,EAFa,OAGI3J,mBAAmB,IAHvB,mBAGnB4J,EAHmB,KAGVC,EAHU,OAKF7J,mBAAiB,IALf,mBAKnB0C,EALmB,KAKboH,EALa,OAOF9J,mBAIrB,CACD0C,KAAM,GACN8F,MAAO,GACPJ,KAAM,IAdkB,mBAOnBA,EAPmB,KAOb2B,EAPa,KA4D1B,OACE,oCACE,kBAAC,IAAD,CAAUL,KAAMA,GACd,kBAAC,EAAD,CACEvI,MAAOuB,EACP0F,KAAMA,EACNG,MAAO,OACPC,MAAM,OACNI,SAAU,SAAClG,EAAc0F,GACvB0B,EAAQpH,GACRqH,EAAQ3B,MAIZ,kBAACiB,EAAA,EAAD,CAAY9G,QAAS,kBAzDZ,WACb,IAAIyH,EAAuB,GACd,KAATtH,IACFsH,EAAU,sBAAOA,GAAP,CAAmB,IAAI9B,EAAO,OAAQxF,MAGlDsH,EAAaA,EAAW9G,KAAI,SAAC+G,GAC3B,OAAI7B,EAAK1F,OAASuH,EAAO5B,UAChB,2BAAK4B,GAAZ,IAAoB7B,KAAMA,EAAKA,OAE1B6B,KAGTJ,EAAWG,GACXL,GAAQ,GACRxJ,EAAQgC,KAAR,gCAAsC+H,KAAKC,UAAUH,KA0CtBI,IAAU3B,KAAM4B,MAC3C,kBAAChB,EAAA,EAAD,CAAY9G,QAAS,kBAvCzB+H,IAASC,yBAAwB,WAC/BT,EAAQ,IACRH,GAAQ,GACRI,EAAQ,CACNrH,KAAM,GACN8F,MAAO,GACPJ,KAAM,YAGVjI,EAAQgC,KAAR,mBA8BwCsG,KAAM+B,MAC1C,kBAAC,IAAD,CAAWjI,QAAS,kBAAMoH,GAASD,KACjC,kBAAC,IAAD,CAAiBjB,KAAM4B,IAAUI,SAAU,OAG/C,kBAAC,IAAD,CAAclI,QAAS,kBAhCL,WACpB,IAAIqJ,EAAU,IAAIC,YACXD,EAAQjH,GACfiG,YAAgB,QAASgB,GAAS,SAACjH,GACjCxE,EAAQgC,KAAR,0BAAgCwC,OA4BHmH,KAC3B,kBAAC,IAAD,CAAiBrD,KAAMqC,MACvB,kBAAC,IAAD,iBAEF,kBAAC,IAAD,CAAcvI,QAAS,WA3BzBwI,YAAwB,QAASnB,EAAS,sCA4BtC,kBAAC,IAAD,CAAiBnB,KAAMuC,MACvB,kBAAC,IAAD,2B,mwCC1FR,IAiBee,GAjBE,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,KAClB,OACE,kBAAC,GAAD,CAAMtH,GAAI,mBAAqBsH,EAAKrH,IAClC,kBAAC,GAAD,KACE,2BAAIqH,EAAKtJ,OAGX,kBAAC,GAAD,KACE,kBAACwC,GAAD,KAAO8G,EAAKC,IACZ,kBAAC/G,GAAD,KAAO8G,EAAKE,iBACZ,kBAAChH,GAAD,iBAAgB8G,EAAKG,QAAQ5F,QAC7B,kBAACrB,GAAD,eAAc8G,EAAKI,MAAM7F,WAQ3B9B,GAAOb,YAAOhB,IAAPgB,CAAH,MAEC,qBAAGG,MAAkBC,KAAKE,SACf,qBAAGH,MAAkBC,KAAKK,mBAGhC,qBAAGN,MAAkBC,KAAKsB,aAepCN,GAAOpB,IAAOC,IAAV,MAYJoB,GAAcrB,IAAOC,IAAV,MASXqB,GAAOtB,IAAOC,IAAV,M,w0DC7DV,IAuBewI,GAvBG,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,MACnB,OACE,kBAAC,GAAD,CAAM5H,GAAI,oBAAsB4H,EAAM3H,IACpC,kBAAC4H,GAAD,CAAQC,OAAQF,EAAME,QAASF,EAAME,QAErC,kBAACC,GAAD,KACE,2BAAIH,EAAMI,QAGZ,kBAAC,GAAD,KACE,2BAAIJ,EAAM5J,OAGZ,kBAAC,GAAD,KACE,kBAAC,GAAD,cAAa4J,EAAMK,QACnB,kBAAC,GAAD,sBAAqBL,EAAMM,UAC3B,kBAAC,GAAD,cAAaN,EAAMO,MACnB,kBAAC,GAAD,eAAcP,EAAMQ,UAQtBrI,GAAOb,YAAOhB,IAAPgB,CAAH,MAEC,qBAAGG,MAAkBC,KAAKE,SACf,qBAAGH,MAAkBC,KAAKK,mBAGhC,qBAAGN,MAAkBC,KAAKsB,aAepCN,GAAOpB,IAAOC,IAAV,MAYJoB,GAAcrB,IAAOC,IAAV,MASXqB,GAAOtB,IAAOC,IAAV,MAuBJ0I,GAAS3I,IAAOC,IAAV,MAOU,qBAAGE,MAAkBC,KAAKK,mBACrC,SAACgB,GACR,MAAqB,eAAjBA,EAAMmH,OACD,UACmB,gBAAjBnH,EAAMmH,OACR,UACmB,cAAjBnH,EAAMmH,OACR,UACmB,eAAjBnH,EAAMmH,OACR,UACmB,gBAAjBnH,EAAMmH,OACR,UACmB,kBAAjBnH,EAAMmH,OACR,UACmB,eAAjBnH,EAAMmH,OACR,UACmB,aAAjBnH,EAAMmH,OACR,eADF,KAMLC,GAAQ7I,IAAOC,IAAV,MAWkB,qBAAGE,MAAkBwB,KAAKC,a,SClCxCuH,GA5FQ,WACrB,IAAI5M,EAAUC,cADa,EAEHJ,oBAAS,GAFN,mBAEpB0J,EAFoB,KAEdC,EAFc,OAGG3J,mBAAmB,IAHtB,mBAGpB4J,EAHoB,KAGXC,EAHW,OAKH7J,mBAAiB,IALd,mBAKpB0C,EALoB,KAKdoH,EALc,OAOH9J,mBAIrB,CACD0C,KAAM,GACN8F,MAAO,GACPJ,KAAM,IAdmB,mBAOpBA,EAPoB,KAOd2B,EAPc,KA4D3B,OACE,oCACE,kBAAC,IAAD,CAAUL,KAAMA,GACd,kBAAC,EAAD,CACEvI,MAAOuB,EACP0F,KAAMA,EACNG,MAAO,OACPC,MAAM,OACNI,SAAU,SAAClG,EAAc0F,GACvB0B,EAAQpH,GACRqH,EAAQ3B,MAIZ,kBAACiB,EAAA,EAAD,CAAY9G,QAAS,kBAzDZ,WACb,IAAIyH,EAAuB,GACd,KAATtH,IACFsH,EAAU,sBAAOA,GAAP,CAAmB,IAAI9B,EAAO,OAAQxF,MAGlDsH,EAAaA,EAAW9G,KAAI,SAAC+G,GAC3B,OAAI7B,EAAK1F,OAASuH,EAAO5B,UAChB,2BAAK4B,GAAZ,IAAoB7B,KAAMA,EAAKA,OAE1B6B,KAGTJ,EAAWG,GACXL,GAAQ,GACRxJ,EAAQgC,KAAR,iCAAuC+H,KAAKC,UAAUH,KA0CvBI,IAAU3B,KAAM4B,MAC3C,kBAAChB,EAAA,EAAD,CAAY9G,QAAS,kBAvCzB+H,IAASC,yBAAwB,WAC/BT,EAAQ,IACRH,GAAQ,GACRI,EAAQ,CACNrH,KAAM,GACN8F,MAAO,GACPJ,KAAM,YAGVjI,EAAQgC,KAAR,oBA8BwCsG,KAAM+B,MAC1C,kBAAC,IAAD,CAAWjI,QAAS,kBAAMoH,GAASD,KACjC,kBAAC,IAAD,CAAiBjB,KAAM4B,IAAUI,SAAU,OAG/C,kBAAC,IAAD,CAAclI,QAAS,kBAhCJ,WACrB,IAAIyK,EAAW,IAAIC,YACZD,EAASrI,GAChBiG,YAAgB,SAAUoC,GAAU,SAACrI,GACnCxE,EAAQgC,KAAR,2BAAiCwC,OA4BJuI,KAC3B,kBAAC,IAAD,CAAiBzE,KAAMqC,MACvB,kBAAC,IAAD,iBAEF,kBAAC,IAAD,CAAcvI,QAAS,WA3BzBwI,YAAwB,SAAUnB,EAAS,uCA4BvC,kBAAC,IAAD,CAAiBnB,KAAMuC,MACvB,kBAAC,IAAD,2B,8MC8BOmC,UA7GQ,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,MAClBC,EClBC,IAAIC,gBAAgBC,cAAcnD,QDkBXoD,IAAI,UADuB,EAErBxN,mBAAiB,IAFI,mBAElDyN,EAFkD,KAEtCC,EAFsC,OAG5B1N,mBAAmB,IAHS,mBAGlD4J,EAHkD,KAGzC+D,EAHyC,OAIrB3N,mBAAoB,IAJC,mBAIlD4N,EAJkD,KAItCC,EAJsC,OAK3B7N,mBAAoB,IALO,mBAKlD8N,EALkD,KAKzCC,EALyC,OAMzB/N,mBAI7B,CACDgO,MAAO,IACPC,IAAK,IACLC,SAAS,IAb8C,mBAMlDC,EANkD,KAMrCC,EANqC,KAgBzD1K,qBAAU,WACiBiK,EAAN,OAAfN,EAA+BnD,KAAKmE,MAAMhB,GAC/B,IACfQ,EAAc,IACdE,EAAW,IACXK,EAAS,CACPJ,MAAO,IACPC,IAAK,IACLC,SAAS,IAEX,IAAII,EAAmBlB,EAAMmB,KAC1B5M,MAAM,KACNsI,QAAO,SAACmD,GAAD,OAAmBA,EAAMvM,SAAS,gBAAc,GACvDQ,WAAW,YAAa,IAC3BqM,EAAcY,KACb,CAAClB,EAAOC,IAEX3J,qBAAU,WACW,KAAf+J,GACFe,YAAkBf,EAAa,IAAK7D,GAAS,SAAC6E,GAC5CZ,EAAcY,GACdV,EAAWU,EAAQC,MAAM,EAAG,MACL,IAAnBD,EAAQlI,QACV6H,EAAS,CACPJ,MAAO,EACPC,IAAK,EACLC,SAAS,SAIhB,CAACtE,EAAS6D,IAEb,IAoBMkB,EAA4B,CAChCnK,OAAQiF,EACR6C,MAAOS,GACPf,KAAML,GACNL,YAAaL,GAMT2D,EAAqB,CACzBpK,OAAQD,IACR+H,MAAOD,GACPL,KAAMD,GACNT,YAAaD,GAGf,OACE,oCACkB,KAAfoC,GAAqBoB,IAAMC,cAAcH,EAAWlB,GAAa,IAClE,yBAAK9I,GAAG,aAAaoK,MAAO,CAAEC,MAAO,SACnC,kBAACC,GAAD,CACEC,WAAYpB,EAAQvH,OACpB4I,KA3Cc,WAChBrB,EAAQvH,SAAWqH,EAAWrH,QAQlCwH,GAAW,SAAC5H,GAAD,OAAOA,EAAEiJ,OAAOxB,EAAWc,MAAMP,EAAYH,MAAOG,EAAYF,SAC3EG,EAAS,CACPJ,MAAOG,EAAYH,MAAQ,GAC3BC,IAAKE,EAAYF,IAAM,GACvBC,SAAS,KAXTE,EAAS,CACPJ,MAAOG,EAAYH,MAAQ,GAC3BC,IAAKE,EAAYF,IAAM,GACvBC,SAAS,KAuCPA,QAASC,EAAYD,QACrBmB,OAAQ,kBAACC,EAAA,EAAD,OAEQ,KAAf7B,GACCK,EAAQvH,OAAS,GACjBuH,EAAS5K,KAAI,SAACqM,EAAiBxN,GAC7B,OAAO8M,IAAMC,cAAcF,EAAMnB,GAA1B,aACLpL,IAAKN,GACJ0L,EAAa8B,WApG9B,IA+GMN,GAAkBrL,YAAO4L,EAAP5L,CAAH,O,+pBE7HR6L,EAAb,kDAME,aAAe,IAAD,8BACZ,cAAM,mBANRC,kBAKc,IAJdvD,aAIc,IAHdwD,WAGc,IAFdC,YAEc,EAEZ,EAAKC,QAAQ,GAAGC,OAAO,CACrB3D,QAAS,+DACTuD,aAAc,uCAEhB,EAAKG,QAAQ,GAAGC,OAAO,CACrB3D,QAAS,+DACTwD,MAAO,kDACPD,aAAc,uCAEhB,EAAKG,QAAQ,GAAGC,OAAO,CACrB3D,QAAS,+DACTwD,MAAO,kDACPD,aAAc,2BACdE,OACE,qHAEJ,EAAKC,QAAQ,GAAGC,OAAO,CACrB3D,QACE,sEACFwD,MAAO,iEACPD,aAAc,2BACdE,OACE,oIAGJ,EAAKzD,QAAU,EAAKpJ,MAAM,WAC1B,EAAK6M,OAAS,EAAK7M,MAAM,UACzB,EAAK4M,MAAQ,EAAK5M,MAAM,SACxB,EAAK2M,aAAe,EAAK3M,MAAM,gBA9BnB,EANhB,U,MAAgCgN,GC4BnBC,EAAqB,SAChCC,EACAC,EACApJ,GAEA,IAAMqJ,EAAK,IAAIV,EACfU,EAAGzG,OACA0G,MAAK,WACJD,EAAGpN,MAAMkN,GACNI,OAAOH,EAAKvL,GAAIuL,GAChBE,MAAK,SAACrP,GACL+F,EAAS/F,SAGduP,SAAQ,WACPH,EAAGI,YAeIC,EAAU,SAACP,EAAmBV,EAAiBkB,GAC1D,IAAMN,EAAK,IAAIV,EACf,OAAOU,EACJzG,OACA0G,KAFI,sBAEC,4BAAAM,EAAA,oEACGnB,EAAM,GADT,SAEeY,EAAGpN,MAAMkN,GAAWU,IAApB,2BAA6BpB,GAA7B,IAAqCkB,SAAUA,KAF9D,cAEEG,EAFF,yBAGGA,GAHH,4CAKLN,SAAQ,WACPH,EAAGI,YAIIM,EAAkB,SAACZ,EAAmBa,EAAqBL,GACtE,IAAMN,EAAK,IAAIV,EACfU,EAAGzG,OACA0G,KADH,sBACQ,8BAAAM,EAAA,6DACEK,EAAmBD,EAAuB5N,KAAI,SAACqM,GAEnD,cADOA,EAAM,GACN,2BAAKA,GAAZ,IAAoBkB,SAAUA,OAH5B,SAKeN,EAAGpN,MAAMkN,GAAWe,QAAQD,GAL3C,cAKEH,EALF,yBAMGA,GANH,4CAQLN,SAAQ,WACPH,EAAGI,YAuBIU,EAAS,SAAChB,EAAmBtL,GACxC,IAAMwL,EAAK,IAAIV,OACJzO,IAAP2D,GACFwL,EAAGzG,OACA0G,MAAK,WACJD,EAAGpN,MAAMkN,GAAWiB,OAAOvM,MAE5B2L,SAAQ,WACPH,EAAGI,YAKEY,EAAY,SAAClB,EAAmBnJ,GAC3C,IAAMqJ,EAAK,IAAIV,EACfU,EAAGzG,OACA0G,MAAK,WACJD,EAAGpN,MAAMkN,GACNmB,UACAhB,MAAK,SAACiB,GACLvK,EAASuK,SAGdf,SAAQ,WACPH,EAAGI,YAIIe,EAAc,SAACrB,EAAmBnJ,GAC7C,IAAMqJ,EAAK,IAAIV,EACfU,EAAGzG,OACA0G,MAAK,WACJD,EAAGpN,MAAMkN,GAAWsB,OAAM,SAACA,GACzBzK,EAASyK,SAGZjB,SAAQ,WACPH,EAAGI,YAIIiB,EAAqB,SAACvB,GACjC,IAAME,EAAK,IAAIV,EACf,OAAOU,EACJzG,OACA0G,MAAK,WACJ,OAAOD,EAAGpN,MAAMkN,GAAWsB,WAE5BjB,SAAQ,WACPH,EAAGI,YA0BIkB,EAA2B,SAACxB,EAAmBvN,EAAcvB,GACxE,IAAMgP,EAAK,IAAIV,EACf,OAAOU,EACJzG,OACA0G,KAFI,sBAEC,4BAAAM,EAAA,sEACgBP,EAAGpN,MAAMkN,GAAWyB,MAAMhP,GAAMiP,iBAAiBxQ,GAAOiQ,UADxE,cACEC,EADF,yBAEGA,EAAM,IAFT,4CAILf,SAAQ,WACPH,EAAGI,YAIIqB,EAAgB,SAAC3B,EAAmB9O,GAC/C,IAAMgP,EAAK,IAAIV,EACf,OAAOU,EACJzG,OACA0G,KAFI,sBAEC,sBAAAM,EAAA,sEACSP,EAAGpN,MAAMkN,GAAWzC,IAAIrM,GADjC,oFAGLmP,SAAQ,WACPH,EAAGI,YAIIsB,EAAgC,SAC3C5B,EACAvN,EACAvB,GAEA,IAAMgP,EAAK,IAAIV,EACf,MAAqB,kBAAVtO,EACFgP,EACJzG,OACA0G,KAFI,sBAEC,sBAAAM,EAAA,sEACSP,EAAGpN,MAAMkN,GAAWyB,MAAMhP,GAAMiP,iBAAiBxQ,GAAOoQ,QADjE,oFAGLjB,SAAQ,WACPH,EAAGI,WAEmB,kBAAVpP,EACTgP,EACJzG,OACA0G,KAFI,sBAEC,sBAAAM,EAAA,sEACSP,EAAGpN,MAAMkN,GAAWyB,MAAMhP,GAAMoP,OAAO3Q,GAAOoQ,QADvD,oFAGLjB,SAAQ,WACPH,EAAGI,WAGAJ,EACJzG,OACA0G,KAFI,sBAEC,sBAAAM,EAAA,sEACSP,EACVpN,MAAMkN,GACNyB,MAAMhP,GACNiP,iBAAiB,GAAKxQ,GACtBoQ,QALC,oFAOLjB,SAAQ,WACPH,EAAGI,YAKEwB,EAAmB,SAAC9B,GAC/B,IAAME,EAAK,IAAIV,EACf,OAAOU,EACJzG,OACA0G,KAFI,sBAEC,sBAAAM,EAAA,sEACSP,EAAGpN,MAAMkN,GAAWmB,UAD7B,oFAGLd,SAAQ,WACPH,EAAGI,YAIIyB,EAAe,SAACC,EAAUrI,GACrC,IAAIsI,EAAkB,GACtBtI,EAAQ/H,SAAQ,SAACoI,GACf,GAA4B,kBAAjBA,EAAO9I,MAChB,GAAI8Q,EAAIhI,EAAO5B,qBAAsBvC,MAAO,CAC1C,IAAIqM,GAAS,EACbF,EAAIhI,EAAO5B,WAAWxG,SAAQ,SAACuQ,GAEzBA,EAAUC,cAAcxR,SAASoJ,EAAO9I,MAAMkR,iBAChDF,GAAS,MAGTA,EACFD,EAAK/P,MAAK,GAEV+P,EAAK/P,MAAK,QAGZ+P,EAAK/P,KAEH8P,EAAIhI,EAAO5B,WAAWgK,cAAcxR,SAASoJ,EAAO9I,MAAMkR,qBAGzD,GAA4B,kBAAjBpI,EAAO9I,MAEvB+Q,EAAK/P,KAAK8P,EAAIhI,EAAO5B,aAAe4B,EAAO9I,YACtC,GAA4B,mBAAjB8I,EAAO9I,MAEvB+Q,EAAK/P,KAAK8P,EAAIhI,EAAO5B,aAAe4B,EAAO9I,YACtC,GAAI8I,EAAO9I,iBAAiB2E,MAAO,CACxC,IAAIwM,GAAqB,EACzBrI,EAAO9I,MAAMU,SAAQ,SAAC0Q,GACM,kBAAfA,EAGPN,EAAIhI,EAAO5B,WAAWgK,cAAcxR,SAAS0R,EAAWF,iBAExDC,GAAY,GACiB,kBAAfC,EAEZN,EAAIhI,EAAO5B,aAAekK,IAAYD,GAAY,GACvB,mBAAfC,GAEZN,EAAIhI,EAAO5B,aAAekK,IAAYD,GAAY,MAG1DJ,EAAK/P,KAAKmQ,OAId,IAAIvR,GAAS,EAIb,OAHAmR,EAAKrQ,SAAQ,SAAC2Q,GACPA,IAAKzR,GAAS,MAEdA,GAGIyN,EAAoB,SAC/ByB,EACArG,EACA9C,GAEA,IAAMqJ,EAAK,IAAIV,EACfU,EAAGzG,OACA0G,MAAK,WACJ,IAAIqC,EAAsB,OACtBC,GAAmB,EAEvB9I,EAAQ/H,SAAQ,SAACoI,GACK,IAAhBA,EAAO7B,OACTqK,EAAcxI,EAAO5B,UACD,IAAhB4B,EAAO7B,OAAYsK,GAAU,OAIjCA,EACFvC,EAAGpN,MAAMkN,GACNhG,QAAO,SAACgI,GAAD,OAASD,EAAaC,EAAKrI,MAClC8I,UACAC,OAAOF,GACPrC,MAAK,SAACF,GACLpJ,EAASoJ,MAGbC,EAAGpN,MAAMkN,GACNhG,QAAO,SAACgI,GAAD,OAASD,EAAaC,EAAKrI,MAClC+I,OAAOF,GACPrC,MAAK,SAACF,GACLpJ,EAASoJ,SAIhBI,SAAQ,WACPH,EAAGI,YAIIqC,EAA2B,SAAC3C,EAAmBrG,GAC1D,IAAMuG,EAAK,IAAIV,EACf,OAAOU,EACJzG,OACA0G,MAAK,WACJ,IAAIqC,EAAsB,OACtBC,GAAmB,EASvB,OAPA9I,EAAQ/H,SAAQ,SAACoI,GACK,IAAhBA,EAAO7B,OACTqK,EAAcxI,EAAO5B,UACD,IAAhB4B,EAAO7B,OAAYsK,GAAU,OAIjCA,EACKvC,EACJpN,MAAMkN,GACNhG,QAAO,SAACgI,GAAD,OAASD,EAAaC,EAAKrI,MAClC8I,UACAC,OAAOF,GAEHtC,EACJpN,MAAMkN,GACNhG,QAAO,SAACgI,GAAD,OAASD,EAAaC,EAAKrI,MAClC+I,OAAOF,MAGbnC,SAAQ,WACPH,EAAGI,YAuBIsC,EAAkC,SAAC5C,EAAmB6C,GACjE,IAAM3C,EAAK,IAAIV,EACf,OAAOU,EACJzG,OACA0G,MAAK,WACJ,OAAOD,EAAGpN,MAAMkN,GAAW8C,QAAQD,GAAWE,gBAE/C1C,SAAQ,WACPH,EAAGI,YAII3F,EAAkB,SAC7BqF,EACAV,EACAzI,GAEA,IAAMqJ,EAAK,IAAIV,EACfU,EAAGzG,OACA0G,MAAK,WACJD,EAAGpN,MAAMkN,GACNU,IAAIpB,GACJa,MAAK,SAACzL,GACLmC,EAASnC,SAGd2L,SAAQ,WACPH,EAAGI,YAII0C,EAAY,SAAChD,GACxB,IAAME,EAAK,IAAIV,EACfU,EAAGzG,OACA0G,MAAK,WACJD,EAAGpN,MAAMkN,GAAWrI,WAErB0I,SAAQ,WACPH,EAAGI,YAIIxF,EAA0B,SAACkF,EAAmBrG,EAAmB6G,GAC5EjC,EAAkByB,EAAWrG,GAAS,SAACsJ,GAErC,GAAIC,OAAOC,WAAaD,OAAOC,UAAUC,iBAAkB,CACzD,IAAIC,EAAO,IAAIC,KAAK,CAACC,mBAAmBC,UAAUvJ,KAAKC,UAAU+I,MAAS,CACxEzQ,KAHc,oCAKhB2Q,UAAUC,iBAAiBC,EAAM7C,OAC5B,CACL,IAAIC,EAAIgD,SAAS5E,cAAc,KAC/B4B,EAAEiD,SAAWlD,EACbC,EAAEkD,KAAO,wCAA8BC,mBAAmB3J,KAAKC,UAAU+I,IACzExC,EAAEvH,OAAS,SACXuK,SAASI,KAAKC,YAAYrD,GAC1BA,EAAEsD,QACFN,SAASI,KAAKG,YAAYvD,S,oyBCtbjBrH,IAjBI,SAAC,GAAsE,IAApEZ,EAAmE,EAAnEA,KAAMyL,EAA6D,EAA7DA,UAAWC,EAAkD,EAAlDA,SAAUzL,EAAwC,EAAxCA,UAAWqG,EAA6B,EAA7BA,MAAOxM,EAAsB,EAAtBA,QACjE,OACE,qCACI4R,GACA,kBAACC,EAAD,CAAcC,KAAMH,EAAW3R,QAASA,EAASwM,MAAOA,GACtD,kBAAC/F,EAAD,CAAMP,KAAMA,EAAMC,UAAWA,KAGhCyL,GACC,kBAACG,EAAD,CAAsBvF,MAAOA,GAC3B,kBAAC/F,EAAD,CAAMP,KAAMA,EAAMC,UAAWA,OAavC,IAAM0L,EAAexQ,IAAOC,IAAV,KACP,qBAAGE,MAAkBwQ,QAAQrQ,SAClB,qBAAGH,MAAkBwQ,QAAQlQ,mBAKvC,qBAAGN,MAAkBwQ,QAAQC,UACxB,qBAAGzQ,MAAkBwQ,QAAQC,UACnC,qBAAGH,KAAmB,OAAS,WAkBpCC,EAAuB1Q,YAAOwQ,EAAPxQ,CAAH,KACf,qBAAGG,MAAkBwQ,QAAQlQ,mBAClB,qBAAGN,MAAkBwQ,QAAQrQ,SAI7C8E,EAAOpF,YAAO4F,IAAP5F,CAAH,M,gCCxEH,SAAS7D,IACd,GAAwC,OAApC0U,aAAaC,QAAQ,YAA2D,KAApCD,aAAaC,QAAQ,WAAmB,CACtF,IAAIhS,EAAO,eAGX,OAF6C,OAAzC+R,aAAaC,QAAQ,kBACvBhS,EAAO+R,aAAaC,QAAQ,gBAAkB,IACzC,CAAEC,KAAMF,aAAaC,QAAQ,WAAa,GAAIhS,KAAMA,IAL/D,mC,gCCAA,sGAAO,IAAMzB,EAAc,SACzBnB,EACA8U,EACAC,GAEA,QAAgB7T,IAAZlB,EAAuB,CACzB,IAAIgV,EAAU,IAAIC,eAClBD,EAAQpL,KAAK,OAAQ5J,EAAQ6U,MAC7BG,EAAQE,iBAAiB,eAAgB,oBACzC,IAAIC,EAAS,CACXC,SAA2B,KAAjBpV,EAAQ4C,KAAc5C,EAAQ4C,KAAO,eAC/CyS,gBAAuBnU,IAAX6T,EAAuBA,EAAS,GAC5CD,QAASA,GAEXE,EAAQM,KAAKlL,KAAKC,UAAU8K,MAInBI,EAAmB,SAC9BvV,EACAmV,GAEA,QAAgBjU,IAAZlB,EAAuB,CACzBwV,QAAQC,IAAIN,GACZ,IAAIH,EAAU,IAAIC,eAClBD,EAAQpL,KAAK,OAAQ5J,EAAQ6U,MAC7BG,EAAQE,iBAAiB,eAAgB,oBACzCF,EAAQM,KAAKH,KAIJO,EAAoB,SAAC3V,GAChC,OAAIA,EAAKgB,SAAS,MACThB,EAAKwB,WAAW,KAAM,KAAKA,WAAW,KAAM,KAE5CxB,I,0FC/BI,SAAS4V,EAAmBC,GACzC,OCJa,SAA4BA,GACzC,GAAI5P,MAAM6P,QAAQD,GAAM,OAAO,OAAAE,EAAA,GAAiBF,GDGzC,CAAkBA,IELZ,SAA0BG,GACvC,GAAsB,qBAAXC,QAA0BA,OAAOC,YAAYpQ,OAAOkQ,GAAO,OAAO/P,MAAMkQ,KAAKH,GFIvD,CAAgBH,IAAQ,OAAAO,EAAA,GAA2BP,IGLvE,WACb,MAAM,IAAIQ,UAAU,wIHIwE,K,gCIL9F,kCAAO,IAAMpV,EAAc,SACzBqV,EACA7U,GAEA,IAAIP,EAAS,EACTlB,EAAO,GAEPuW,EAAc,GAClBD,EAASxU,MAAM,KAAKE,SAAQ,SAACjB,GACvB,OAAOsR,KAAKtR,GACdwV,GAAexV,EAEff,GAAQ,IAAMe,KAGlBwV,EAAcA,EAAYC,OAE1B,IAAIC,EAAgB,KAiDpB,OAhDAF,EAAYzU,MAAM,KAAKE,SAAQ,SAAC0U,GAC9B,IAAIC,EAA0B,GAC9BD,EAAY5U,MAAM,KAAKE,SAAQ,SAACC,GAC9B,IAAIH,EAAQG,EAAKH,MAAM,KACvB6U,EAAgBA,EAAcpH,OAAOzN,MAGvC6U,EAAc3U,SAAQ,SAACjB,GACrB,IAAI6V,EAAqB,EACzB,GAAI7V,EAAQC,SAAS,KAQnB,GAPKD,EAAQ8V,WAAW,OACtBD,EAAarV,SAASR,EAAQe,MAAM,KAAK,IACzCf,EAAUA,EAAQe,MAAM,KAAK,IAE/Bf,EAAUA,EAAQS,WAAW,IAAK,IAC9BC,IAAMmV,GAA0B,GAEhC7V,EAAQC,SAAS,KAAM,CAEzB,IADA,IAAM8V,EAAM/V,EAAQe,MAAM,KACjByE,EAAI,EAAGA,EAAIqQ,EAAYrQ,IAAK,CACnC,IAAMwQ,EAAUC,EAAQzV,SAASuV,EAAI,KACrC5V,GAAU6V,EACVN,GAASM,EAAU,IAErB7V,GAAUK,SAASuV,EAAI,SAClB,GAAI/V,EAAQC,SAAS,KAAM,CAEhC,IADA,IAAM8V,EAAM/V,EAAQe,MAAM,KACjByE,EAAI,EAAGA,EAAIqQ,EAAYrQ,IAAK,CACnC,IAAMwQ,EAAUC,EAAQzV,SAASuV,EAAI,KACrC5V,GAAU6V,EACVN,GAASM,EAAU,IAErB7V,GAAUK,SAASuV,EAAI,SAEvB,IAAK,IAAIvQ,EAAI,EAAGA,EAAIqQ,EAAYrQ,IAAK,CACnC,IAAMwQ,EAAUC,EAAQzV,SAASR,IACjCG,GAAU6V,EACVN,GAASM,EAAU,SAIvB7V,GAAUK,SAASR,GACnB0V,GAAS1V,EAAU,OAGvB0V,EAAQA,EAAM5H,MAAM,GAAI,GAAK,QAGxB,CAAE3N,OAAQA,EAAQlB,KAAMA,EAAMyW,MAAOA,IAGjCO,EAAU,SAACC,GACtB,IACMC,EAAMD,EAEZ,OADWE,KAAKC,MAFJ,EAEgBD,KAAKE,UAAYH,EAFjC,M,oFCjBCvU,IA3CG,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,KAAMC,EAAmB,EAAnBA,KAAmB,EACd1C,oBAAkB,GADJ,mBACrCmX,EADqC,KAC5BC,EAD4B,OAEVpX,oBAAkB,GAFR,mBAErCqX,EAFqC,KAEvBC,EAFuB,KAI5C5T,qBAAU,WACR,GAAa,SAATjB,EACF6U,GAAU,GACVF,GAAW,OACN,CACL,IAAIG,EAAU9U,EAAO,IACR,UAATA,GAA6B,aAATA,IAAqB8U,EAAU9U,EAAO,MAC9DoP,YAA8B0F,EAAS,OAAQ7U,GAC5C0N,MAAK,SAACmB,GACL+F,EAAU/F,EAAQ,GAClB6F,GAAW,MAEZI,OAAM,WACLF,GAAU,GACVF,GAAW,SAGhB,CAAC3U,EAAMC,IAaV,OACE,oCACGyU,GAAW,kBAAC,IAAD,OACVA,IAAYE,GAAgB,kBAAC,IAAD,OAC5BF,GAAWE,GAAgB,oCAfd,SAAC5U,GAClB,OAAQA,GACN,IAAK,SACH,OAAO,kBAAC,IAAD,MACT,IAAK,OACH,OAAO,kBAAC,IAAD,MACT,QACE,MAAO,IAQuBgV,CAAWhV,O,0IC9CrCiV,E,kBAAAA,K,oBAAAA,E,gBAAAA,E,gBAAAA,E,mBAAAA,M,SAOS/M,EAcnB,WACEhG,EACAjC,EACAiV,EACA9S,EACAE,EACAK,EACAwS,EACAnV,EACA0C,EACA0S,EACAC,EACAC,GACC,yBA1BHpT,QA0BE,OAzBFjC,UAyBE,OAxBFiV,cAwBE,OAvBF9S,YAuBE,OAtBFE,UAsBE,OArBFK,kBAqBE,OApBFwS,YAoBE,OAnBFnV,UAmBE,OAlBF0C,YAkBE,OAjBF0S,aAiBE,OAhBFC,sBAgBE,OAfFC,WAeE,EACApR,KAAKhC,GAAKA,EACVgC,KAAKjE,KAAOA,GAAQ,GACpBiE,KAAKgR,SAAWA,GAAYD,EAAeM,QAC3CrR,KAAK9B,OAASA,IAAU,EACxB8B,KAAK5B,KAAOA,GAAQ,EACpB4B,KAAKvB,aAAeA,GAAgB,GACpCuB,KAAKiR,OAASA,GAAU,GACxBjR,KAAKlE,KAAOA,IAAQ,EACpBkE,KAAKxB,OAASA,GAAU,GACxBwB,KAAKkR,QAAUA,GAAW,GAC1BlR,KAAKmR,iBAAmBA,GAAoB,GAC5CnR,KAAKoR,MAAQA,GAAS,GAInB,SAASE,EAASC,GACvB,IAAMC,OAAyBnX,IAAbkX,EAAIxV,MAAyC,iBAAZwV,EAAIxV,KACjD0V,OAAyBpX,IAAbkX,EAAInT,MAAyC,iBAAZmT,EAAInT,KACjDsT,OACWrX,IAAfkX,EAAIrT,QAA6C,kBAAdqT,EAAIrT,OACnCyT,OACiBtX,IAArBkX,EAAI9S,cAAyD,iBAApB8S,EAAI9S,aACzCmT,OAA6BvX,IAAfkX,EAAIN,QAA6C,iBAAdM,EAAIN,OACrDY,OAAyBxX,IAAbkX,EAAIzV,MAAyC,kBAAZyV,EAAIzV,KACjDgW,OAA6BzX,IAAfkX,EAAI/S,QAA6C,iBAAd+S,EAAI/S,OACrDuT,OACY1X,IAAhBkX,EAAIL,SAA+C,iBAAfK,EAAIL,QACpCc,OACqB3X,IAAzBkX,EAAIJ,kBAC2B,iBAAxBI,EAAIJ,iBACPc,OAA2B5X,IAAdkX,EAAIH,OAA2C,iBAAbG,EAAIH,MAEzD,OACEG,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,I,kRC9EQC,EAYAC,EAUAC,EAOAC,EAUAC,EAUAC,E,kBAjDAL,K,cAAAA,E,cAAAA,E,UAAAA,E,YAAAA,E,gBAAAA,E,gBAAAA,E,kBAAAA,E,kBAAAA,E,mBAAAA,M,cAYAC,K,cAAAA,E,cAAAA,E,qCAAAA,E,0CAAAA,E,2CAAAA,E,yCAAAA,E,yCAAAA,M,cAUAC,K,gBAAAA,E,kBAAAA,E,gBAAAA,E,iBAAAA,M,cAOAC,K,uBAAAA,E,mCAAAA,E,yBAAAA,E,qBAAAA,E,gBAAAA,E,0BAAAA,E,sBAAAA,M,cAUAC,K,8BAAAA,E,8BAAAA,E,sBAAAA,E,8BAAAA,E,gCAAAA,E,8BAAAA,E,mBAAAA,M,cAUAC,K,8BAAAA,E,sBAAAA,E,8BAAAA,E,UAAAA,E,oBAAAA,E,0BAAAA,E,wBAAAA,E,2BAAAA,M,SAWSjM,EAoCnB,WACEtI,EACAjC,EACAiK,EACAC,EACAC,EACAsM,EACAC,EACAtM,EACAN,EACAoL,EACAyB,EACAC,EACAC,EACA7M,EACA8M,EACAC,EAEAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAxD,EACA7K,EACAsO,EACAC,GACC,yBAtEH7V,QAsEE,OArEFjC,UAqEE,OApEFiK,YAoEE,OAnEFC,cAmEE,OAlEFC,UAkEE,OAjEFsM,cAiEE,OAhEFC,kBAgEE,OA/DFtM,WA+DE,OA9DFN,YA8DE,OA7DFoL,YA6DE,OA5DFyB,gBA4DE,OA3DFC,aA2DE,OA1DFC,YA0DE,OAzDF7M,WAyDE,OAxDF8M,gBAwDE,OAvDFC,kBAuDE,OArDFC,mBAqDE,OApDFC,iBAoDE,OAnDFC,eAmDE,OAlDFC,YAkDE,OAjDFC,mBAiDE,OAhDFC,WAgDE,OA/CFC,oBA+CE,OA9CFC,sBA8CE,OA7CFC,gBA6CE,OA5CFC,mBA4CE,OA3CFC,cA2CE,OA1CFC,eA0CE,OAzCFC,gBAyCE,OAxCFxD,UAwCE,OAvCF7K,QAuCE,OAtCFsO,gBAsCE,OArCFC,mBAqCE,EACA7T,KAAKhC,GAAKA,EACVgC,KAAKjE,KAAOA,GAAQ,GACpBiE,KAAKgG,OAASA,GAAUkM,EAAY4B,IACpC9T,KAAKiG,SAAWA,GAAY,mBAC5BjG,KAAKkG,KAAOA,GAAQkM,EAAU2B,OAC9B/T,KAAKwS,SAAWA,GAAYF,EAAc0B,cAC1ChU,KAAKyS,aAAeA,GAAgB,GACpCzS,KAAKmG,MAAQA,GAASgM,EAAW8B,MACjCjU,KAAK6F,OAASA,GAAU0M,EAAY2B,YACpClU,KAAKiR,OAASA,GAAU,GACxBjR,KAAK0S,WAAaA,GAAc,GAChC1S,KAAK2S,QAAUA,GAAW,GAC1B3S,KAAK4S,OAASA,GAAU,GACxB5S,KAAK+F,MAAQA,GAAS,EAEtB/F,KAAK6S,WAAaA,GAAc,CAC9B,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAExE7S,KAAK8S,aAAeA,GAAgB,EAEpC9S,KAAK+S,cAAgBA,GAAiB,GACtC/S,KAAKgT,YAAcA,GAAe,GAClChT,KAAKiT,UAAYA,GAAa,GAC9BjT,KAAKkT,OAASA,GAAU,GACxBlT,KAAKmT,cAAgBA,GAAiB,GACtCnT,KAAKoT,MAAQA,GAAS,EACtBpT,KAAKqT,eAAiBA,GAAkB,GACxCrT,KAAKsT,iBAAmBA,GAAoB,GAC5CtT,KAAKuT,WAAaA,GAAc,GAChCvT,KAAKwT,cAAgBA,GAAiB,GACtCxT,KAAKyT,SAAWA,GAAY,GAC5BzT,KAAK0T,UAAYA,GAAa,GAC9B1T,KAAK2T,WAAaA,GAAc,GAChC3T,KAAKmQ,KAAOA,GAAQ,GACpBnQ,KAAKsF,GAAKA,GAAM,GAChBtF,KAAK4T,WAAaA,IAAc,EAChC5T,KAAK6T,cAAgBA,IAAiB,I,8ECxKrBrP,EAOnB,WACExG,EACAjC,EACA+N,EACAqK,EACArP,GACC,yBAZH9G,QAYE,OAXFjC,UAWE,OAVFoY,YAUE,OATFrP,UASE,OARFgF,cAQE,EACA9J,KAAKhC,GAAKA,EACVgC,KAAK8J,SAAWA,GAAY,GAC5B9J,KAAKjE,KAAOA,GAAQ,GACpBiE,KAAKmU,OAASA,GAAU,GACxBnU,KAAK8E,KAAOA,GAAQ,K,8EClBHI,EAUnB,WACElH,EACAjC,EACAuJ,EACAC,EACA4K,EACAiE,EACA5O,EACAC,GACC,yBAlBHzH,QAkBE,OAjBFjC,UAiBE,OAhBFuJ,QAgBE,OAfFC,qBAeE,OAdF4K,UAcE,OAbFiE,aAaE,OAZF5O,aAYE,OAXFC,WAWE,EACAzF,KAAKhC,GAAKA,EACVgC,KAAKjE,KAAOA,GAAQ,GACpBiE,KAAKsF,GAAKA,GAAM,EAChBtF,KAAKuF,gBAAkBA,GAAmB,GAC1CvF,KAAKmQ,KAAOA,GAAQ,GACpBnQ,KAAKoU,QAAUA,GAAW,EAC1BpU,KAAKwF,QAAUA,GAAW,GAC1BxF,KAAKyF,MAAQA,GAAS","file":"static/js/10.dca45b23.chunk.js","sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\nimport { useHistory } from \"react-router\";\nimport styled from \"styled-components\";\nimport { useWebhook } from \"../../hooks/webhookHook\";\nimport { rollCommand } from \"../../services/DiceService\";\nimport { sendMessage } from \"../../services/DiscordService\";\nimport LinkCheck from \"./LinkCheck\";\n\ninterface $Props {\n  text: string;\n}\n\nconst SmallFormatedText = ({ text }: $Props) => {\n  let webhook = useWebhook();\n  const [formatedText, setFormatedText] = useState<JSX.Element>();\n  let history = useHistory();\n\n  const cut = (str: string, cutStart: number, cutEnd: number) => {\n    return str.substr(0, cutStart) + str.substr(cutEnd + 1);\n  };\n\n  const rollDiscord = useCallback(\n    (command: string) => {\n      if (!command.includes(\"d\")) {\n        let newCommand = \"d20\" + command;\n        let value = parseInt(command.replaceAll(\"+\", \"\"));\n        const { result, text } = rollCommand(newCommand);\n\n        let krit = false;\n        if (result - value === 20) krit = true;\n        let fail = false;\n        if (result - value === 1) fail = true;\n\n        let rollString = \"d20(`\" + (result - value) + \"`)\" + command;\n        if (result !== undefined && webhook !== undefined) {\n          sendMessage(\n            webhook,\n            result +\n              \" \" +\n              text +\n              (fail ? \" :red_circle:\" : \"\") +\n              (krit ? \" :green_circle:\" : \"\") +\n              \" ||\" +\n              rollString +\n              \"||\"\n          );\n        }\n      } else {\n        const { result, text } = rollCommand(command);\n        if (result !== undefined && webhook !== undefined) {\n          sendMessage(webhook, result + \" \" + text + \" ||\" + command + \"||\");\n        }\n      }\n    },\n    [webhook]\n  );\n\n  const formatLink = useCallback(\n    (text: string) => {\n      if (text !== undefined) {\n        if (text.includes(\"[[\") && text.includes(\"]]\")) {\n          const parts = text.split(\"[[\");\n          let formattedParts: any[] = [];\n          parts.forEach((part: string, index: number) => {\n            if (part.includes(\"]]\")) {\n              const codePart: string[] = part.split(\"]]\");\n              const linkParts: string[] = codePart[0].split(\".\");\n              let linkEntity = linkParts[0];\n              if (linkEntity === \"dice\") {\n                formattedParts.push(\n                  <TextPart key={index}>\n                    <DiscordPart onClick={() => rollDiscord(linkParts[1])}>\n                      <LinkCheck type={linkParts[0]} name={linkParts[1]} /> {linkParts[1]}\n                    </DiscordPart>\n                    <TextPart>{codePart[1]}</TextPart>\n                  </TextPart>\n                );\n              } else {\n                if (linkEntity === \"class\" || linkEntity === \"subclass\") linkEntity += \"e\";\n                const link: string = \"/\" + linkEntity + \"-detail/name/\" + linkParts[1];\n                formattedParts.push(\n                  <TextPart key={index}>\n                    <Link onClick={() => history.push(link)}>\n                      <LinkCheck type={linkParts[0]} name={linkParts[1]} /> {linkParts[1]}\n                    </Link>\n                    <TextPart>{codePart[1]}</TextPart>\n                  </TextPart>\n                );\n              }\n            } else {\n              if (part !== \"\") formattedParts.push(<TextPart key={index}>{part}</TextPart>);\n            }\n          });\n          return <>{formattedParts}</>;\n        } else {\n          return <TextPart>{text}</TextPart>;\n        }\n      }\n    },\n    [history]\n  );\n\n  const formatTable = useCallback(\n    (textPart: string) => {\n      if (textPart.includes(\"||table||\")) {\n        const table: string[] = text.split(\"||table||\");\n        const tableRows: string[] = table[1].split(\"||\");\n        let isHead = true;\n        return (\n          <>\n            {formatLink(table[0])}\n            <table>\n              <tbody>\n                {tableRows.map((row: string, index: number) => {\n                  if (row.includes(\"|\")) {\n                    if (isHead) {\n                      isHead = false;\n                      const cells = row.split(\"|\");\n                      return (\n                        <tr key={index}>\n                          {cells.map((cell: string, index: number) => {\n                            return <TableHeadProp key={index}>{cell}</TableHeadProp>;\n                          })}\n                        </tr>\n                      );\n                    } else {\n                      const cells = row.split(\"|\");\n                      return (\n                        <tr key={index}>\n                          {cells.map((cell: string, index: number) => {\n                            return <TableProp key={index}>{formatLink(cell)}</TableProp>;\n                          })}\n                        </tr>\n                      );\n                    }\n                  } else {\n                    return <></>;\n                  }\n                })}\n              </tbody>\n            </table>\n            {formatLink(table[2])}\n          </>\n        );\n      } else {\n        return formatLink(textPart);\n      }\n    },\n    [text, formatLink]\n  );\n\n  const formatText = useCallback(\n    (textPart: string) => {\n      while (textPart.includes(\"{{\")) {\n        const cutStart = textPart.indexOf(\"{{\");\n        const cutEnd = textPart.indexOf(\"}}\") + 1;\n        textPart = cut(textPart, cutStart, cutEnd);\n      }\n      return formatTable(textPart);\n    },\n    [formatTable]\n  );\n\n  useEffect(() => {\n    if (text !== undefined) {\n      let formatedText = formatText(text);\n      setFormatedText(formatedText);\n    }\n  }, [text, history, formatText]);\n\n  return <FormatedTextContainer>{formatedText}</FormatedTextContainer>;\n};\n\nexport default SmallFormatedText;\n\nconst FormatedTextContainer = styled.div`\n  padding: 5px;\n`;\n\nconst Link = styled.span`\n  display: inline-block;\n  background-color: ${({ theme }) => theme.tile.backgroundColorLink};\n  border-radius: 5px;\n  text-decoration: none;\n  color: ${({ theme }) => theme.tile.color};\n  font-size: 14px;\n  padding: 0px 5px 0px 5px;\n  cursor: pointer;\n  white-space: pre;\n`;\n\nconst DiscordPart = styled(Link)`\n  background-color: #7289da;\n  color: white;\n`;\n\nconst TextPart = styled.span`\n  white-space: pre-line;\n`;\n\nconst TableHeadProp = styled.th`\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  border-radius: 5px;\n  padding: 2px 5px 2px 5px;\n`;\n\nconst TableProp = styled.td`\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  border-radius: 5px;\n  padding: 5px;\n  text-align: center;\n`;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nimport Talent from \"../../../data/Talent\";\nimport SmallFormatedText from \"../../general_elements/SmallFormatedText\";\n\ninterface $Props {\n  talent: Talent;\n}\n\nconst TalentTile = ({ talent }: $Props) => {\n  return (\n    <Tile to={\"/talent-detail/id/\" + talent.id} $isflaw={talent.isFlaw}>\n      <Cost>\n        <b>{talent.cost}</b>\n      </Cost>\n\n      <Name>\n        <b>{talent.name}</b>\n      </Name>\n\n      <PropWrapper>\n        <Prop>{talent.type ? talent.stress : \"Passive\"}</Prop>\n        <SmallFormatedText text={talent.prerequisite} />\n      </PropWrapper>\n    </Tile>\n  );\n};\n\nexport default TalentTile;\n\ntype type = {\n  $isflaw: boolean;\n};\n\nconst Tile = styled(Link)<type>`\n  flex: 1 1 15em;\n  color: ${({ theme }) => theme.tile.color};\n  ${(props) => {\n    if (props.$isflaw) {\n      return `background-color: ${props.theme.input.backgroundColor};`;\n    } else {\n      return `background-color: ${props.theme.tile.backgroundColor};`;\n    }\n  }}\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ${({ theme }) => theme.tile.boxShadow};\n  overflow: hidden;\n  cursor: pointer;\n\n  --notchSize: 15px;\n  clip-path: polygon(\n    0% var(--notchSize),\n    var(--notchSize) 0%,\n    100% 0%,\n    100% calc(100% - var(--notchSize)),\n    calc(100% - var(--notchSize)) 100%,\n    0 100%\n  );\n`;\n\nconst Cost = styled.div`\n  height: auto;\n  float: left;\n  padding: 10px;\n  width: 20px;\n  height: 20px;\n  line-height: 20px;\n  float: right;\n  text-align: center;\n  border-top-right-radius: 3px;\n  border-radius: 30px;\n  border-bottom: solid 1px ${({ theme }) => theme.main.highlight};\n  margin: 5px;\n`;\n\nconst Name = styled.div`\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 0 5px 5px 5px;\n  font-size: 14px;\n  width: calc(100% - 30px);\n  color: white;\n  text-align: center;\n  border-radius: 5px;\n`;\n\nconst PropWrapper = styled.div`\n  height: auto;\n  width: calc(100% - 10px);\n  float: left;\n  padding: 5px 5px 0 5px;\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst Prop = styled.div`\n  height: 12px;\n  width: calc(50% - 22.5px);\n  margin: 0 0 5px 5px;\n  float: left;\n  line-height: 10px;\n  padding: 10px;\n  font-size: 12px;\n  border-radius: 5px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n\n  &:nth-child(odd) {\n  margin: 0 0 5px 0px;\n  }\n}\n`;\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","/* eslint-disable no-undefined,no-param-reassign,no-shadow */\n\n/**\n * Throttle execution of a function. Especially useful for rate limiting\n * execution of handlers on events like resize and scroll.\n *\n * @param  {Number}    delay          A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {Boolean}   [noTrailing]   Optional, defaults to false. If noTrailing is true, callback will only execute every `delay` milliseconds while the\n *                                    throttled-function is being called. If noTrailing is false or unspecified, callback will be executed one final time\n *                                    after the last throttled-function call. (After the throttled-function has not been called for `delay` milliseconds,\n *                                    the internal counter is reset)\n * @param  {Function}  callback       A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                    to `callback` when the throttled-function is executed.\n * @param  {Boolean}   [debounceMode] If `debounceMode` is true (at begin), schedule `clear` to execute after `delay` ms. If `debounceMode` is false (at end),\n *                                    schedule `callback` to execute after `delay` ms.\n *\n * @return {Function}  A new, throttled, function.\n */\nfunction throttle (delay, noTrailing, callback, debounceMode) {\n  /*\n   * After wrapper has stopped being called, this timeout ensures that\n   * `callback` is executed at the proper times in `throttle` and `end`\n   * debounce modes.\n   */\n  var timeoutID;\n  var cancelled = false; // Keep track of the last time `callback` was executed.\n\n  var lastExec = 0; // Function to clear existing timeout\n\n  function clearExistingTimeout() {\n    if (timeoutID) {\n      clearTimeout(timeoutID);\n    }\n  } // Function to cancel next exec\n\n\n  function cancel() {\n    clearExistingTimeout();\n    cancelled = true;\n  } // `noTrailing` defaults to falsy.\n\n\n  if (typeof noTrailing !== 'boolean') {\n    debounceMode = callback;\n    callback = noTrailing;\n    noTrailing = undefined;\n  }\n  /*\n   * The `wrapper` function encapsulates all of the throttling / debouncing\n   * functionality and when executed will limit the rate at which `callback`\n   * is executed.\n   */\n\n\n  function wrapper() {\n    var self = this;\n    var elapsed = Date.now() - lastExec;\n    var args = arguments;\n\n    if (cancelled) {\n      return;\n    } // Execute `callback` and update the `lastExec` timestamp.\n\n\n    function exec() {\n      lastExec = Date.now();\n      callback.apply(self, args);\n    }\n    /*\n     * If `debounceMode` is true (at begin) this is used to clear the flag\n     * to allow future `callback` executions.\n     */\n\n\n    function clear() {\n      timeoutID = undefined;\n    }\n\n    if (debounceMode && !timeoutID) {\n      /*\n       * Since `wrapper` is being called for the first time and\n       * `debounceMode` is true (at begin), execute `callback`.\n       */\n      exec();\n    }\n\n    clearExistingTimeout();\n\n    if (debounceMode === undefined && elapsed > delay) {\n      /*\n       * In throttle mode, if `delay` time has been exceeded, execute\n       * `callback`.\n       */\n      exec();\n    } else if (noTrailing !== true) {\n      /*\n       * In trailing throttle mode, since `delay` time has not been\n       * exceeded, schedule `callback` to execute `delay` ms after most\n       * recent execution.\n       *\n       * If `debounceMode` is true (at begin), schedule `clear` to execute\n       * after `delay` ms.\n       *\n       * If `debounceMode` is false (at end), schedule `callback` to\n       * execute after `delay` ms.\n       */\n      timeoutID = setTimeout(debounceMode ? clear : exec, debounceMode === undefined ? delay - elapsed : delay);\n    }\n  }\n\n  wrapper.cancel = cancel; // Return the wrapper function.\n\n  return wrapper;\n}\n\n/* eslint-disable no-undefined */\n/**\n * Debounce execution of a function. Debouncing, unlike throttling,\n * guarantees that a function is only executed a single time, either at the\n * very beginning of a series of calls, or at the very end.\n *\n * @param  {Number}   delay         A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {Boolean}  [atBegin]     Optional, defaults to false. If atBegin is false or unspecified, callback will only be executed `delay` milliseconds\n *                                  after the last debounced-function call. If atBegin is true, callback will be executed only at the first debounced-function call.\n *                                  (After the throttled-function has not been called for `delay` milliseconds, the internal counter is reset).\n * @param  {Function} callback      A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                  to `callback` when the debounced-function is executed.\n *\n * @return {Function} A new, debounced function.\n */\n\nfunction debounce (delay, atBegin, callback) {\n  return callback === undefined ? throttle(delay, atBegin, false) : throttle(delay, callback, atBegin !== false);\n}\n\nexport { throttle, debounce };\n","export default class Filter {\n  fieldName: string;\n  value: string | boolean | number | string[] | boolean[] | number[];\n  sort: number;\n  constructor(\n    filedName: string,\n    value: string | boolean | number | string[] | boolean[] | number[],\n    sort?: number\n  ) {\n    this.fieldName = filedName;\n    this.value = value;\n    this.sort = sort || 0;\n  }\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faChevronCircleDown,\n  faChevronCircleUp,\n  IconDefinition,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\nimport IconButton from \"./IconButton\";\n\ninterface $Props {\n  value: string;\n  sort: { name: string; label: string; sort: number };\n  field: string;\n  label: string;\n  icon?: IconDefinition;\n  transform?: string | Transform;\n  mobile?: boolean;\n  onChange: (value: string, sort: { name: string; label: string; sort: number }) => void;\n}\n\nconst StringSearchField = ({\n  value,\n  sort,\n  field,\n  label,\n  icon,\n  transform,\n  mobile,\n  onChange,\n}: $Props) => {\n  const changeSort = () => {\n    if (sort.label === label) {\n      onChange(value, {\n        name: field,\n        label: label,\n        sort: (sort.sort + 1) % 3,\n      });\n    } else {\n      onChange(value, {\n        name: field,\n        label: label,\n        sort: 1,\n      });\n    }\n  };\n\n  return (\n    <Field mobile={mobile === undefined ? true : mobile}>\n      <LabelText onClick={() => changeSort()}>\n        {icon ? <Icon icon={icon} transform={transform} /> : \"\"} {label}\n      </LabelText>\n      <Input type=\"text\" value={value} onChange={(e) => onChange(e.target.value, sort)}></Input>\n      {sort.sort !== 0 && sort.label === label && (\n        <Sort>\n          {sort.sort === 1 && <IconButton onClick={() => changeSort()} icon={faChevronCircleUp} />}\n          {sort.sort === 2 && (\n            <IconButton onClick={() => changeSort()} icon={faChevronCircleDown} />\n          )}\n        </Sort>\n      )}\n    </Field>\n  );\n};\n\nexport default StringSearchField;\n\ntype MobileType = {\n  mobile?: boolean;\n};\n\nconst Field = styled.label<MobileType>`\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 30px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n\n  --notchSize: 15px;\n  clip-path: polygon(\n    0% var(--notchSize),\n    var(--notchSize) 0%,\n    100% 0%,\n    100% calc(100% - var(--notchSize)),\n    calc(100% - var(--notchSize)) 100%,\n    0 100%\n  );\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  ${({ mobile }) => (!mobile ? \"@media (max-width: 576px) {display: none;}\" : \"\")}\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ${({ theme }) => theme.main.highlight};\n`;\n\nconst LabelText = styled.div`\n  flex: 1 1 auto;\n  min-width: max-content;\n  cursor: pointer;\n`;\n\nconst Input = styled.input`\n  flex: 3 1 auto;\n  height: 38px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ${({ theme }) => theme.input.backgroundColor};\n  color: ${({ theme }) => theme.input.color};\n  margin-left: 5px;\n  border-radius: 5px;\n  width: 0;\n  min-width: 100px;\n`;\n\nconst Sort = styled.div`\n  flex: 1 1 auto;\n  cursor: pointer;\n`;\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport Filter from \"../../../data/Filter\";\nimport ReactDOM from \"react-dom\";\nimport {\n  createNewWithId,\n  exportFilteredFromTable,\n} from \"../../../services/DatabaseService\";\n\nimport {\n  faSearch,\n  faRedoAlt,\n  faPlusCircle,\n  faFileExport,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport StringSearchField from \"../../form_elements/StringSearchField\";\nimport IconButton from \"../../form_elements/IconButton\";\nimport Talent from \"../../../data/Talent\";\nimport {\n  FixedBar,\n  SearchBar,\n  CreateButton,\n  ExportButton,\n  LeftTooltip,\n} from \"../../SearchbarStyle\";\n\nconst TalentSearchBar = () => {\n  let history = useHistory();\n  const [open, setOpen] = useState(false);\n  const [filters, setFilters] = useState<Filter[]>([]);\n\n  const [name, setName] = useState<string>(\"\");\n\n  const [sort, setSort] = useState<{\n    name: string;\n    label: string;\n    sort: number;\n  }>({\n    name: \"\",\n    label: \"\",\n    sort: 0,\n  });\n\n  const search = () => {\n    let newFilters: Filter[] = [];\n    if (name !== \"\") {\n      newFilters = [...newFilters, new Filter(\"name\", name)];\n    }\n\n    newFilters = newFilters.map((filter: Filter) => {\n      if (sort.name === filter.fieldName) {\n        return { ...filter, sort: sort.sort };\n      }\n      return filter;\n    });\n\n    setFilters(newFilters);\n    setOpen(false);\n    history.push(`/talent-overview?filter=${JSON.stringify(newFilters)}`);\n  };\n\n  const reset = () => {\n    ReactDOM.unstable_batchedUpdates(() => {\n      setName(\"\");\n      setOpen(false);\n      setSort({\n        name: \"\",\n        label: \"\",\n        sort: 0,\n      });\n    });\n    history.push(`/talent-overview`);\n  };\n\n  const createNewTalent = () => {\n    let newTalent = new Talent();\n    delete newTalent.id;\n    createNewWithId(\"talents\", newTalent, (id) => {\n      history.push(`/talent-detail/id/${id}`);\n    });\n  };\n\n  const exportFiltered = () => {\n    exportFilteredFromTable(\"talents\", filters, \"SkirmishTome_filtered_talents.json\");\n  };\n\n  return (\n    <>\n      <FixedBar open={open}>\n        <StringSearchField\n          value={name}\n          sort={sort}\n          field={\"name\"}\n          label=\"Name\"\n          onChange={(name: string, sort: { name: string; label: string; sort: number }) => {\n            setName(name);\n            setSort(sort);\n          }}\n        />\n\n        <IconButton onClick={() => search()} icon={faSearch} />\n        <IconButton onClick={() => reset()} icon={faRedoAlt} />\n        <SearchBar onClick={() => setOpen(!open)}>\n          <FontAwesomeIcon icon={faSearch} rotation={90} />\n        </SearchBar>\n      </FixedBar>\n      <CreateButton onClick={() => createNewTalent()}>\n        <FontAwesomeIcon icon={faPlusCircle} />\n        <LeftTooltip>Add new</LeftTooltip>\n      </CreateButton>\n      <ExportButton onClick={() => exportFiltered()}>\n        <FontAwesomeIcon icon={faFileExport} />\n        <LeftTooltip>Export filtered</LeftTooltip>\n      </ExportButton>\n    </>\n  );\n};\n\nexport default TalentSearchBar;\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport ReactDOM from \"react-dom\";\nimport { createNewWithId, exportFilteredFromTable } from \"../../../services/DatabaseService\";\nimport Filter from \"../../../data/Filter\";\nimport RandomTable from \"../../../data/RandomTable\";\n\nimport { faSearch, faRedoAlt, faPlusCircle, faFileExport } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport IconButton from \"../../form_elements/IconButton\";\nimport StringSearchField from \"../../form_elements/StringSearchField\";\nimport { FixedBar, SearchBar, CreateButton, ExportButton, LeftTooltip } from \"../../SearchbarStyle\";\n\nconst RandomTableSearchBar = () => {\n  const [open, setOpen] = useState(false);\n  const [filters, setFilters] = useState<Filter[]>([]);\n  let history = useHistory();\n\n  const [name, setName] = useState<string>(\"\");\n\n  const [sort, setSort] = useState<{\n    name: string;\n    label: string;\n    sort: number;\n  }>({\n    name: \"\",\n    label: \"\",\n    sort: 0,\n  });\n\n  const search = () => {\n    let newFilters: Filter[] = [];\n    if (name !== \"\") {\n      newFilters = [...newFilters, new Filter(\"name\", name)];\n    }\n\n    newFilters = newFilters.map((filter: Filter) => {\n      if (sort.name === filter.fieldName) {\n        return { ...filter, sort: sort.sort };\n      }\n      return filter;\n    });\n\n    setFilters(newFilters);\n    setOpen(false);\n    history.push(`/randomTable-overview?filter=${JSON.stringify(newFilters)}`);\n  };\n\n  const reset = () => {\n    ReactDOM.unstable_batchedUpdates(() => {\n      setName(\"\");\n      setOpen(false);\n      setSort({\n        name: \"\",\n        label: \"\",\n        sort: 0,\n      });\n    });\n    history.push(`/eandomTable-overview}`);\n  };\n\n  const createNewRandomTable = () => {\n    let newRandomTable = new RandomTable();\n    delete newRandomTable.id;\n    createNewWithId(\"randomTables\", newRandomTable, (id) => {\n      history.push(`/randomTable-detail/id/${id}`);\n    });\n  };\n\n  const exportFiltered = () => {\n    exportFilteredFromTable(\"randomTables\", filters, \"DnDTome_filtered_randomTables.json\");\n  };\n\n  return (\n    <>\n      <FixedBar open={open}>\n        <StringSearchField\n          value={name}\n          sort={sort}\n          field={\"name\"}\n          label=\"Name\"\n          onChange={(name: string, sort: { name: string; label: string; sort: number }) => {\n            setName(name);\n            setSort(sort);\n          }}\n        />\n\n        <IconButton onClick={() => search()} icon={faSearch} />\n        <IconButton onClick={() => reset()} icon={faRedoAlt} />\n\n        <SearchBar onClick={() => setOpen(!open)}>\n          <FontAwesomeIcon icon={faSearch} />\n        </SearchBar>\n      </FixedBar>\n      <CreateButton onClick={() => createNewRandomTable()}>\n        <FontAwesomeIcon icon={faPlusCircle} />\n        <LeftTooltip>Add new</LeftTooltip>\n      </CreateButton>\n      <ExportButton onClick={() => exportFiltered()}>\n        <FontAwesomeIcon icon={faFileExport} />\n        <LeftTooltip>Export filtered</LeftTooltip>\n      </ExportButton>\n    </>\n  );\n};\n\nexport default RandomTableSearchBar;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport RandomTable from \"../../../data/RandomTable\";\n\nimport { GiResize } from \"react-icons/gi\";\n\ninterface $Props {\n  randomTable: RandomTable;\n}\n\nconst RandomTableTile = ({ randomTable }: $Props) => {\n  return (\n    <Tile to={\"/randomTable-detail/id/\" + randomTable.id}>\n      <PropWrapper>\n        <Name>\n          <b>{randomTable.name}</b>\n        </Name>\n\n        <PropRowWrapper>\n          <RowProp>\n            <GiResize />\n            Rows: {randomTable.rows.length}\n          </RowProp>\n        </PropRowWrapper>\n      </PropWrapper>\n    </Tile>\n  );\n};\n\nexport default RandomTableTile;\n\nconst Tile = styled(Link)`\n  flex: 1 1 15em;\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ${({ theme }) => theme.tile.boxShadow};\n  overflow: hidden;\n  cursor: pointer;\n  text-decoration: none;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  align-content: center;\n`;\n\nconst Name = styled.div`\n  height: auto;\n  flex: 1 1 auto;\n  padding: 10px;\n  margin: 5px 5px 5px 0;\n  color: ${({ theme }) => theme.tile.headerColor};\n  font-size: 14px;\n  text-align: center;\n  border-radius: 5px;\n`;\n\nconst PropWrapper = styled.div`\n  height: auto;\n  width: calc(100% - 10px);\n  float: left;\n  padding: 5px 5px 0 5px;\n  display: flex;\n  flex-wrap: wrap;\n`;\nconst PropRowWrapper = styled(PropWrapper)`\n  flex-wrap: nowrap;\n  padding: 0 0 5px 0;\n  flex: 1 1 auto;\n  width: 100%;\n`;\n\nconst RowProp = styled.div`\n  height: 12px;\n  margin: 0 5px 0 0;\n  flex: 1 1 auto;\n  line-height: 10px;\n  padding: 10px;\n  font-size: 12px;\n  border-radius: 5px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n\n  svg {\n    margin-right: 5px;\n    height: auto;\n    border-radius: 150px;\n    transition: color 0.2s;\n    color: ${({ theme }) => theme.main.highlight};\n  }\n}\n`;\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport Filter from \"../../../data/Filter\";\nimport ReactDOM from \"react-dom\";\nimport { createNewWithId, exportFilteredFromTable } from \"../../../services/DatabaseService\";\n\nimport { faSearch, faRedoAlt, faPlusCircle, faFileExport } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport StringSearchField from \"../../form_elements/StringSearchField\";\nimport IconButton from \"../../form_elements/IconButton\";\nimport { FixedBar, SearchBar, CreateButton, ExportButton, LeftTooltip } from \"../../SearchbarStyle\";\nimport Race from \"../../../data/Race\";\n\nconst RaceSearchBar = () => {\n  let history = useHistory();\n  const [open, setOpen] = useState(false);\n  const [filters, setFilters] = useState<Filter[]>([]);\n\n  const [name, setName] = useState<string>(\"\");\n\n  const [sort, setSort] = useState<{\n    name: string;\n    label: string;\n    sort: number;\n  }>({\n    name: \"\",\n    label: \"\",\n    sort: 0,\n  });\n\n  const search = () => {\n    let newFilters: Filter[] = [];\n    if (name !== \"\") {\n      newFilters = [...newFilters, new Filter(\"name\", name)];\n    }\n\n    newFilters = newFilters.map((filter: Filter) => {\n      if (sort.name === filter.fieldName) {\n        return { ...filter, sort: sort.sort };\n      }\n      return filter;\n    });\n\n    setFilters(newFilters);\n    setOpen(false);\n    history.push(`/race-overview?filter=${JSON.stringify(newFilters)}`);\n  };\n\n  const reset = () => {\n    ReactDOM.unstable_batchedUpdates(() => {\n      setName(\"\");\n      setOpen(false);\n      setSort({\n        name: \"\",\n        label: \"\",\n        sort: 0,\n      });\n    });\n    history.push(`/race-overview`);\n  };\n\n  const createNewRace = () => {\n    let newRace = new Race();\n    delete newRace.id;\n    createNewWithId(\"races\", newRace, (id) => {\n      history.push(`/race-detail/id/${id}`);\n    });\n  };\n\n  const exportFiltered = () => {\n    exportFilteredFromTable(\"races\", filters, \"SkirmishTome_filtered_races.json\");\n  };\n\n  return (\n    <>\n      <FixedBar open={open}>\n        <StringSearchField\n          value={name}\n          sort={sort}\n          field={\"name\"}\n          label=\"Name\"\n          onChange={(name: string, sort: { name: string; label: string; sort: number }) => {\n            setName(name);\n            setSort(sort);\n          }}\n        />\n\n        <IconButton onClick={() => search()} icon={faSearch} />\n        <IconButton onClick={() => reset()} icon={faRedoAlt} />\n        <SearchBar onClick={() => setOpen(!open)}>\n          <FontAwesomeIcon icon={faSearch} rotation={90} />\n        </SearchBar>\n      </FixedBar>\n      <CreateButton onClick={() => createNewRace()}>\n        <FontAwesomeIcon icon={faPlusCircle} />\n        <LeftTooltip>Add new</LeftTooltip>\n      </CreateButton>\n      <ExportButton onClick={() => exportFiltered()}>\n        <FontAwesomeIcon icon={faFileExport} />\n        <LeftTooltip>Export filtered</LeftTooltip>\n      </ExportButton>\n    </>\n  );\n};\n\nexport default RaceSearchBar;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport Race from \"../../../data/Race\";\n\ninterface $Props {\n  race: Race;\n}\n\nconst RaceTile = ({ race }: $Props) => {\n  return (\n    <Tile to={\"/race-detail/id/\" + race.id}>\n      <Name>\n        <b>{race.name}</b>\n      </Name>\n\n      <PropWrapper>\n        <Prop>{race.hp}</Prop>\n        <Prop>{race.abilityModifier}</Prop>\n        <Prop>Talents: {race.talents.length}</Prop>\n        <Prop>Flaws: {race.flaws.length}</Prop>\n      </PropWrapper>\n    </Tile>\n  );\n};\n\nexport default RaceTile;\n\nconst Tile = styled(Link)`\n  flex: 1 1 15em;\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ${({ theme }) => theme.tile.boxShadow};\n  overflow: hidden;\n  cursor: pointer;\n\n  --notchSize: 15px;\n  clip-path: polygon(\n    0% var(--notchSize),\n    var(--notchSize) 0%,\n    100% 0%,\n    100% calc(100% - var(--notchSize)),\n    calc(100% - var(--notchSize)) 100%,\n    0 100%\n  );\n`;\n\nconst Name = styled.div`\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 0 5px 5px 5px;\n  font-size: 14px;\n  width: calc(100% - 30px);\n  color: white;\n  text-align: center;\n  border-radius: 5px;\n`;\n\nconst PropWrapper = styled.div`\n  height: auto;\n  width: calc(100% - 10px);\n  float: left;\n  padding: 5px 5px 0 5px;\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst Prop = styled.div`\n  height: 12px;\n  width: calc(50% - 22.5px);\n  margin: 0 0 5px 5px;\n  float: left;\n  line-height: 10px;\n  padding: 10px;\n  font-size: 12px;\n  border-radius: 5px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n\n  &:nth-child(odd) {\n  margin: 0 0 5px 0px;\n  }\n}\n`;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport Spell from \"../../../data/Spell\";\n\ninterface $Props {\n  spell: Spell;\n}\n\nconst SpellTile = ({ spell }: $Props) => {\n  return (\n    <Tile to={\"/spell-detail/id/\" + spell.id}>\n      <School school={spell.school}>{spell.school}</School>\n\n      <Drain>\n        <b>{spell.drain}</b>\n      </Drain>\n\n      <Name>\n        <b>{spell.name}</b>\n      </Name>\n\n      <PropWrapper>\n        <Prop>Source{spell.source}</Prop>\n        <Prop>Casting Time: {spell.castTime}</Prop>\n        <Prop>Rite: {spell.rite}</Prop>\n        <Prop>Range: {spell.range}</Prop>\n      </PropWrapper>\n    </Tile>\n  );\n};\n\nexport default SpellTile;\n\nconst Tile = styled(Link)`\n  flex: 1 1 15em;\n  color: ${({ theme }) => theme.tile.color};\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ${({ theme }) => theme.tile.boxShadow};\n  overflow: hidden;\n  cursor: pointer;\n\n  --notchSize: 15px;\n  clip-path: polygon(\n    0% var(--notchSize),\n    var(--notchSize) 0%,\n    100% 0%,\n    100% calc(100% - var(--notchSize)),\n    calc(100% - var(--notchSize)) 100%,\n    0 100%\n  );\n`;\n\nconst Name = styled.div`\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 0 5px 5px 5px;\n  font-size: 14px;\n  width: calc(100% - 30px);\n  color: white;\n  text-align: center;\n  border-radius: 5px;\n`;\n\nconst PropWrapper = styled.div`\n  height: auto;\n  width: calc(100% - 10px);\n  float: left;\n  padding: 5px 5px 0 5px;\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst Prop = styled.div`\n  height: 12px;\n  width: calc(50% - 22.5px);\n  margin: 0 0 5px 5px;\n  float: left;\n  line-height: 10px;\n  padding: 10px;\n  font-size: 12px;\n  border-radius: 5px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n\n  &:nth-child(odd) {\n  margin: 0 0 5px 0px;\n  }\n}\n`;\n\ntype SchoolType = {\n  school?: string;\n};\n\nconst School = styled.div<SchoolType>`\n  height: auto;\n  float: left;\n  padding: 5px 10px 7px 10px;\n  font-size: 12px;\n  line-height: 30px;\n  border-radius: 0px 0px 10px 0px;\n  background-color: ${({ theme }) => theme.tile.backgroundColor};\n  color: ${(props) => {\n    if (props.school === \"Necromancy\") {\n      return \"#bef28e\";\n    } else if (props.school === \"Conjuration\") {\n      return \"#fce97a\";\n    } else if (props.school === \"Evocation\") {\n      return \"#db5740\";\n    } else if (props.school === \"Divination\") {\n      return \"#9ebed2\";\n    } else if (props.school === \"Enchantment\") {\n      return \"#ce90ca\";\n    } else if (props.school === \"Transmutation\") {\n      return \"#e19c60\";\n    } else if (props.school === \"Abjuration\") {\n      return \"#278ae4\";\n    } else if (props.school === \"Illusion\") {\n      return \"#8b42f9\";\n    }\n  }};\n`;\n\nconst Drain = styled.div`\n  height: auto;\n  float: left;\n  padding: 10px;\n  width: 20px;\n  height: 20px;\n  line-height: 20px;\n  float: right;\n  text-align: center;\n  border-top-right-radius: 3px;\n  border-radius: 30px;\n  border-bottom: solid 1px ${({ theme }) => theme.main.highlight};\n  margin: 5px;\n`;\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport Filter from \"../../../data/Filter\";\nimport ReactDOM from \"react-dom\";\nimport { createNewWithId, exportFilteredFromTable } from \"../../../services/DatabaseService\";\n\nimport { faSearch, faRedoAlt, faPlusCircle, faFileExport } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport StringSearchField from \"../../form_elements/StringSearchField\";\nimport IconButton from \"../../form_elements/IconButton\";\nimport { FixedBar, SearchBar, CreateButton, ExportButton, LeftTooltip } from \"../../SearchbarStyle\";\nimport Spell from \"../../../data/Spell\";\n\nconst SpellSearchBar = () => {\n  let history = useHistory();\n  const [open, setOpen] = useState(false);\n  const [filters, setFilters] = useState<Filter[]>([]);\n\n  const [name, setName] = useState<string>(\"\");\n\n  const [sort, setSort] = useState<{\n    name: string;\n    label: string;\n    sort: number;\n  }>({\n    name: \"\",\n    label: \"\",\n    sort: 0,\n  });\n\n  const search = () => {\n    let newFilters: Filter[] = [];\n    if (name !== \"\") {\n      newFilters = [...newFilters, new Filter(\"name\", name)];\n    }\n\n    newFilters = newFilters.map((filter: Filter) => {\n      if (sort.name === filter.fieldName) {\n        return { ...filter, sort: sort.sort };\n      }\n      return filter;\n    });\n\n    setFilters(newFilters);\n    setOpen(false);\n    history.push(`/spell-overview?filter=${JSON.stringify(newFilters)}`);\n  };\n\n  const reset = () => {\n    ReactDOM.unstable_batchedUpdates(() => {\n      setName(\"\");\n      setOpen(false);\n      setSort({\n        name: \"\",\n        label: \"\",\n        sort: 0,\n      });\n    });\n    history.push(`/spell-overview`);\n  };\n\n  const createNewSpell = () => {\n    let newSpell = new Spell();\n    delete newSpell.id;\n    createNewWithId(\"spells\", newSpell, (id) => {\n      history.push(`/spell-detail/id/${id}`);\n    });\n  };\n\n  const exportFiltered = () => {\n    exportFilteredFromTable(\"spells\", filters, \"SkirmishTome_filtered_spells.json\");\n  };\n\n  return (\n    <>\n      <FixedBar open={open}>\n        <StringSearchField\n          value={name}\n          sort={sort}\n          field={\"name\"}\n          label=\"Name\"\n          onChange={(name: string, sort: { name: string; label: string; sort: number }) => {\n            setName(name);\n            setSort(sort);\n          }}\n        />\n\n        <IconButton onClick={() => search()} icon={faSearch} />\n        <IconButton onClick={() => reset()} icon={faRedoAlt} />\n        <SearchBar onClick={() => setOpen(!open)}>\n          <FontAwesomeIcon icon={faSearch} rotation={90} />\n        </SearchBar>\n      </FixedBar>\n      <CreateButton onClick={() => createNewSpell()}>\n        <FontAwesomeIcon icon={faPlusCircle} />\n        <LeftTooltip>Add new</LeftTooltip>\n      </CreateButton>\n      <ExportButton onClick={() => exportFiltered()}>\n        <FontAwesomeIcon icon={faFileExport} />\n        <LeftTooltip>Export filtered</LeftTooltip>\n      </ExportButton>\n    </>\n  );\n};\n\nexport default SpellSearchBar;\n","import React, { useState, useEffect } from \"react\";\nimport { RouteComponentProps } from \"react-router\";\nimport styled from \"styled-components\";\nimport Filter from \"../../data/Filter\";\nimport IEntity from \"../../data/IEntity\";\nimport { reciveAllFiltered } from \"../../services/DatabaseService\";\n\nimport { LoadingSpinner } from \"../Loading\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\n\nimport { useQuery } from \"../../hooks/QueryHook\";\nimport TalentSearchBar from \"../entities/talents/TalentSearchBar\";\nimport TalentTile from \"../entities/talents/TalentTile\";\nimport RandomTableSearchBar from \"../entities/random_tables/RandomTableSearchBar\";\nimport RandomTableTile from \"../entities/random_tables/RandomTableTile\";\nimport RaceSearchBar from \"../entities/races/RaceSearchBar\";\nimport RaceTile from \"../entities/races/RaceTile\";\nimport SpellTile from \"../entities/spells/SpellTile\";\nimport SpellSearchBar from \"../entities/spells/SpellSearchBar\";\n\nconst EntityOverview = ({ match }: RouteComponentProps) => {\n  const rawFilters = useQuery().get(\"filter\");\n  const [entityName, setEntityName] = useState<string>(\"\");\n  const [filters, setFilter] = useState<Filter[]>([]);\n  const [allEntitys, setAllEntitys] = useState<IEntity[]>([]);\n  const [entitys, setEntitys] = useState<IEntity[]>([]);\n  const [scrollParam, setParam] = useState<{\n    start: number;\n    end: number;\n    hasMore: boolean;\n  }>({\n    start: 100,\n    end: 120,\n    hasMore: true,\n  });\n\n  useEffect(() => {\n    if (rawFilters !== null) setFilter(JSON.parse(rawFilters));\n    else setFilter([]);\n    setAllEntitys([]);\n    setEntitys([]);\n    setParam({\n      start: 100,\n      end: 120,\n      hasMore: true,\n    });\n    let newMatch: string = match.path\n      .split(\"/\")\n      .filter((match: string) => match.includes(\"-overview\"))[0]\n      .replaceAll(\"-overview\", \"\");\n    setEntityName(newMatch);\n  }, [match, rawFilters]);\n\n  useEffect(() => {\n    if (entityName !== \"\")\n      reciveAllFiltered(entityName + \"s\", filters, (results: any[]) => {\n        setAllEntitys(results);\n        setEntitys(results.slice(0, 100));\n        if (results.length === 0) {\n          setParam({\n            start: 0,\n            end: 0,\n            hasMore: false,\n          });\n        }\n      });\n  }, [filters, entityName]);\n\n  const fetchMoreData = () => {\n    if (entitys.length === allEntitys.length) {\n      setParam({\n        start: scrollParam.start + 20,\n        end: scrollParam.end + 20,\n        hasMore: false,\n      });\n      return;\n    }\n    setEntitys((s) => s.concat(allEntitys.slice(scrollParam.start, scrollParam.end)));\n    setParam({\n      start: scrollParam.start + 20,\n      end: scrollParam.end + 20,\n      hasMore: true,\n    });\n  };\n\n  type searchOptions = {\n    [key: string]: () => JSX.Element;\n  };\n  const searchbars: searchOptions = {\n    talent: TalentSearchBar,\n    spell: SpellSearchBar,\n    race: RaceSearchBar,\n    randomTable: RandomTableSearchBar,\n  };\n\n  type tileOptions = {\n    [key: string]: (props: any) => JSX.Element;\n  };\n  const tiles: tileOptions = {\n    talent: TalentTile,\n    spell: SpellTile,\n    race: RaceTile,\n    randomTable: RandomTableTile,\n  };\n\n  return (\n    <>\n      {entityName !== \"\" && React.createElement(searchbars[entityName], {})}\n      <div id=\"scrollable\" style={{ width: \"100%\" }}>\n        <EntityContainer\n          dataLength={entitys.length}\n          next={fetchMoreData}\n          hasMore={scrollParam.hasMore}\n          loader={<LoadingSpinner />}\n        >\n          {entityName !== \"\" &&\n            entitys.length > 0 &&\n            entitys!.map((entity: IEntity, index: number) => {\n              return React.createElement(tiles[entityName], {\n                key: index,\n                [entityName]: entity,\n              });\n            })}\n        </EntityContainer>\n      </div>\n    </>\n  );\n};\n\nexport default EntityOverview;\n\nconst EntityContainer = styled(InfiniteScroll)`\n  margin-top: 20px;\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n`;\n","import { useLocation } from \"react-router-dom\";\n\nexport function useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n","import Dexie from \"dexie\";\nimport Race from \"../data/Race\";\nimport RandomTable from \"../data/RandomTable\";\nimport Spell from \"../data/Spell\";\nimport Talent from \"../data/Talent\";\n\nexport class SkirmishDB extends Dexie {\n  randomTables: Dexie.Table<RandomTable, number>; // number = type of the primkey\n  talents: Dexie.Table<Talent, number>;\n  races: Dexie.Table<Race, number>;\n  spells: Dexie.Table<Spell, number>;\n\n  constructor() {\n    super(\"SkirmishTomeDB\");\n    this.version(1).stores({\n      talents: \"++id, name, isFlaw, cost, prerequisite, effect, type, stress\",\n      randomTables: \"++id, name, rows, header, filename\",\n    });\n    this.version(2).stores({\n      talents: \"++id, name, isFlaw, cost, prerequisite, effect, type, stress\",\n      races: \"++id, name, hp, abilityModifier, talents, flaws\",\n      randomTables: \"++id, name, rows, header, filename\",\n    });\n    this.version(3).stores({\n      talents: \"++id, name, isFlaw, cost, prerequisite, effect, type, stress\",\n      races: \"++id, name, hp, abilityModifier, talents, flaws\",\n      randomTables: \"++id, name, rows, header\",\n      spells:\n        \"++id, name, source, castTime, rite, duration, durationText, range, school, effect, damage, mastery,resist, drain\",\n    });\n    this.version(4).stores({\n      talents:\n        \"++id, name, isFlaw, cost, prerequisite, effect, type, stress, ticks\",\n      races: \"++id, name, hp, abilityModifier, size, stamina, talents, flaws\",\n      randomTables: \"++id, name, rows, header\",\n      spells:\n        \"++id, name, source, castTime, rite, duration, durationText, range, school, effect, damage, mastery, resist, drain, masteryDrain\",\n    });\n\n    this.talents = this.table(\"talents\");\n    this.spells = this.table(\"spells\");\n    this.races = this.table(\"races\");\n    this.randomTables = this.table(\"randomTables\");\n  }\n}\n","import { SkirmishDB } from \"../database/SkirmishDB\";\nimport { IndexableType } from \"dexie\";\nimport IEntity from \"../data/IEntity\";\nimport Filter from \"../data/Filter\";\n\n// export const saveNewFromList = (tableName: string, entities: BookeeEntry[]) => {\n//   const db = new BookeeDB();\n//   db.open()\n//     .then(async function () {\n//       const refinedEntities = (entities as BookeeEntry[]).map(\n//         (entity: BookeeEntry) => {\n//           delete entity[\"id\"];\n//           return entity;\n//         }\n//       );\n//       const prom = await db.table(tableName).bulkPut(refinedEntities);\n//       return prom;\n//     })\n//     .finally(function () {\n//       db.close();\n//     });\n// };\n\nexport const update = (tableName: string, data: IEntity) => {\n  const db = new SkirmishDB();\n  db.open()\n    .then(function () {\n      db.table(tableName).update(data.id, data);\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const updateWithCallback = (\n  tableName: string,\n  data: IEntity,\n  callback: (data: number) => void\n) => {\n  const db = new SkirmishDB();\n  db.open()\n    .then(function () {\n      db.table(tableName)\n        .update(data.id, data)\n        .then((result: number) => {\n          callback(result);\n        });\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const save = (tableName: string, data: IEntity) => {\n  const db = new SkirmishDB();\n  db.open()\n    .then(function () {\n      db.table(tableName).add(data);\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const saveNew = (tableName: string, entity: IEntity, filename: string) => {\n  const db = new SkirmishDB();\n  return db\n    .open()\n    .then(async function () {\n      delete entity[\"id\"];\n      const prom = await db.table(tableName).put({ ...entity, filename: filename });\n      return prom;\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const saveNewFromList = (tableName: string, entities: IEntity[], filename: string) => {\n  const db = new SkirmishDB();\n  db.open()\n    .then(async function () {\n      const refinedEntities = (entities as IEntity[]).map((entity: IEntity) => {\n        delete entity[\"id\"];\n        return { ...entity, filename: filename };\n      });\n      const prom = await db.table(tableName).bulkPut(refinedEntities);\n      return prom;\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const saveWithCallback = (\n  tableName: string,\n  data: IEntity,\n  callback: (data: number) => void\n) => {\n  const db = new SkirmishDB();\n  db.open()\n    .then(function () {\n      db.table(tableName)\n        .add(data)\n        .then((result: number) => {\n          callback(result);\n        });\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const remove = (tableName: string, id: number | undefined) => {\n  const db = new SkirmishDB();\n  if (id !== undefined) {\n    db.open()\n      .then(function () {\n        db.table(tableName).delete(id);\n      })\n      .finally(function () {\n        db.close();\n      });\n  }\n};\n\nexport const reciveAll = (tableName: string, callback: (data: IndexableType[]) => void) => {\n  const db = new SkirmishDB();\n  db.open()\n    .then(function () {\n      db.table(tableName)\n        .toArray()\n        .then((array) => {\n          callback(array);\n        });\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const reciveCount = (tableName: string, callback: (value: number) => void) => {\n  const db = new SkirmishDB();\n  db.open()\n    .then(function () {\n      db.table(tableName).count((count) => {\n        callback(count);\n      });\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const reciveCountPromise = (tableName: string) => {\n  const db = new SkirmishDB();\n  return db\n    .open()\n    .then(function () {\n      return db.table(tableName).count();\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const reciveByAttribute = (\n  tableName: string,\n  name: string,\n  value: string,\n  callback: (data: IEntity) => void\n) => {\n  const db = new SkirmishDB();\n  db.open()\n    .then(function () {\n      db.table(tableName)\n        .where(name)\n        .equalsIgnoreCase(value)\n        .toArray()\n        .then((array) => {\n          callback(array[0]);\n        });\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const recivePromiseByAttribute = (tableName: string, name: string, value: string) => {\n  const db = new SkirmishDB();\n  return db\n    .open()\n    .then(async function () {\n      const array = await db.table(tableName).where(name).equalsIgnoreCase(value).toArray();\n      return array[0];\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const recivePromise = (tableName: string, value: number) => {\n  const db = new SkirmishDB();\n  return db\n    .open()\n    .then(async function () {\n      return await db.table(tableName).get(value);\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const recivePromiseByAttributeCount = (\n  tableName: string,\n  name: string,\n  value: string | number\n) => {\n  const db = new SkirmishDB();\n  if (typeof value === \"string\") {\n    return db\n      .open()\n      .then(async function () {\n        return await db.table(tableName).where(name).equalsIgnoreCase(value).count();\n      })\n      .finally(function () {\n        db.close();\n      });\n  } else if (typeof value === \"number\") {\n    return db\n      .open()\n      .then(async function () {\n        return await db.table(tableName).where(name).equals(value).count();\n      })\n      .finally(function () {\n        db.close();\n      });\n  } else {\n    return db\n      .open()\n      .then(async function () {\n        return await db\n          .table(tableName)\n          .where(name)\n          .equalsIgnoreCase(\"\" + value)\n          .count();\n      })\n      .finally(function () {\n        db.close();\n      });\n  }\n};\n\nexport const reciveAllPromise = (tableName: string) => {\n  const db = new SkirmishDB();\n  return db\n    .open()\n    .then(async function () {\n      return await db.table(tableName).toArray();\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const applyFilters = (obj: any, filters: Filter[]) => {\n  let test: boolean[] = [];\n  filters.forEach((filter) => {\n    if (typeof filter.value === \"string\") {\n      if (obj[filter.fieldName] instanceof Array) {\n        let hasTag = false;\n        obj[filter.fieldName].forEach((fieldPart: string) => {\n          // @ts-ignore\n          if (fieldPart.toLowerCase().includes(filter.value.toLowerCase())) {\n            hasTag = true;\n          }\n        });\n        if (hasTag) {\n          test.push(true);\n        } else {\n          test.push(false);\n        }\n      } else {\n        test.push(\n          // @ts-ignore\n          obj[filter.fieldName].toLowerCase().includes(filter.value.toLowerCase())\n        );\n      }\n    } else if (typeof filter.value === \"number\") {\n      // @ts-ignore\n      test.push(obj[filter.fieldName] === filter.value);\n    } else if (typeof filter.value === \"boolean\") {\n      // @ts-ignore\n      test.push(obj[filter.fieldName] === filter.value);\n    } else if (filter.value instanceof Array) {\n      let arrayTest: boolean = false;\n      filter.value.forEach((filterPart: string | boolean | number) => {\n        if (typeof filterPart === \"string\") {\n          if (\n            // @ts-ignore\n            obj[filter.fieldName].toLowerCase().includes(filterPart.toLowerCase())\n          )\n            arrayTest = true;\n        } else if (typeof filterPart === \"number\") {\n          // @ts-ignore\n          if (obj[filter.fieldName] === filterPart) arrayTest = true;\n        } else if (typeof filterPart === \"boolean\") {\n          // @ts-ignore\n          if (obj[filter.fieldName] === filterPart) arrayTest = true;\n        }\n      });\n      test.push(arrayTest);\n    }\n  });\n\n  let result = true;\n  test.forEach((val) => {\n    if (!val) result = false;\n  });\n  return result;\n};\n\nexport const reciveAllFiltered = (\n  tableName: string,\n  filters: Filter[],\n  callback: (data: IndexableType[]) => void\n) => {\n  const db = new SkirmishDB();\n  db.open()\n    .then(function () {\n      let sortedFiled: string = \"name\";\n      let reverse: boolean = false;\n\n      filters.forEach((filter: Filter) => {\n        if (filter.sort !== 0) {\n          sortedFiled = filter.fieldName;\n          if (filter.sort === 2) reverse = true;\n        }\n      });\n\n      if (reverse) {\n        db.table(tableName)\n          .filter((obj) => applyFilters(obj, filters))\n          .reverse()\n          .sortBy(sortedFiled)\n          .then((data) => {\n            callback(data);\n          });\n      } else {\n        db.table(tableName)\n          .filter((obj) => applyFilters(obj, filters))\n          .sortBy(sortedFiled)\n          .then((data) => {\n            callback(data);\n          });\n      }\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const reciveAllFilteredPromise = (tableName: string, filters: Filter[]) => {\n  const db = new SkirmishDB();\n  return db\n    .open()\n    .then(function () {\n      let sortedFiled: string = \"name\";\n      let reverse: boolean = false;\n\n      filters.forEach((filter: Filter) => {\n        if (filter.sort !== 0) {\n          sortedFiled = filter.fieldName;\n          if (filter.sort === 2) reverse = true;\n        }\n      });\n\n      if (reverse) {\n        return db\n          .table(tableName)\n          .filter((obj) => applyFilters(obj, filters))\n          .reverse()\n          .sortBy(sortedFiled);\n      } else {\n        return db\n          .table(tableName)\n          .filter((obj) => applyFilters(obj, filters))\n          .sortBy(sortedFiled);\n      }\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const reciveAttributeSelection = (\n  tableName: string,\n  attribute: string,\n  callback: (data: IndexableType[]) => void\n) => {\n  const db = new SkirmishDB();\n  db.open()\n    .then(function () {\n      db.table(tableName)\n        .orderBy(attribute)\n        .uniqueKeys(function (array) {\n          callback(array);\n        });\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const reciveAttributeSelectionPromise = (tableName: string, attribute: string) => {\n  const db = new SkirmishDB();\n  return db\n    .open()\n    .then(function () {\n      return db.table(tableName).orderBy(attribute).uniqueKeys();\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const createNewWithId = (\n  tableName: string,\n  entity: IEntity,\n  callback: (id: number) => void\n) => {\n  const db = new SkirmishDB();\n  db.open()\n    .then(function () {\n      db.table(tableName)\n        .put(entity)\n        .then((id: number) => {\n          callback(id);\n        });\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const deleteAll = (tableName: string) => {\n  const db = new SkirmishDB();\n  db.open()\n    .then(function () {\n      db.table(tableName).clear();\n    })\n    .finally(function () {\n      db.close();\n    });\n};\n\nexport const exportFilteredFromTable = (tableName: string, filters: Filter[], filename: string) => {\n  reciveAllFiltered(tableName, filters, (all: IndexableType[]) => {\n    let contentType = \"application/json;charset=utf-8;\";\n    if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n      var blob = new Blob([decodeURIComponent(encodeURI(JSON.stringify(all)))], {\n        type: contentType,\n      });\n      navigator.msSaveOrOpenBlob(blob, filename);\n    } else {\n      var a = document.createElement(\"a\");\n      a.download = filename;\n      a.href = \"data:\" + contentType + \",\" + encodeURIComponent(JSON.stringify(all));\n      a.target = \"_blank\";\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n    }\n  });\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { IconDefinition } from \"@fortawesome/free-solid-svg-icons\";\nimport { Transform } from \"@fortawesome/fontawesome-svg-core\";\n\ninterface $Props {\n  icon: IconDefinition;\n  floatLeft?: boolean;\n  disabled?: boolean;\n  transform?: string | Transform;\n  style?: any;\n  onClick?: (() => void) | ((e: any) => void);\n}\n\nconst IconButton = ({ icon, floatLeft, disabled, transform, style, onClick }: $Props) => {\n  return (\n    <>\n      {!disabled && (\n        <SimpleButton left={floatLeft} onClick={onClick} style={style}>\n          <Icon icon={icon} transform={transform} />\n        </SimpleButton>\n      )}\n      {disabled && (\n        <DisabledSimpleButton style={style}>\n          <Icon icon={icon} transform={transform} />\n        </DisabledSimpleButton>\n      )}\n    </>\n  );\n};\n\nexport default IconButton;\n\ntype FloatMpde = {\n  left?: boolean;\n};\n\nconst SimpleButton = styled.div<FloatMpde>`\n  color: ${({ theme }) => theme.buttons.color};\n  background-color: ${({ theme }) => theme.buttons.backgroundColor};\n  cursor: pointer;\n\n  font-size: 16px;\n  overflow: hidden;\n  height: ${({ theme }) => theme.buttons.height};\n  line-height: ${({ theme }) => theme.buttons.height};\n  float: ${({ left }) => (left ? \"left\" : \"right\")};\n  padding: 10px;\n  margin: 5px;\n  border-radius: 10px;\n  box-shadow: inset -2px -2px 5px 0px rgba(0, 0, 0, 0.3);\n\n  transition: color 0.2s;\n\n  &:hover {\n    color: white;\n  }\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst DisabledSimpleButton = styled(SimpleButton)`\n  color: ${({ theme }) => theme.buttons.backgroundColor};\n  background-color: ${({ theme }) => theme.buttons.color};\n  cursor: not-allowed;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  flex: 1 1 auto;\n`;\n","export function useWebhook(): { hook: string; name: string } | undefined {\n  if (localStorage.getItem(\"webhook\") !== null && localStorage.getItem(\"webhook\") !== \"\") {\n    let name = \"SkirmishTome\";\n    if (localStorage.getItem(\"webhook_user\") !== null)\n      name = localStorage.getItem(\"webhook_user\") + \"\";\n    return { hook: localStorage.getItem(\"webhook\") + \"\", name: name };\n  } else return undefined;\n}\n","export const sendMessage = (\n  webhook: { hook: string; name: string } | undefined,\n  content: string,\n  avatar?: string\n) => {\n  if (webhook !== undefined) {\n    let request = new XMLHttpRequest();\n    request.open(\"POST\", webhook.hook);\n    request.setRequestHeader(\"Content-type\", \"application/json\");\n    let params = {\n      username: webhook.name !== \"\" ? webhook.name : \"SkirmishTome\",\n      avatar_url: avatar !== undefined ? avatar : \"\",\n      content: content,\n    };\n    request.send(JSON.stringify(params));\n  }\n};\n\nexport const sendEmbedMessage = (\n  webhook: { hook: string; name: string } | undefined,\n  params: string\n) => {\n  if (webhook !== undefined) {\n    console.log(params);\n    let request = new XMLHttpRequest();\n    request.open(\"POST\", webhook.hook);\n    request.setRequestHeader(\"Content-type\", \"application/json\");\n    request.send(params);\n  }\n};\n\nexport const formatDiscordText = (text: string): string => {\n  if (text.includes(\"[[\")) {\n    return text.replaceAll(\"[[\", \"*\").replaceAll(\"]]\", \"*\");\n  } else {\n    return text;\n  }\n};\n","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export const rollCommand = (\n  commands: string,\n  krit?: boolean\n): { result: number; text: string; rolls: string } => {\n  let result = 0;\n  let text = \"\";\n\n  let newCommands = \"\";\n  commands.split(\" \").forEach((command) => {\n    if (/\\d+/g.test(command)) {\n      newCommands += command;\n    } else {\n      text += \" \" + command;\n    }\n  });\n  newCommands = newCommands.trim();\n\n  let rolls: string = \"(`\";\n  newCommands.split(\" \").forEach((fullCommand: string) => {\n    let commandSplits: string[] = [];\n    fullCommand.split(\"+\").forEach((part) => {\n      let split = part.split(\"-\");\n      commandSplits = commandSplits.concat(split);\n    });\n\n    commandSplits.forEach((command: string) => {\n      let multiplier: number = 1;\n      if (command.includes(\"d\")) {\n        if (!command.startsWith(\"d\")) {\n          multiplier = parseInt(command.split(\"d\")[0]);\n          command = command.split(\"d\")[1];\n        }\n        command = command.replaceAll(\"d\", \"\");\n        if (krit) multiplier = multiplier * 2;\n\n        if (command.includes(\"+\")) {\n          const com = command.split(\"+\");\n          for (let i = 0; i < multiplier; i++) {\n            const newRoll = rollDie(parseInt(com[0]));\n            result += newRoll;\n            rolls += newRoll + \",\";\n          }\n          result += parseInt(com[1]);\n        } else if (command.includes(\"-\")) {\n          const com = command.split(\"-\");\n          for (let i = 0; i < multiplier; i++) {\n            const newRoll = rollDie(parseInt(com[0]));\n            result += newRoll;\n            rolls += newRoll + \",\";\n          }\n          result -= parseInt(com[1]);\n        } else {\n          for (let i = 0; i < multiplier; i++) {\n            const newRoll = rollDie(parseInt(command));\n            result += newRoll;\n            rolls += newRoll + \",\";\n          }\n        }\n      } else {\n        result += parseInt(command);\n        rolls += command + \",\";\n      }\n    });\n    rolls = rolls.slice(0, -1) + \"`)\";\n  });\n\n  return { result: result, text: text, rolls: rolls };\n};\n\nexport const rollDie = (size: number): number => {\n  const min = 1;\n  const max = size;\n  let rand = Math.round(min + Math.random() * (max - min));\n  return rand;\n};\n","import React, { useEffect, useState } from \"react\";\nimport { BiError, BiHistory } from \"react-icons/bi\";\nimport { GiDiceTwentyFacesTwenty, GiSwordsPower } from \"react-icons/gi\";\nimport { recivePromiseByAttributeCount } from \"../../services/DatabaseService\";\n\ninterface $Props {\n  type: string;\n  name: string;\n}\n\nconst LinkCheck = ({ type, name }: $Props) => {\n  const [loading, setLoading] = useState<boolean>(true);\n  const [entitiyFound, setEntity] = useState<boolean>(false);\n\n  useEffect(() => {\n    if (type === \"dice\") {\n      setEntity(true);\n      setLoading(false);\n    } else {\n      let newType = type + \"s\";\n      if (type === \"class\" || type === \"subclass\") newType = type + \"es\";\n      recivePromiseByAttributeCount(newType, \"name\", name)\n        .then((count: number) => {\n          setEntity(count > 0);\n          setLoading(false);\n        })\n        .catch(() => {\n          setEntity(false);\n          setLoading(false);\n        });\n    }\n  }, [type, name]);\n\n  const formatIcon = (type: string) => {\n    switch (type) {\n      case \"talent\":\n        return <GiSwordsPower />;\n      case \"dice\":\n        return <GiDiceTwentyFacesTwenty />;\n      default:\n        return \"\";\n    }\n  };\n\n  return (\n    <>\n      {loading && <BiHistory />}\n      {!loading && !entitiyFound && <BiError />}\n      {!loading && entitiyFound && <>{formatIcon(type)}</>}\n    </>\n  );\n};\n\nexport default LinkCheck;\n","import IEntity from \"./IEntity\";\n\nexport enum TalentCategory {\n  physical = \"physical\",\n  mental = \"mental\",\n  social = \"social\",\n  magical = \"magical\",\n}\n\nexport default class Talent implements IEntity {\n  id?: number;\n  name: string;\n  category: string;\n  isFlaw: boolean;\n  cost: number;\n  prerequisite: string;\n  effect: string;\n  type: boolean;\n  stress: string;\n  trigger: string;\n  triggerFrequency: string;\n  ticks: number;\n\n  constructor(\n    id?: number,\n    name?: string,\n    category?: string,\n    isFlaw?: boolean,\n    cost?: number,\n    prerequisite?: string,\n    effect?: string,\n    type?: boolean,\n    stress?: string,\n    trigger?: string,\n    triggerFrequency?: string,\n    ticks?: number\n  ) {\n    this.id = id;\n    this.name = name || \"\";\n    this.category = category || TalentCategory.magical;\n    this.isFlaw = isFlaw || false;\n    this.cost = cost || 0;\n    this.prerequisite = prerequisite || \"\";\n    this.effect = effect || \"\";\n    this.type = type || false;\n    this.stress = stress || \"\";\n    this.trigger = trigger || \"\";\n    this.triggerFrequency = triggerFrequency || \"\";\n    this.ticks = ticks || 0;\n  }\n}\n\nexport function isTalent(arg: any): arg is Talent {\n  const nameCheck = arg.name !== undefined && typeof arg.name == \"string\";\n  const costCheck = arg.cost !== undefined && typeof arg.cost == \"number\";\n  const isFlawCheck =\n    arg.isFlaw !== undefined && typeof arg.isFlaw == \"boolean\";\n  const prerequisiteCheck =\n    arg.prerequisite !== undefined && typeof arg.prerequisite == \"string\";\n  const effectCheck = arg.effect !== undefined && typeof arg.effect == \"string\";\n  const typeCheck = arg.type !== undefined && typeof arg.type == \"boolean\";\n  const stressCheck = arg.stress !== undefined && typeof arg.stress == \"string\";\n  const triggerCheck =\n    arg.trigger !== undefined && typeof arg.trigger == \"string\";\n  const triggerFrequencyCheck =\n    arg.triggerFrequency !== undefined &&\n    typeof arg.triggerFrequency == \"string\";\n  const ticksCheck = arg.ticks !== undefined && typeof arg.ticks == \"number\";\n\n  return (\n    arg &&\n    nameCheck &&\n    costCheck &&\n    isFlawCheck &&\n    prerequisiteCheck &&\n    effectCheck &&\n    typeCheck &&\n    stressCheck &&\n    triggerCheck &&\n    triggerFrequencyCheck &&\n    ticksCheck\n  );\n}\n","import IEntity from \"./IEntity\";\n\nexport enum SpellSource {\n  earth = \"earth\",\n  frost = \"frost\",\n  air = \"air\",\n  fire = \"fire\",\n  arcane = \"arcane\",\n  divine = \"divine\",\n  demonic = \"demonic\",\n  druidic = \"druidic\",\n  psychic = \"psychic\",\n}\n\nexport enum SpellRange {\n  touch = \"touch\",\n  sonic = \"sonic\",\n  radius = \"Radius 90° around Caster\",\n  radiusPlus = \"Radius 90°+ around Caster\",\n  losAura = \"Line of Sight Aura or Projectile\",\n  losManipulate = \"Line of Sight Manipulate\",\n  losPoint = \"Line of Sight Spawn At Point\",\n}\n\nexport enum SpellRite {\n  verbal = \"verbal\",\n  somatic = \"somatic\",\n  mental = \"mental\",\n  ritual = \"ritual\",\n}\n\nexport enum SpellTarget {\n  single = \"Single Target\",\n  daoe = \"Diminishing Area Of Effect \",\n  multi = \"Multiple Targets\",\n  aoe = \"Area Of Effect\",\n  caster = \"Caster\",\n  target = \"Caster Or Target\",\n  line = \"Straight Line\",\n}\n\nexport enum SpellDuration {\n  concentration = \"concentration\",\n  instantaneous = \"instantaneous\",\n  permanent = \"permanent\",\n  fixedTicks = \"fixed # of ticks\",\n  fixedRounds = \"fixed # of rounds\",\n  fixedHours = \"fixed # of hours\",\n  channel = \"channel\",\n}\n\nexport enum SpellSchool {\n  transmutation = \"Transmutation\",\n  evocation = \"Evocation\",\n  fortification = \"Fortification\",\n  hex = \"Hex\",\n  illusion = \"Illusion\",\n  conjuration = \"Conjuration\",\n  necromancy = \"Necromancy\",\n  enchantment = \"Enchantment\",\n}\n\nexport default class Spell implements IEntity {\n  id?: number;\n  name: string;\n  source: string;\n  castTime: string;\n  rite: string;\n  duration: string;\n  durationText: string;\n  range: string;\n  school: string;\n  effect: string;\n  damageText: string;\n  mastery: string;\n  resist: string;\n  drain: number;\n  drainParts: number[];\n  masteryDrain: number;\n\n  scalingEffect: string;\n  spellTarget: string;\n  aoeRadius: string;\n  damage: string[];\n  directEffects: string;\n  level: number;\n  projectileType: string;\n  projectileNumber: string;\n  damageType: string;\n  targetingType: string;\n  losRange: string;\n  drainType: string;\n  pureDamage: string;\n  size: string;\n  hp: string;\n  chargeable: boolean;\n  needsMaterial: boolean;\n\n  constructor(\n    id?: number,\n    name?: string,\n    source?: string,\n    castTime?: string,\n    rite?: string,\n    duration?: string,\n    durationText?: string,\n    range?: string,\n    school?: string,\n    effect?: string,\n    damageText?: string,\n    mastery?: string,\n    resist?: string,\n    drain?: number,\n    drainParts?: number[],\n    masteryDrain?:number,\n\n    scalingEffect?: string,\n    spellTarget?: string,\n    aoeRadius?: string,\n    damage?: string[],\n    directEffects?: string,\n    level?: number,\n    projectileType?: string,\n    projectileNumber?: string,\n    damageType?: string,\n    targetingType?: string,\n    losRange?: string,\n    drainType?: string,\n    pureDamage?: string,\n    size?: string,\n    hp?: string,\n    chargeable?: boolean,\n    needsMaterial?: boolean\n  ) {\n    this.id = id;\n    this.name = name || \"\";\n    this.source = source || SpellSource.air;\n    this.castTime = castTime || \"4 - Mystb Rounds\";\n    this.rite = rite || SpellRite.mental;\n    this.duration = duration || SpellDuration.instantaneous;\n    this.durationText = durationText || \"\";\n    this.range = range || SpellRange.touch;\n    this.school = school || SpellSchool.conjuration;\n    this.effect = effect || \"\";\n    this.damageText = damageText || \"\";\n    this.mastery = mastery || \"\";\n    this.resist = resist || \"\";\n    this.drain = drain || 0;\n    //Source, Rite, Casting Time, Duration, Range, School, Scaling Effect, Single Target, aoeRadius, damage, damage, damage, direct Effects, level, projectile type, projectile number, damage type, targeting type, los Range, drain type, Pure Spell Damage, size, hp, chargeable, needs material\n    this.drainParts = drainParts || [\n      0, 3, 2, 1, 1, 1, 0, 1, 0, 0, 0, 0, -4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    ];\n    this.masteryDrain = masteryDrain || 0;\n\n    this.scalingEffect = scalingEffect || \"\";\n    this.spellTarget = spellTarget || \"\";\n    this.aoeRadius = aoeRadius || \"\";\n    this.damage = damage || [];\n    this.directEffects = directEffects || \"\";\n    this.level = level || 0;\n    this.projectileType = projectileType || \"\";\n    this.projectileNumber = projectileNumber || \"\";\n    this.damageType = damageType || \"\";\n    this.targetingType = targetingType || \"\";\n    this.losRange = losRange || \"\";\n    this.drainType = drainType || \"\";\n    this.pureDamage = pureDamage || \"\";\n    this.size = size || \"\";\n    this.hp = hp || \"\";\n    this.chargeable = chargeable || false;\n    this.needsMaterial = needsMaterial || false;\n  }\n}\n\nexport function isSpell(arg: any): arg is Spell {\n  const nameCheck = arg.name !== undefined && typeof arg.name == \"string\";\n  const sourceCheck = arg.source !== undefined && typeof arg.source == \"string\";\n  const castTimeCheck = arg.castTime !== undefined && typeof arg.castTime == \"string\";\n  const riteCheck = arg.rite !== undefined && typeof arg.rite == \"string\";\n  const durationCheck = arg.duration !== undefined && typeof arg.duration == \"string\";\n  const rangeCheck = arg.range !== undefined && typeof arg.range == \"number\";\n  const schoolCheck = arg.school !== undefined && typeof arg.school == \"string\";\n  const effectCheck = arg.effect !== undefined && typeof arg.effect == \"string\";\n  const damageCheck = arg.damage !== undefined && typeof arg.damage == \"string\";\n  const masteryCheck = arg.mastery !== undefined && typeof arg.mastery == \"string\";\n  const resistCheck = arg.resist !== undefined && typeof arg.resist == \"string\";\n  const drainCheck = arg.drain !== undefined && typeof arg.drain == \"number\";\n\n  return (\n    arg &&\n    nameCheck &&\n    sourceCheck &&\n    castTimeCheck &&\n    riteCheck &&\n    durationCheck &&\n    rangeCheck &&\n    schoolCheck &&\n    effectCheck &&\n    damageCheck &&\n    masteryCheck &&\n    resistCheck &&\n    drainCheck\n  );\n}\n","import IEntity from \"./IEntity\";\n\nexport default class RandomTable implements IEntity {\n  id?: number;\n  name: string;\n  header: string;\n  rows: { value: string; cells: string }[];\n  filename?: string;\n\n  constructor(\n    id?: number,\n    name?: string,\n    filename?: string,\n    header?: string,\n    rows?: { value: string; cells: string }[]\n  ) {\n    this.id = id;\n    this.filename = filename || \"\";\n    this.name = name || \"\";\n    this.header = header || \"\";\n    this.rows = rows || [];\n  }\n}\n\nexport function isRandomTable(arg: any): arg is RandomTable {\n  const nameCheck = arg.name !== undefined && typeof arg.name == \"string\";\n  const headerCheck = arg.header !== undefined && typeof arg.header == \"string\";\n  const rowsCheck = arg.rows !== undefined && Array.isArray(arg.rows);\n\n  return arg && nameCheck && headerCheck && rowsCheck;\n}\n\nexport function findRandomTableFormattError(\n  arg: any\n): {\n  nameCheck: boolean;\n  headerCheck: boolean;\n  rowsCheck: boolean;\n} {\n  const nameCheck = arg.name !== undefined && typeof arg.name == \"string\";\n  const headerCheck = arg.header !== undefined && typeof arg.header == \"string\";\n  const rowsCheck = arg.rows !== undefined && Array.isArray(arg.rows);\n\n  return {\n    nameCheck: nameCheck,\n    headerCheck: headerCheck,\n    rowsCheck: rowsCheck,\n  };\n}\n","import IEntity from \"./IEntity\";\n\nexport default class Race implements IEntity {\n  id?: number;\n  name: string;\n  hp: number;\n  abilityModifier: string;\n  size: string;\n  stamina: number;\n  talents: string[];\n  flaws: string[];\n\n  constructor(\n    id?: number,\n    name?: string,\n    hp?: number,\n    abilityModifier?: string,\n    size?: string,\n    stamina?: number,\n    talents?: string[],\n    flaws?: string[]\n  ) {\n    this.id = id;\n    this.name = name || \"\";\n    this.hp = hp || 0;\n    this.abilityModifier = abilityModifier || \"\";\n    this.size = size || \"\";\n    this.stamina = stamina || 0;\n    this.talents = talents || [];\n    this.flaws = flaws || [];\n  }\n}\n\nexport function isRace(arg: any): arg is Race {\n  const nameCheck = arg.name !== undefined && typeof arg.name == \"string\";\n  const hpCheck = arg.hp !== undefined && typeof arg.hp == \"number\";\n  const abilityModifierCheck =\n    arg.abilityModifier !== undefined && typeof arg.abilityModifier == \"number\";\n  const talentsCheck = arg.talents !== undefined && Array.isArray(arg.talents);\n  const flawsCheck = arg.flaws !== undefined && Array.isArray(arg.flaws);\n\n  return arg && nameCheck && hpCheck && abilityModifierCheck && talentsCheck && flawsCheck;\n}\n"],"sourceRoot":""}