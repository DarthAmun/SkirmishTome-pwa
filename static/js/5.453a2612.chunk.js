(this.webpackJsonpskirmishtome=this.webpackJsonpskirmishtome||[]).push([[5],{105:function(n,e){function t(n){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}t.keys=function(){return[]},t.resolve=t,n.exports=t,t.id=105},203:function(n,e,t){"use strict";t.r(e);var r=t(2),o=t(13),a=t(0),c=t.n(a),i=t(1),u=t(28),l=t(51),f=t.n(l),s=t(52),d=t(50);t(62);function p(n){var e=void 0!==n.name&&"string"==typeof n.name,t=void 0!==n.classes&&"string"==typeof n.classes,r=void 0!==n.sources&&"string"==typeof n.sources,o=void 0!==n.level&&"number"==typeof n.level,a=void 0!==n.school&&"string"==typeof n.school,c=void 0!==n.time&&"string"==typeof n.time,i=void 0!==n.range&&"string"==typeof n.range,u=void 0!==n.components&&"string"==typeof n.components,l=void 0!==n.duration&&"string"==typeof n.duration,f=void 0!==n.ritual&&"number"==typeof n.ritual,s=void 0!==n.text&&"string"==typeof n.text,d=void 0!==n.pic&&"string"==typeof n.pic;return n&&e&&t&&r&&o&&a&&c&&i&&u&&l&&f&&s&&d}var b=function(){var n=Object(s.a)(f.a.mark((function n(e,t,r){var o;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=[],Array.isArray(e)||(e=[e]),e.forEach((function(n){p(n)&&o.push(Object(d.h)("spells",n,t))})),n.next=5,Promise.all(o);case 5:r();case 6:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}(),m=function(){var n=Object(s.a)(f.a.mark((function n(e){var t,r,o,a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(d.c)("spells");case 2:t=n.sent,r={spells:t},"application/json;charset=utf-8;",window.navigator&&window.navigator.msSaveOrOpenBlob?(o=new Blob([decodeURIComponent(encodeURI(JSON.stringify(r)))],{type:"application/json;charset=utf-8;"}),navigator.msSaveOrOpenBlob(o,e)):((a=document.createElement("a")).download=e,a.href="data:application/json;charset=utf-8;,"+encodeURIComponent(JSON.stringify(r)),a.target="_blank",document.body.appendChild(a),a.click(),document.body.removeChild(a));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),h=t(83),x=t.n(h),g=t(9),v=t(10);function O(){var n=Object(r.a)(["\n  flex: 3 1 auto;\n  height: 38px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ",";\n  color: ",";\n  margin-left: 5px;\n  border-radius: 5px;\n  width: 0;\n  min-width: 100px;\n"]);return O=function(){return n},n}function j(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return j=function(){return n},n}function w(){var n=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return w=function(){return n},n}function E(){var n=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 30px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return E=function(){return n},n}var k=function(n){var e=n.value,t=n.label,r=n.placeholder,o=n.icon,a=n.transform,i=n.onChange;return c.a.createElement(y,null,c.a.createElement(S,null,o?c.a.createElement(C,{icon:o,transform:a}):""," ",t),c.a.createElement(A,{type:"text",value:e,onChange:function(n){return i(n.target.value)},placeholder:r}))},y=i.b.label(E(),(function(n){return n.theme.tile.color}),(function(n){return n.theme.tile.backgroundColor})),C=Object(i.b)(v.a)(w(),(function(n){return n.theme.main.highlight})),S=i.b.div(j()),A=i.b.input(O(),(function(n){return n.theme.input.backgroundColor}),(function(n){return n.theme.input.color})),I=t(63),N=t(23);function z(){var n=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  color: ",";\n"]);return z=function(){return n},n}var D=function(n){var e=n.changeData,t=n.reload,r=Object(a.useState)(""),i=Object(o.a)(r,2),u=i[0],l=i[1],f=Object(a.useState)(!1),s=Object(o.a)(f,2),d=s[0],p=s[1],m=Object(a.useState)(),h=Object(o.a)(m,2),v=h[0],O=h[1],j=Object(a.useState)(),w=Object(o.a)(j,2),E=w[0],y=w[1],C=Object(a.useState)(new x.a(void 0,{host:"peerjs.thedndtome.com",secure:!0})),S=Object(o.a)(C,1)[0];Object(a.useEffect)((function(){var n=S.connect(u);n.on("open",(function(){n.on("error",(function(n){O(n)})),n.on("data",(function(n){console.log(n),y(n),e(n),t(!0)}))}))}),[S,u,e,t]);return c.a.createElement(c.a.Fragment,null,!!d&&c.a.createElement(N.b,null),c.a.createElement(k,{value:u,label:"ID to recive from",onChange:function(n){return l(n)}}),v&&c.a.createElement(R,{icon:g.f}),void 0!==E&&""!==u&&c.a.createElement(c.a.Fragment,null,c.a.createElement(I.a,{text:"Accept",icon:g.b,onClick:function(){void 0!==E&&(p(!0),b(E,"recived",(function(){l(""),e(void 0),t(!0),p(!1),y(void 0)})))}}),c.a.createElement(I.a,{text:"Decline",icon:g.b,onClick:function(){return l(""),e(void 0),t(!0),p(!1),void y(void 0)}})))},R=Object(i.b)(v.a)(z(),(function(n){return n.theme.main.highlight})),L=t(58),T=t(61),F=t(11);function M(){var n=Object(r.a)([""]);return M=function(){return n},n}function J(){var n=Object(r.a)(["\n  margin: -10px 5px -10px -10px;\n  height: 47px;\n  width: 47px;\n  float: left;\n  border-radius: 100px;\n  border: 3px solid ",";\n  box-shadow: 0px 0px 10px 0px rgba(172, 172, 172, 0.2);\n  background-color: white;\n  overflow: hidden;\n"]);return J=function(){return n},n}function U(){var n=Object(r.a)(["\n  height: auto;\n  float: left;\n  padding: 5px 10px 7px 10px;\n  margin-left: 5px;\n  font-size: 12px;\n  line-height: 30px;\n  border-radius: 0px 0px 10px 10px;\n"]);return U=function(){return n},n}function B(){var n=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  color: ",";\n"]);return B=function(){return n},n}function _(){var n=Object(r.a)(["\n  margin: 0 0 5px 0px;\n  width: calc(100% - 20px);\n"]);return _=function(){return n},n}function q(){var n=Object(r.a)(["\n  height: 12px;\n  width: calc(50% - 22.5px);\n  margin: 0 0 5px 5px;\n  float: left;\n  line-height: 10px;\n  padding: 10px;\n  font-size: 12px;\n  border-radius: 5px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n\n  &:nth-child(odd) {\n  margin: 0 0 5px 0px;\n  }\n}\n"]);return q=function(){return n},n}function P(){var n=Object(r.a)(["\n  height: auto;\n  width: calc(100% - 10px);\n  float: left;\n  padding: 5px 5px 0 5px;\n  display: flex;\n  flex-wrap: wrap;\n"]);return P=function(){return n},n}function G(){var n=Object(r.a)(["\n  height: 30px;\n  float: left;\n  padding: 10px;\n  margin: 0 5px 5px 5px;\n  font-size: 14px;\n  width: calc(100% - 30px);\n  color: ",";\n  text-align: center;\n  border-radius: 50px 5px 5px 50px;\n"]);return G=function(){return n},n}function W(){var n=Object(r.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  margin: 0 5px 5px 5px;\n  font-size: 14px;\n  width: calc(100% - 30px);\n  color: ",";\n  text-align: center;\n  border-radius: 5px;\n"]);return W=function(){return n},n}function Y(){var n=Object(r.a)(["\n  height: auto;\n  float: left;\n  padding: 10px;\n  width: 20px;\n  height: 20px;\n  line-height: 20px;\n  float: right;\n  text-align: center;\n  border-top-right-radius: 3px;\n  border-radius: 30px;\n  border-bottom: solid 1px ",";\n  margin: 5px;\n"]);return Y=function(){return n},n}function H(){var n=Object(r.a)(["\n  height: auto;\n  float: left;\n  padding: 5px 10px 7px 10px;\n  font-size: 12px;\n  line-height: 30px;\n  border-radius: 0px 0px 10px 0px;\n  background-color: ",";\n  color: ",";\n"]);return H=function(){return n},n}function K(){var n=Object(r.a)(["\n  flex: 1 1 15em;\n  color: ",";\n  background-color: ",";\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ",";\n  overflow: hidden;\n  cursor: pointer;\n"]);return K=function(){return n},n}var V=function(n){var e=n.spell,t=Object(a.useCallback)((function(){return void 0!==e?e.time.split(",")[0]:""}),[e]),r=Object(a.useCallback)((function(){return void 0!==e?0===e.level?"C":e.level:""}),[e]),o=Object(a.useCallback)((function(){return void 0!==e&&1===e.ritual?c.a.createElement("div",{className:"icon"},"R"):""}),[e]),i=Object(a.useCallback)((function(){if(void 0!==e&&e.duration.toLowerCase().includes("concentration"))return c.a.createElement("div",{className:"icon"},"C");return""}),[e]),u=Object(a.useCallback)((function(){if(void 0!==e){var n=e.components.split("(");return n.length>1?n[0]+"*":n[0]}return""}),[e]),l=Object(a.useCallback)((function(){if(void 0!==e){var n=e.duration.toLowerCase();return n.includes("concentration")?n.includes("concentration, ")?e.duration.replace("Concentration,","").trim():e.duration.replace("Concentration","").trim():e.duration}return""}),[e]),f=Object(a.useCallback)((function(){return void 0!==e?""===e.pic||null===e.pic?"":e.pic:""}),[e]);return c.a.createElement(Q,{to:"/spell-detail/id/"+e.id},c.a.createElement(X,{school:e.school},e.school),c.a.createElement(an,null,c.a.createElement("b",null,i())),c.a.createElement(an,null,c.a.createElement("b",null,o())),c.a.createElement(Z,null,c.a.createElement("b",null,r())),""!==f()?c.a.createElement(nn,null,c.a.createElement(cn,{pic:f()}),c.a.createElement("b",null,e.name)):c.a.createElement($,null,c.a.createElement("b",null,e.name)),c.a.createElement(en,null,c.a.createElement(tn,null,c.a.createElement(on,{icon:g.i}),t()),c.a.createElement(tn,null,c.a.createElement(on,{icon:g.k}),l()),c.a.createElement(tn,null,c.a.createElement(on,{icon:g.r,transform:{rotate:42}}),e.range),c.a.createElement(tn,null,c.a.createElement(on,{icon:g.p}),u()),c.a.createElement(rn,null,c.a.createElement(on,{icon:g.v}),e.classes),c.a.createElement(rn,null,c.a.createElement(on,{icon:g.m}),e.sources)))},Q=Object(i.b)(F.b)(K(),(function(n){return n.theme.tile.color}),(function(n){return n.theme.tile.backgroundColor}),(function(n){return n.theme.tile.boxShadow})),X=i.b.div(H(),(function(n){return n.theme.tile.backgroundColor}),(function(n){return"Necromancy"===n.school?"#bef28e":"Conjuration"===n.school?"#fce97a":"Evocation"===n.school?"#db5740":"Divination"===n.school?"#9ebed2":"Enchantment"===n.school?"#ce90ca":"Transmutation"===n.school?"#e19c60":"Abjuration"===n.school?"#278ae4":"Illusion"===n.school?"#8b42f9":"white"})),Z=i.b.div(Y(),(function(n){return n.theme.main.highlight})),$=i.b.div(W(),(function(n){return n.theme.tile.headerColor})),nn=i.b.div(G(),(function(n){return n.theme.tile.headerColor})),en=i.b.div(P()),tn=i.b.div(q()),rn=Object(i.b)(tn)(_()),on=Object(i.b)(v.a)(B(),(function(n){return n.theme.main.highlight})),an=i.b.div(U()),cn=function(n){var e=n.pic,t={backgroundImage:"url(".concat(e,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"};return""!==e?c.a.createElement(un,{style:t}):c.a.createElement(ln,null)},un=i.b.div(J(),(function(n){return n.theme.main.highlight})),ln=i.b.div(M()),fn=t(27),sn=t(17);function dn(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  min-width: calc(100% - 20px);\n  font-weight: bold;\n  text-algin: center;\n  border-radius: 5px;\n  color: ",";\n  background-color: ",";\n"]);return dn=function(){return n},n}function pn(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n  display: inline-block;\n  text-decoration: none;\n  background-color: ",";\n  height: 28px;\n  border: none;\n  border-radius: 5px;\n  padding-left: 10px;\n  padding-right: 10px;\n  margin: 5px;\n  text-align: center;\n  font-family: inherit;\n  font-size: 14px;\n  color: ",";\n  cursor: pointer;\n  line-height: 26px;\n"]);return pn=function(){return n},n}function bn(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n  color: ",";\n  background-color: ",";\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ",";\n  overflow: hidden;\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return bn=function(){return n},n}function mn(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return mn=function(){return n},n}var hn=function(){var n=Object(fn.b)(),e=n.theme,t=n.setTheme;return c.a.createElement(xn,null,c.a.createElement(gn,null,c.a.createElement(On,null,"Theme"),c.a.createElement(vn,{onClick:function(){e===sn.a?(t(sn.b),localStorage.setItem("theme","light")):(t(sn.a),localStorage.setItem("theme","dark"))}},"Toggle Style")))},xn=i.b.div(mn()),gn=Object(i.b)(xn)(bn(),(function(n){return n.theme.tile.color}),(function(n){return n.theme.tile.backgroundColor}),(function(n){return n.theme.tile.boxShadow})),vn=i.b.button(pn(),(function(n){return n.theme.buttons.backgroundColor}),(function(n){return n.theme.buttons.color})),On=i.b.div(dn(),(function(n){return n.theme.input.color}),(function(n){return n.theme.input.backgroundColor}));function jn(){var n=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  color: ",";\n"]);return jn=function(){return n},n}var wn=function(n){var e=n.data,t=n.mode,r=Object(a.useState)(""),i=Object(o.a)(r,2),u=i[0],l=i[1],f=Object(a.useState)(),s=Object(o.a)(f,2),p=s[0],b=s[1],m=Object(a.useState)(),h=Object(o.a)(m,2),v=h[0],O=h[1];return Object(a.useEffect)((function(){if(void 0===p){var n=function(){for(var n,e,t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;o<13;o++)t+=r[(n=0,e=r.length-1,Math.floor(Math.random()*(e-n+1))+n)];return t}(),t=new x.a(n,{host:"peerjs.thedndtome.com",secure:!0});console.log(t),t.on("connection",(function(n){n.on("error",(function(n){O(n)})),n.on("open",(function(){n.send(e)}))})),b(t)}}),[e,p]),Object(a.useEffect)((function(){void 0!==p&&(p.disconnected&&!p.destroyed&&p.reconnect(),"ALL"===t&&"string"===typeof e?Object(d.c)(e).then((function(n){console.log(n),l(e),p.on("connection",(function(e){e.on("error",(function(n){O(n)})),e.on("open",(function(){e.send(n)}))}))})):"THIS"===t&&"string"!==typeof e&&(l(e.name),p.on("connection",(function(n){n.on("error",(function(n){O(n)})),n.on("open",(function(){n.send(e)}))}))))}),[e,t,p]),c.a.createElement(c.a.Fragment,null,void 0!==p&&null!==p.id&&c.a.createElement(c.a.Fragment,null,c.a.createElement(k,{value:p.id,label:"Your ".concat(u," ID:"),onChange:function(){}})),v&&c.a.createElement(En,{icon:g.f}))},En=Object(i.b)(v.a)(jn(),(function(n){return n.theme.main.highlight}));function kn(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return kn=function(){return n},n}function yn(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n  margin: 5px;\n  min-width: calc(100% - 10px);\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  align-content: flex-start;\n"]);return yn=function(){return n},n}function Cn(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  min-width: calc(100% - 20px);\n  font-weight: bold;\n  text-algin: center;\n  border-radius: 5px;\n  color: ",";\n  background-color: ",";\n"]);return Cn=function(){return n},n}function Sn(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n  color: ",";\n  background-color: ",";\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ",";\n  overflow: hidden;\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return Sn=function(){return n},n}function An(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return An=function(){return n},n}function In(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return In=function(){return n},n}var Nn=function(n){var e=n.amount,t=n.triggerDeleteAll,r=Object(a.useState)(!1),i=Object(o.a)(r,2),l=i[0],f=i[1];return c.a.createElement(Dn,null,c.a.createElement(Rn,null,c.a.createElement(Ln,null,"Export"),c.a.createElement(Tn,null,c.a.createElement(Fn,null,"Export all Spells?"),c.a.createElement(T.a,{icon:g.g,onClick:function(){return n="spells",e="SkirmishTome_spells.json",void Object(d.b)(n,(function(t){var r=Object(u.a)({},n,t);if(window.navigator&&window.navigator.msSaveOrOpenBlob){var o=new Blob([decodeURIComponent(encodeURI(JSON.stringify(r)))],{type:"application/json;charset=utf-8;"});navigator.msSaveOrOpenBlob(o,e)}else{var a=document.createElement("a");a.download=e,a.href="data:application/json;charset=utf-8;,"+encodeURIComponent(JSON.stringify(r)),a.target="_blank",document.body.appendChild(a),a.click(),document.body.removeChild(a)}}));var n,e}}))),c.a.createElement(Rn,null,c.a.createElement(Ln,null,"Delete"),c.a.createElement(Tn,null,c.a.createElement(Fn,null,"Delete all ",e," Spells?"),c.a.createElement(T.a,{icon:g.u,onClick:function(){return t("spells")}}))),c.a.createElement(Rn,null,!l&&c.a.createElement(I.a,{text:"Send all spells",icon:g.q,onClick:function(){return f(!0)}}),!!l&&c.a.createElement(wn,{data:"spells",mode:"ALL"})))},zn=i.b.div(In()),Dn=Object(i.b)(zn)(An()),Rn=Object(i.b)(zn)(Sn(),(function(n){return n.theme.tile.color}),(function(n){return n.theme.tile.backgroundColor}),(function(n){return n.theme.tile.boxShadow})),Ln=i.b.div(Cn(),(function(n){return n.theme.input.color}),(function(n){return n.theme.input.backgroundColor})),Tn=i.b.div(yn()),Fn=i.b.div(kn());function Mn(){var n=Object(r.a)(["\n  flex: 3 1 auto;\n  height: 38px;\n  line-height: 30px;\n  padding: 5px;\n  box-sizing: border-box;\n  border: none;\n  background-color: ",";\n  color: ",";\n  margin-left: 5px;\n  border-radius: 5px;\n"]);return Mn=function(){return n},n}function Jn(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return Jn=function(){return n},n}function Un(){var n=Object(r.a)(["\n  margin-right: 5px;\n  width: 20px;\n  height: auto;\n  border-radius: 150px;\n  transition: color 0.2s;\n  color: ",";\n"]);return Un=function(){return n},n}function Bn(){var n=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  height: 38px;\n  line-height: 38px;\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  border-radius: 5px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return Bn=function(){return n},n}var _n,qn=function(n){var e=n.label,t=n.accept,r=n.isMulti,o=n.icon,a=n.transform,i=n.onChange;return c.a.createElement(Pn,null,c.a.createElement(Wn,null,o?c.a.createElement(Gn,{icon:o,transform:a}):""," ",e),r&&c.a.createElement(Yn,{onChange:function(n){return i(n.target.files)},type:"file",accept:t,multiple:!0}),!r&&c.a.createElement(Yn,{onChange:function(n){return i(n.target.files)},accept:t,type:"file"}))},Pn=i.b.label(Bn(),(function(n){return n.theme.tile.color}),(function(n){return n.theme.tile.backgroundColor})),Gn=Object(i.b)(v.a)(Un(),(function(n){return n.theme.main.highlight})),Wn=i.b.div(Jn()),Yn=i.b.input(Mn(),(function(n){return n.theme.input.backgroundColor}),(function(n){return n.theme.input.color})),Hn=t(106),Kn=t.n(Hn);function Vn(){var n=Object(r.a)(["\n  width: clac(100% - 20px);\n  height: 50px;\n  padding: 10px;\n"]);return Vn=function(){return n},n}function Qn(){var n=Object(r.a)(["\n  flex: 1 1 100%;\n"]);return Qn=function(){return n},n}!function(n){n[n.NORMAL=0]="NORMAL"}(_n||(_n={}));var Xn=function(n){var e=n.modus,t=Object(a.useState)([]),r=Object(o.a)(t,2),i=r[0],u=r[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement($n,null,c.a.createElement(qn,{label:"",isMulti:!0,accept:".json",icon:g.h,onChange:function(n){return function(n){if(console.log("Start File Upload"),null!==n){var e=Array.from(n);u(e)}}(n)}})),c.a.createElement($n,null,i&&i.map((function(n,t){return c.a.createElement(Zn,{key:t,modus:e,file:n})}))))},Zn=function(n){var e=n.file,t=n.modus,r=Object(a.useState)(0),i=Object(o.a)(r,2),u=i[0],l=i[1],p=Object(a.useState)(0),b=Object(o.a)(p,2),m=b[0],h=b[1],x=function(){var n=Object(s.a)(f.a.mark((function n(e,r){var a,c,i,u,s,p;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(console.log("Start 5eTools Json interpreting "+r),a=[],c=0,i=function(){var n=Object(o.a)(s[u],2),e=n[0],r=n[1];Array.isArray(r)&&(c+=r.length,t===_n.NORMAL&&r.forEach((function(n){return a.push({tableName:e,newEntitiy:n})})))},u=0,s=Object.entries(e);u<s.length;u++)i();h(c),p=f.a.mark((function n(){var e,t;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=a[0].tableName,t=a.filter((function(n){return n.tableName===e})).map((function(n){return n.newEntitiy})),n.next=4,Object(d.i)(e,t,r);case 4:a=a.filter((function(n){return n.tableName!==e})),l(c-a.length);case 6:case"end":return n.stop()}}),n)}));case 7:if(!(a.length>0)){n.next=11;break}return n.delegateYield(p(),"t0",9);case 9:n.next=7;break;case 11:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();return Object(a.useEffect)((function(){console.log("Start Filereader "+e.name);var n=new FileReader;n.onloadend=function(){var t=n.result;if(null!==t){var r=JSON.parse(t.toString());console.log("Json loaded from "+e.name),x(r,e.name)}},n.readAsText(e)}),[e]),c.a.createElement(ne,null,e.name," ",u,"/",m,c.a.createElement(Kn.a,{completed:Math.round(u/m*100),isLabelVisible:!1,bgcolor:"#F55C5C",height:"5px",margin:"5px"}))},$n=i.b.div(Qn()),ne=i.b.div(Vn());function ee(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  min-width: calc(100% - 20px);\n  font-weight: bold;\n  text-algin: center;\n  border-radius: 5px;\n  color: ",";\n  background-color: ",";\n"]);return ee=function(){return n},n}function te(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n  color: ",";\n  background-color: ",";\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ",";\n  overflow: hidden;\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return te=function(){return n},n}function re(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return re=function(){return n},n}var oe=function(){var n=Object(a.useState)(localStorage.getItem("webhook")+""),e=Object(o.a)(n,2),t=e[0],r=e[1],i=Object(a.useState)(localStorage.getItem("webhook_user")+""),u=Object(o.a)(i,2),l=u[0],f=u[1];return Object(a.useEffect)((function(){t!==localStorage.getItem("webhook")&&localStorage.setItem("webhook",t)}),[t]),Object(a.useEffect)((function(){l!==localStorage.getItem("webhook_user")&&localStorage.setItem("webhook_user",l)}),[l]),c.a.createElement(ae,null,c.a.createElement(ce,null,c.a.createElement(ie,null,"Discord Webhook"),c.a.createElement(k,{value:l,label:"PlayerName",onChange:f}),c.a.createElement(k,{value:t,label:"Webhook",onChange:r})))},ae=i.b.div(re()),ce=Object(i.b)(ae)(te(),(function(n){return n.theme.tile.color}),(function(n){return n.theme.tile.backgroundColor}),(function(n){return n.theme.tile.boxShadow})),ie=i.b.div(ee(),(function(n){return n.theme.input.color}),(function(n){return n.theme.input.backgroundColor}));function ue(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return ue=function(){return n},n}function le(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n  margin: 5px;\n  min-width: calc(100% - 10px);\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  align-content: flex-start;\n"]);return le=function(){return n},n}function fe(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n  padding: 5px;\n  margin: 5px;\n  min-width: calc(100% - 20px);\n  font-weight: bold;\n  text-algin: center;\n  border-radius: 5px;\n  color: ",";\n  background-color: ",";\n"]);return fe=function(){return n},n}function se(){var n=Object(r.a)(["\n  width: calc(100% - 1em);\n"]);return se=function(){return n},n}function de(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n  color: ",";\n  background-color: ",";\n  margin: 0.5em;\n  border-radius: 10px;\n  box-shadow: ",";\n  overflow: hidden;\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return de=function(){return n},n}function pe(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return pe=function(){return n},n}function be(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  align-content: flex-start;\n"]);return be=function(){return n},n}e.default=function(){var n=Object(a.useState)("General"),e=Object(o.a)(n,2),t=e[0],r=e[1],i=Object(a.useState)(0),u=Object(o.a)(i,2),l=u[0],f=u[1],s=Object(a.useState)(!0),b=Object(o.a)(s,2),h=b[0],x=b[1],v=Object(a.useState)(),O=Object(o.a)(v,2),j=O[0],w=O[1];Object(a.useEffect)((function(){h&&(Object(d.e)("spells",(function(n){f(n)})),x(!1))}),[h]);var E=function(n,e){return p(n)?c.a.createElement(V,{key:e,spell:n}):c.a.createElement(xe,{key:e},n.name)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(xe,null,c.a.createElement(ve,null,"Import"),c.a.createElement(Xn,{modus:_n.NORMAL})),c.a.createElement(xe,null,c.a.createElement(ve,null,"Export"),c.a.createElement(Oe,null,c.a.createElement(je,null,"Export as one file?"),c.a.createElement(T.a,{icon:g.g,onClick:function(){return m("SkirmishTome_all.json")}}))),c.a.createElement(L.a,{children:["General","Spells","Discord","Receive"],onChange:function(n){return r(n)},activeTab:t}),"General"===t&&c.a.createElement(hn,null),"Spells"===t&&c.a.createElement(Nn,{amount:l,triggerDeleteAll:function(n){Object(d.a)(n),x(!0)}}),"Discord"===t&&c.a.createElement(oe,null),"Receive"===t&&c.a.createElement(he,null,c.a.createElement(ge,null,c.a.createElement(D,{reload:x,changeData:w})),void 0!==j&&Array.isArray(j)&&j.map((function(n,e){return E(n,e)})),void 0!==j&&!Array.isArray(j)&&E(j,0)))};var me=i.b.div(be()),he=Object(i.b)(me)(pe()),xe=Object(i.b)(me)(de(),(function(n){return n.theme.tile.color}),(function(n){return n.theme.tile.backgroundColor}),(function(n){return n.theme.tile.boxShadow})),ge=Object(i.b)(xe)(se()),ve=i.b.div(fe(),(function(n){return n.theme.input.color}),(function(n){return n.theme.input.backgroundColor})),Oe=i.b.div(le()),je=i.b.div(ue())},50:function(n,e,t){"use strict";t.d(e,"h",(function(){return s})),t.d(e,"i",(function(){return d})),t.d(e,"b",(function(){return p})),t.d(e,"e",(function(){return b})),t.d(e,"f",(function(){return m})),t.d(e,"g",(function(){return h})),t.d(e,"c",(function(){return x})),t.d(e,"d",(function(){return g})),t.d(e,"a",(function(){return v}));var r=t(51),o=t.n(r),a=t(24),c=t(52),i=t(62),u=t(82),l=t(81),f=function(n){Object(u.a)(t,n);var e=Object(l.a)(t);function t(){var n;return Object(i.a)(this,t),(n=e.call(this,"SkirmishTomeDB")).spells=void 0,n.version(1).stores({spells:"++id, name, classes, sources, level, school, time, range, components, duration, ritual, text, pic"}),n.spells=n.table("spells"),n}return t}(t(71).a),s=function(n,e,t){var r=new f;return r.open().then(Object(c.a)(o.a.mark((function c(){var i;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return delete e.id,o.next=3,r.table(n).put(Object(a.a)(Object(a.a)({},e),{},{filename:t}));case 3:return i=o.sent,o.abrupt("return",i);case 5:case"end":return o.stop()}}),c)})))).finally((function(){r.close()}))},d=function(n,e,t){var r=new f;r.open().then(Object(c.a)(o.a.mark((function c(){var i,u;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return i=e.map((function(n){return delete n.id,Object(a.a)(Object(a.a)({},n),{},{filename:t})})),o.next=3,r.table(n).bulkPut(i);case 3:return u=o.sent,o.abrupt("return",u);case 5:case"end":return o.stop()}}),c)})))).finally((function(){r.close()}))},p=function(n,e){var t=new f;t.open().then((function(){t.table(n).toArray().then((function(n){e(n)}))})).finally((function(){t.close()}))},b=function(n,e){var t=new f;t.open().then((function(){t.table(n).count((function(n){e(n)}))})).finally((function(){t.close()}))},m=function(n){var e=new f;return e.open().then((function(){return e.table(n).count()})).finally((function(){e.close()}))},h=function(n,e,t){var r=new f;return"string"===typeof t?r.open().then(Object(c.a)(o.a.mark((function a(){return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,r.table(n).where(e).equalsIgnoreCase(t).count();case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}}),a)})))).finally((function(){r.close()})):"number"===typeof t?r.open().then(Object(c.a)(o.a.mark((function a(){return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,r.table(n).where(e).equals(t).count();case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}}),a)})))).finally((function(){r.close()})):r.open().then(Object(c.a)(o.a.mark((function a(){return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,r.table(n).where(e).equalsIgnoreCase(""+t).count();case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}}),a)})))).finally((function(){r.close()}))},x=function(n){var e=new f;return e.open().then(Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.table(n).toArray();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).finally((function(){e.close()}))},g=function(n,e){var t=new f;return t.open().then((function(){return t.table(n).orderBy(e).uniqueKeys()})).finally((function(){t.close()}))},v=function(n){var e=new f;e.open().then((function(){e.table(n).clear()})).finally((function(){e.close()}))}},58:function(n,e,t){"use strict";var r=t(2),o=t(0),a=t.n(o),c=t(1);function i(){var n=Object(r.a)(["\n  flex: 3 1 auto;\n  height: 30px;\n  line-height: 20px;\n  padding: 5px;\n  box-sizing: border-box;\n  text-align: center;\n  border: none;\n  background-color: ",";\n  color: ",";\n  margin: 2px;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: background-color 0.2s;\n\n  &:hover {\n    background-color: ",";\n    color: ",";\n  }\n\n  ","\n"]);return i=function(){return n},n}function u(){var n=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  min-width: calc(100% - 20px);\n  flex: 1 1 auto;\n  padding: 3px;\n  margin: 5px;\n  border-radius: 10px;\n  position: relative;\n  z-index: 100;\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: baseline;\n"]);return u=function(){return n},n}e.a=function(n){var e=n.children,t=n.activeTab,r=n.onChange;return a.a.createElement(l,null,e.map((function(n,e){return a.a.createElement(f,{key:e,onClick:function(e){return r(n)},isActive:n===t},n)})))};var l=c.b.div(u(),(function(n){return n.theme.tile.color}),(function(n){return n.theme.tile.backgroundColor})),f=c.b.div(i(),(function(n){return n.theme.input.backgroundColor}),(function(n){return n.theme.input.color}),(function(n){return n.theme.buttons.backgroundColor}),(function(n){return n.theme.buttons.color}),(function(n){if(n.isActive)return"background-color: ".concat(n.theme.buttons.backgroundColor,"; \n      color: ").concat(n.theme.buttons.color,";")}))},61:function(n,e,t){"use strict";var r=t(2),o=t(0),a=t.n(o),c=t(1),i=t(10);function u(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n"]);return u=function(){return n},n}function l(){var n=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  cursor: not-allowed;\n"]);return l=function(){return n},n}function f(){var n=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  cursor: pointer;\n\n  font-size: 16px;\n  overflow: hidden;\n  height: ",";\n  line-height: ",";\n  float: ",";\n  padding: 10px;\n  margin: 5px;\n  border-radius: 10px;\n  box-shadow: inset -2px -2px 5px 0px rgba(0, 0, 0, 0.3);\n\n  transition: color 0.2s;\n\n  &:hover {\n    color: white;\n  }\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n"]);return f=function(){return n},n}e.a=function(n){var e=n.icon,t=n.floatLeft,r=n.disabled,o=n.transform,c=n.style,i=n.onClick;return a.a.createElement(a.a.Fragment,null,!r&&a.a.createElement(s,{left:t,onClick:i,style:c},a.a.createElement(p,{icon:e,transform:o})),r&&a.a.createElement(d,{style:c},a.a.createElement(p,{icon:e,transform:o})))};var s=c.b.div(f(),(function(n){return n.theme.buttons.color}),(function(n){return n.theme.buttons.backgroundColor}),(function(n){return n.theme.buttons.height}),(function(n){return n.theme.buttons.height}),(function(n){return n.left?"left":"right"})),d=Object(c.b)(s)(l(),(function(n){return n.theme.buttons.backgroundColor}),(function(n){return n.theme.buttons.color})),p=Object(c.b)(i.a)(u())},63:function(n,e,t){"use strict";var r=t(2),o=t(0),a=t.n(o),c=t(1),i=t(10);function u(){var n=Object(r.a)(["\n  flex: 1 1 auto;\n  margin-right: 5px;\n"]);return u=function(){return n},n}function l(){var n=Object(r.a)(["\n  color: ",";\n  background-color: ",";\n  font-size: 16px;\n  overflow: hidden;\n  height: ",";\n  line-height: ",";\n  float: right;\n  padding: 10px;\n  margin: 5px;\n  border-radius: 10px;\n  cursor: pointer;\n  box-shadow: inset -2px -2px 5px 0px rgba(0, 0, 0, 0.3);\n  box-sizing: content-box;\n  border: none;\n\n  transition: color 0.2s;\n\n  &:hover {\n    color: ",";\n  }\n\n  &:disabled {\n    background-color: ",";\n  }\n\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n"]);return l=function(){return n},n}e.a=function(n){var e=n.text,t=n.icon,r=n.transform,o=n.disabled,c=n.style,i=n.onClick;return a.a.createElement(f,{onClick:i,disabled:o,style:c},t?a.a.createElement(s,{icon:t,transform:r}):""," ",e)};var f=c.b.button(l(),(function(n){return n.theme.buttons.color}),(function(n){return n.theme.buttons.backgroundColor}),(function(n){return n.theme.buttons.height}),(function(n){return n.theme.buttons.height}),(function(n){return n.theme.buttons.hoverColor}),(function(n){return n.theme.buttons.disabled})),s=Object(c.b)(i.a)(u())}}]);
//# sourceMappingURL=5.453a2612.chunk.js.map